(window.webpackJsonp=window.webpackJsonp||[]).push([["manifest"],{"0030":function(t,e,a){},"05b8":function(t,e,a){"use strict";a("93f6")},"093e":function(t,e,a){},"116b":function(t,e,a){"use strict";var s=a("bc3a"),i=a.n(s),r=a("4365"),n=a("47e3");const o=Object(r.d)()?"/api/v1/l2_data/":n.a.l2BaseUrl+"/api/v1/l2_data";e.a=i.a.create({baseURL:o})},1812:function(t,e,a){"use strict";var s={props:{href:{type:String},width:{type:Number,default:12},height:{type:Number,default:12}},computed:{style(){const t=this.width,e=this.height;return{width:t+"px",height:e+"px","background-size":`${t}px ${e}px`}}}},i=(a("68e6"),a("2877")),r=Object(i.a)(s,(function(){return(0,this._self._c)("a",{staticClass:"link",style:this.style,attrs:{href:this.href,target:"_blank"}})}),[],!1,null,"7b51a8df",null);e.a=r.exports},"1f91":function(t,e,a){"use strict";a("836c")},"20a8":function(t,e,a){"use strict";a("490a")},2216:function(t,e,a){},25:function(t,e){},2596:function(t,e,a){t.exports=a.p+"static/img/new.a2cb468e.png"},26:function(t,e){},"26e0":function(t,e,a){},27:function(t,e){},28:function(t,e){},29:function(t,e){},"2c55":function(t,e,a){},"2ffc":function(t,e,a){},30:function(t,e){},31:function(t,e){},"31d6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfISURBVHgBzVpvaBNnGH8upktbU01bZf3jJLJWtyFo7Yf1y2YGIsP6QcWpHWPt2KaIiA6GoAhtERQpldbp3DpGq471YxWU7YPTit0QpGtaGCitNp3VlFK1mrS1Se5uz/Pm7vre5d9dWjt/EHK5vHf3+z3/3ud9EwHmAIODg66cnJwtgiCssdlsbjy1VpZlF7671DH4nQ/ffJIkefG73nA43FlYWOiDWUKANEGkEQfw0IOEPJAGUJRXFMXm2YixLEAljqQPAmfh2QLv1xYKheqtCrEk4NmzZ7VzTdwI9Epdbm5uvenxZgb5/X63w+HowMO1MD/wTU9Pf2TGG7ZUA9Dq1Ui+B+aPPIEM1jM2NrYl1cCkApSQaYNXGDJJ4MKK1kEckg1KGEIK+Tp4DZAsL+IKINeRejpuaGiA0dFR2LVrFyxatAiKi4shOzsbXiWePHkCJ06cgNLSUtizZ0+UqCDUoIjzxrF24wlKWCTfqn6+d+8eBAIB6OrqgszMTHZzErB9+3ZYtmwZzBXh69evQ19fH/uclZUFDx48gMnJSW0MRkMTcrtpTOwYDzx9+nQQ39z8zem1cuVK3QObmpqgoqICKisrYTYg4rdv32b3IYur3u3t7WUGys/P54d78/LyyiCRAKtxf+HCBfYAXoQ84gfZ6wVpZARk/CzRQ5xOsL1dAvYy3bPh6tWrzBjkTbNhifzq8Zl1MQKUWj8IFjA1NQXHjx+Hz7dtg5L7AyD92QVSj5eRFhXy7F2OHkNBARPhrKmB+y9ewMWLF+HYsWNgEeOYDyswH8Z1AtASrZQoYBH9V67AX2e+g8+mX2pEefLkBVE5z3/3i9sNX586ZQwRU+C9wOYBsn465OF8KxQ3NkBfRLREnlIz8HAYJg8dgoh/BKwCuR7AcHdpAjIyMjxgFUhebmsDBx5myjJI6MuIgajIieKFTQkCvIHvL/sH4NHRoyAFg2ARLmzLD2oCsGwesHR51y1GXrXst6LIyDKLK+dUj0hIVjKcc+LBp5EIO57o7wf/6TNgFeiF9ew9neSVq3ayKsNbWCUPzhzI+PADcLzzLmQUFUEE55ApnEvGb9yAEIaLJgbTT8SrVFErTjdDTpm1dgtF5Ao469bwE1dK8r//BtLJk/hQOSa+M3fshLx9++ANV2zrhC6HEaw6j3/4EcIYMrxH6FpHSQm81/ozWAHe8wsbqrAkWzrfhsSRPAi6+M7+8it488iRuOQJaCQoqq6G0p9a2LxA5PncmBgYgACWYCsg7nhf2xqzF8j4EFENAyYi+nDHpkpYun8/3TDmmpaWFuju7tY+L169Gtz1dTO5AjNeGLvVBVaAz3PbsKa6zV4geb0xVYVerr1745InYI6xhqyxsVE7V7BxIyxcVzZDXo6+xnt6wCLWUBVymx1NictbjcLAvq4cspYvT3iNE8OF0N7ezryhYumGDVFDyNFKRUVg0vqc4Eq5IuNB9Zq3PEu+8vKE46mL7ezs1D6TCBX5nvVcqxENx1Aa84HdymgpGNAsrwrhQ4csjO0urFq1ipGnsKEQ4gXRZxqzYMGCmbmCe0VQhF3xmhmQAGqKTC0ZRVb+lPrNPZQnyIdJPBB5QuhFAERhxhhq2xEOWBNgUwSYgsySTdZNRsE7d7TvPR5P0us3b96sHT+/e1fnAXVOsQgfCTBdfMNcEkcrkQzB7r8hNB61QTnmw+7du+NeSwsidXnIntxxSddua43eiKVE9tmxjA4lKoFGiMoMyvc7dPzo3DlYcfgwG0MCyBOUsLQcLcJ2gshXVVUB7p+yMf9eugxjKFy1vLrwoZeVRKY9VhLgNSsgorYAoLfa6K/tYMcZ+C2cDwhEuLa2Nu49JoYfwT9nv4+GjxCbxCHMIwsCvDasBpfMDJZ48sBPZNGWYujsORg8cxbCuNJKhOFr1+CPT3ZA8LFfuR7rv9atCkzUhIW5ALl32mlphgv5TvzsSTZY5howkT1UbSVmktqHjdowhkdexfuszmcsdkHo+XMIotUf4+LdGDb6giCz+4aCE2ASXuTuY/MAuuImhpEn2egw1m+t+5TlmBlZtegUJuFDFDHUcZnNsERS5kqvGKf2z5yTYdpkCGEn2kzv6oKmCUyUU35VJUJsLvDlVR9ucnT+0CWsvptVX9MmPUDhowmgMEIvNCe7IKxsk+hWXLJRlLJAUT0ky1yzFj2OgMHyBo8ERvyQChgtbRQ+mgB2kMILEbRMvBY4Zg0sRJszzUuc1XVijWGonH8ZMFVGtX1STUAqL4h8Esux5LXVlWG21oQoHacxD0RuzUy5MhVIHkK0paJaXyeAoOy1xJ2Zs2i9utCpq93GPJANpHVEtQWQoBcny9p6gI5LNn0MSeDjd+UIMTMY7re4USWtLGIaPPKCqLiYyDoKCyBdUNPGz7oBrP8ZOU7ILy1JdAntyJXx1gdIvL1uaaE/H8CyuXXJkiUxk27cBQ0ObKNYg9cExCUeeULSJgj3S+vQbbXwP8K4G21Eyi5O+bWGwmm+fycbx7D5hqIh2SBTbaiS2DfAwgbALEEd8lZjwsaDpR+65yGk2FyULGSMsPxXA/IGupaEVMPcgRGnbkD94cIs0v6zBwkRRdGj7Gyn+yN4J3XC6RBXkbYAHqoY2qukv9xANFfc3JBx5UV/tRmilRQtpNIlzeM/FXHAdAFy320AAAAASUVORK5CYII="},32:function(t,e){},33:function(t,e){},3343:function(t,e,a){},"34ae":function(t,e,a){"use strict";a("a64c")},3568:function(t,e,a){"use strict";a.r(e);a("14d9");var s=a("6612"),i=a.n(s),r=(a("13d5"),a("313e")),n=(a("d9e2"),a("116b"));var o=a("ceb7"),c=a("f23e"),l=a("d147"),d=a("7793"),h=a("cb81"),u=a("d186"),p=a("d48f");const m=t=>t-t%864e5;function f(t,e){const a=new Date("string"==typeof e?e.replace(/-/g,"/"):e).getTime(),s=new Date("string"==typeof t?t.replace(/-/g,"/"):t).getTime(),i=[];for(let t=a;t>=s;)i.push({start:m(new Date(t).getTime())-5184e5,end:m(new Date(t).getTime())}),t-=6048e5;return i}const g=["Arbitrum","Aztec","Boba","Gluon","Hermez","Immutable X","Loopring","Metis","OMG","Optimism","StarkNet","ZkSpace","ZkSwapV2","ZkSync","dYdX","ScrollL1","ScrollL2"],_={},v=["Ethereum Mainnet Transactions"],w=["rgba(17, 112, 255, 0.8)","rgba(239, 47, 45, 1)","rgba(17, 112, 255, 1)"],b=t=>1e3*t,y=t=>t-t%864e5,C=["starknet"];var A={components:{Selector:o.a,TimeDiff:c.a,ChainsLogo:l.a,SvgIconThemed:h.a,RollupDetail:d.a},data:()=>({checkerData:[{value:3,label:"3m"},{value:6,label:"6m"},{value:12,label:"1y"},{value:"Max",label:"Max"}],defaultSort:{prop:"txs",order:"descending"},baseChartData:{},currentChartTime:6,allSeries:v,color:w,checkData:["Ethereum Mainnet Transactions"]}),computed:{isMobile:()=>u.e.value,filteredChartData(){const t=this.baseChartData;if(!t||!t.tx_data)return[];let e=[];if([3,6].includes(this.currentChartTime))e=Array.from({length:30*this.currentChartTime},(t,e)=>e+1);else if([12].includes(this.currentChartTime))e=Array.from({length:30*this.currentChartTime+4},(t,e)=>e+1);else{e=t.tx_data?Object.keys(t.tx_data):[];let a=e.length%7;0!=a&&e.splice(-a)}return e.map(e=>t.tx_data[e])},latestData(){const t=this.baseChartData;if(t&&t.tx_data)return t.tx_data[1]},latestDataRank(){return this.latestData?Object.keys(this.latestData.rollups).map(t=>({name:t,transactions:this.latestData.rollups[t]})).sort((t,e)=>e.transactions-t.transactions).slice(0,10).map((t,e)=>({...t,no:e+1})):[]},isLightMode(){return"light"===this.$store.state.themeMode}},watch:{filteredChartData(){this._chart&&this._chart.setOption(this._getChartOptions())},isLightMode(){this._chart&&this._chart.setOption(this._getChartOptions())}},async mounted(){if(this._initChart(),this.$loader.show(),this.baseChartData=await async function(){let t;try{if(t=await n.a.get("/mainpage_rollup_tx_by_day"),"success"!==t.data.status)throw Error()}catch(t){console.error("Failed to get l2data",t)}return t?t.data.data:void 0}(),this.baseChartData){const{query:t}=this.$route;null!=t&&t.rollup_name&&this.handleRoute({rollup_name:null==t?void 0:t.rollup_name})}this.$loader.hide(),window.addEventListener("resize",this._onResize)},beforeDestroy(){window.removeEventListener("resize",this._onResize)},methods:{numeral:i.a,dateFormat:p.a,_onResize(){this._chart&&this._chart.resize()},_initChart(){this.$nextTick(()=>{const t=document.getElementById("l2-data-chart"),e=r.init(t);this._chart=e})},isShowDetail:t=>C.includes(t.toLowerCase()),onCheckerClick(t){if(this.checkData.includes(t)?this.checkData=this.checkData.filter(e=>e!==t):this.checkData=this.checkData.concat([t]),this._chart){this._chart.clear();const t=this._getChartOptions();this._chart.setOption(t)}},_getChartOptions(){const{times:t,data:e,data_l1:a}=this._getData(),s={width:"100%",title:{show:!1},grid:{top:10,left:"0",right:"30",bottom:"26",containLabel:!0},legend:{right:0,lineStyle:{color:"rgba(245, 245, 245, 1)",width:1}},xAxis:{type:"category",boundaryGap:!1,data:t,axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},splitLine:{lineStyle:{color:this.isLightMode?" rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}},axisLabel:{padding:[0,5,0,5],formatter:t=>Object(p.a)(parseInt(t),"yyyy-MM-dd")}},yAxis:[{type:"value",axisTick:{show:!1},splitNumber:3,axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},splitLine:{lineStyle:{color:this.isLightMode?"rgb(246, 246, 246)":"rgb(63, 65, 91)"}},axisPointer:{show:!1}}],tooltip:{trigger:"axis",pading:0,backgroundColor:"transparent",formatter:this._onFormatter,position:function(t,e,a,s,i){const r={top:40};return r[["left","right"][+(t[0]<i.viewSize[0]/2)]]=-30,r}},series:[{type:"line",smooth:!0,lineStyle:{width:4,color:"#DF2E2D"},showSymbol:!1,areaStyle:{opacity:.8,color:new r.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(232, 94, 36, 0.24)"},{offset:1,color:"rgba(232, 94, 36, 0)"}])},emphasis:{focus:"series"},data:e}]};return this.isMobile&&(s.grid={top:10,left:"0",right:"0",bottom:"20",containLabel:!0}),this.checkData.includes("Ethereum Mainnet Transactions")&&(s.series[1]={type:"line",smooth:!0,lineStyle:{width:4,color:"rgb(17, 112, 255)"},showSymbol:!1,areaStyle:{opacity:.8,color:new r.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(17, 112, 255, 0.24)"},{offset:1,color:"rgba(17, 112, 255, 0)"}])},emphasis:{focus:"series"},data:a}),s},_getData(){const t=this.currentChartTime;if([3,6].includes(t))return{times:this.filteredChartData.map(t=>b(t.timestamp)).reverse(),data:this.filteredChartData.map(t=>t.all).reverse(),data_l1:this.filteredChartData.map(t=>t.all_l1).reverse()};if([12,"Max"].includes(t)){const e=f(12===t?y((new Date).getTime())-31104e6:b(this.filteredChartData[this.filteredChartData.length-1].timestamp),b(this.filteredChartData[0].timestamp)),a=e.map(t=>this.filteredChartData.filter(e=>b(e.timestamp)>=t.start&&b(e.timestamp)<=t.end).reduce((t,e)=>t+e.all,0)).reverse(),s=e.map(t=>this.filteredChartData.filter(e=>b(e.timestamp)>=t.start&&b(e.timestamp)<=t.end).reduce((t,e)=>t+e.all_l1,0)).reverse();return{times:e.map(t=>t.end).reverse(),data:a,data_l1:s}}},_onFormatter([t,e]){let a={};if(_[t.axisValue])a=_[t.axisValue];else{const e=this._getRollupsByTime(t.axisValue);a=Object.keys(e).map(t=>({name:t,value:e[t]})).sort((t,e)=>e.value-t.value),_[t.axisValue]=a}if(!a.length)return;const s=new Date(parseInt(t.axisValue)).getTime();let r=s-5184e5;const n=f(12===this.currentChartTime?y((new Date).getTime())-31104e6:b(this.filteredChartData[this.filteredChartData.length-1].timestamp),b(this.filteredChartData[0].timestamp));r<=n[n.length-1].start&&(r=n[n.length-1].start);const o=[3,6].includes(this.currentChartTime)?Object(p.a)(parseInt(t.axisValue),"yyyy-MM-dd"):`From ${Object(p.a)(r,"yyyy-MM-dd")} to ${Object(p.a)(s,"yyyy-MM-dd")}`,c=this.currentChartTime;if([12,"Max"].includes(c)){let t=this.filteredChartData.filter(t=>b(t.timestamp)>=r&&b(t.timestamp)<=s).map(t=>t.rollups),e={},i=[];t.map(t=>{for(const a in t)e[a]?e[a].value=t[a]?e[a].value+t[a]:e[a].value:e[a]={name:a,value:t[a]?t[a]:0}});for(const t in e)i.push(e[t]);i.sort((t,e)=>e.value-t.value),a=i}const l=a.slice(0,10),d=a.slice(10).reduce((t,e)=>({name:"Others",value:t.value?t.value+e.value:e.value}),{});return`<div class="chart-popover-content">\n                <div class="chart-popover-title">${o}</div>\n                    ${this.checkData.includes("Ethereum Mainnet Transactions")?`<div class="chart-popover-total-transactions">\n                    Ethereum Transactions: <span style='color: rgb(17, 112, 255)'>${i()(e.data).format("0,0")}</span>\n                  </div>`:""}\n                    <div class="chart-popover-total-transactions">\n                    Layer2 Total Transactions: <span>${i()(t.data).format("0,0")}</span>\n                    </div>\n                    <div class="chart-popover-rollups">\n                    ${l.concat([d]).map(e=>`<div class="chart-popover-rollup">\n                            <div class="name">${e.name}</div>\n                            <div class="transactions">\n                                ${i()(e.value).format("0,0")}\n                            </div>\n                            <div class="percentage">\n                                ${i()(e.value/t.data).format("0.00%")}\n                            </div>\n                          </div> `).join("")}\n                </div>\n              </div>`},_getRollupsByTime(t){if([3,6].includes(this.currentChartTime))return this.filteredChartData.find(({timestamp:e})=>1e3*e===parseInt(t)).rollups;const e=new Date(parseInt(t)).getTime(),a=e-6048e5;return this.filteredChartData.filter(t=>b(t.timestamp)>a&&b(t.timestamp)<e).reduce((t,e)=>(g.forEach(a=>{const s=e.rollups[a];t[a]=t[a]?t[a]+s:s}),t),{})},closeRollupDetail(){const{path:t,query:e}=this.$route,a=JSON.parse(JSON.stringify(e||{}));delete a.rollup_name;const s=[];for(const t in a)s.push(`${t}=${a[t]}`);const i=t+"?"+s.join("&");this.$router.replace({path:i,query:a})},onRowClick(t){this.handleRoute({rollup_name:t})},handleRoute({rollup_name:t}){const{path:e,query:a}=this.$route,s=JSON.parse(JSON.stringify(a||{}));if(t instanceof Array&&(t=t[0]),t)if((null==s?void 0:s.rollup_name)!==t){s.rollup_name=t,this.$refs.rolluoDetail.show({rollup_name:t},!0);let a=[];for(const t in s)a.push(`${t}=${s[t]}`);const i=e+"?"+a.join("&");this.$router.replace({path:i,query:s})}else this.$refs.rolluoDetail.show({rollup_name:t},!0)}}},k=(a("34ae"),a("b986"),a("2877")),T=Object(k.a)(A,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"chart-wrapper"},[e("div",{staticClass:"chart"},[e("div",{staticClass:"head"},[e("div",{staticClass:"title"},[t._v("Layer2 Transactions Chart")]),e("div",{staticClass:"checke-wrap"},[e("selector",{attrs:{data:t.checkerData,value:t.currentChartTime},on:{change:e=>t.currentChartTime=e.value}})],1)]),e("div",{staticClass:"checker"},t._l(t.allSeries,(function(a,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){return t.onCheckerClick(a)}}},[e("div",{staticClass:"checkbox",class:{active:t.checkData.includes(a)}}),e("div",{staticClass:"line",style:{background:t.color[s]}}),e("div",{staticClass:"name"},[t._v(t._s(a))])])})),0),e("div",{attrs:{id:"l2-data-chart"}})]),e("div",{staticClass:"rollups"},[e("div",{staticClass:"head"},[e("div",{staticClass:"title"},[t._v(" Rollups by Daily Transactions "),t.isMobile?t._e():[t._v(" ,"+t._s(t.latestData?t.dateFormat(t.latestData.timestamp_read,"yyyy-MM-dd"):"-")+" ")]],2),!t.isMobile&&t.baseChartData&&t.baseChartData.update_time?e("time-diff",{attrs:{timestamp:t.baseChartData.update_time}}):t._e(),e("div",{staticClass:"more",on:{click:function(e){return t.$router.push({path:"/dataDetail",query:{nav:"Rollups"}})}}},[t._v(" More "),e("img",{attrs:{src:a("ca50"),width:"8",height:"12"}})])],1),e("div",{staticClass:"contents"},[e("div",{staticClass:"content1"},t._l(t.latestDataRank.slice(0,5),(function(a,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"no"},[t._v(" "+t._s(a.no)+" ")]),e("chains-logo",{attrs:{name:a.name}}),e("div",{staticClass:"name",on:{click:function(e){return t.onRowClick(a.name)}}},[t._v(" "+t._s(a.name)+" ")]),t.isShowDetail(a.name)?e("div",{staticClass:"icon",on:{click:function(e){return t.onRowClick(a.name)}}},[e("svg-icon-themed",{attrs:{icon:"searchChartIcon",size:"lg"}})],1):t._e(),e("div",{staticClass:"num"},[t._v(" "+t._s(t.numeral(a.transactions).format("0,0"))+" ")])],1)})),0),e("div",{staticClass:"content2"},t._l(t.latestDataRank.slice(5,10),(function(a,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"no"},[t._v(" "+t._s(a.no)+" ")]),e("chains-logo",{attrs:{name:a.name}}),e("div",{staticClass:"name",on:{click:function(e){return t.onRowClick(a.name)}}},[t._v(" "+t._s(a.name)+" ")]),t.isShowDetail(a.name)?e("div",{staticClass:"icon",on:{click:function(e){return t.onRowClick(a.name)}}},[e("svg-icon-themed",{attrs:{icon:"searchChartIcon",size:"lg"}})],1):t._e(),e("div",{staticClass:"num"},[t._v(" "+t._s(t.numeral(a.transactions).format("0,0"))+" ")])],1)})),0)]),e("rollup-detail",{ref:"rolluoDetail",on:{close:t.closeRollupDetail}})],1)])}),[],!1,null,"3c75a81b",null).exports,P=a("f690"),S=a("ede9"),x=a("1812"),D=a("9e9d"),I=a("c64e"),E=a("fa91");var L=a("d920");var U={mixins:[a("848bc").a],data:()=>({webStatus:0,currentRollup:void 0,baseDappDailyData:{},tableData:[],rollups:[],currentSort:{prop:"24h_active_users",order:"descending"}}),computed:{isMobile:()=>u.e.value,name(){const t=this.rollups.find(t=>t.value===this.currentRollup);return t?t.label:""}},watch:{currentRollup(){this._getDappDailyData()}},components:{Chart:T,Rollups:P.a,TimeDiff:c.a,DappLogo:E.a,IconLink:S.a,TwitterLink:D.a,ScanLink:x.a,DappDetail:I.a},async mounted(){this.webStatus=await async function(){try{return"success"===(await n.a.get("/check_available")).data.status}catch(t){return console.error("Failed to get l2data",t),!1}}()?1:2,2!==this.webStatus&&(this.rollups=await Object(L.b)("mainpage"),this.allTab=this.rollups.map(t=>t.value))},methods:{numeral:i.a,dateFormat:p.a,async _getDappDailyData(){const t=await async function(t){let e;try{if(e=await n.a.get("/mainpage_dapp_daily_data/"+t),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get dapp daily data",t)}return e?e.data.data:void 0}(this.currentRollup);this.baseDappDailyData=t;const e=t&&t.table_data;this.tableData=e;const{query:a}=this.$route;null!=a&&a.floater&&this.handleRoute({floater:null==a?void 0:a.floater})},onSortChange({prop:t,order:e}){let a=JSON.parse(JSON.stringify(this.tableData));const s="ascending"===e;if(this.currentSort={prop:t,order:e},null===!e)return void(this.tableData=a);"all_users"===t&&(a=a.sort((t,e)=>{const a=t.all_users,i=e.all_users;return!!t.rank&&(!e.rank||(s?a-i:i-a))})),["24h_active_users","24h_new_users","24h_interactions"].includes(t)&&(a=a.sort((e,a)=>{const i=e[t],r=a[t];return!!e.rank&&(!a.rank||(s?i-r:r-i))})),"launch_time"===t&&(a=a.sort((t,e)=>{const a=new Date(t.launch_time).getTime(),i=new Date(e.launch_time).getTime();return!!t.rank&&(!e.rank||(s?a-i:i-a))}));const i=a.filter(t=>t.rank),r=a.filter(t=>!t.rank);for(let t=0;t<i.length;t++)i[t].rank=t+1;this.tableData=[...r,...i]},openTwitter(){window.open("https://twitter.com/OrbiterResearch","_blank")},openUrl(t){window.open(t,"_blank")}}},V=(a("a94ab"),Object(k.a)(U,(function(){var t=this,e=t._self._c;return e("div",[2===t.webStatus?e("div",{staticClass:"l2data",staticStyle:{display:"flex","justify-content":"center","align-items":"center","text-align":"center",height:"350px"}},[e("span",{staticStyle:{"line-height":"25px",width:"400px","font-size":"18px","font-family":"'Inter Regular'",color:"#81807C"}},[t._v(" Our L2Data dashboard is temporarily offline for essential maintenance."),e("br"),t._v(" Apologies for any inconvenience."),e("br"),t._v(" For feedback or concerns, please reach out to us on "),e("span",{staticClass:"url",on:{click:function(e){return t.openUrl("https://twitter.com/OrbiterResearch")}}},[t._v("Twitter")]),t._v(" or "),e("span",{staticClass:"url",on:{click:function(e){return t.openUrl("http://discord.gg/hJJvXP7C73")}}},[t._v("Discord")]),t._v(".")])]):t._e(),1===t.webStatus?e("div",{staticClass:"l2data"},[e("Chart"),e("div",{staticClass:"dapp-daily-data"},[e("div",{staticClass:"head"},[e("rollups",{attrs:{customRollups:t.rollups,value:t.currentRollup},on:{"rollup-change":t.rollupChange}}),e("div",{staticClass:"more",on:{click:function(e){return t.$router.push({path:"/dataDetail",query:{nav:"Dapps"}})}}},[t._v(" More "),e("img",{attrs:{src:a("ca50"),width:"8",height:"12"}})])],1),e("div",{staticClass:"title"},[t._v(" "+t._s(t.name)+" Dapp Daily Data "+t._s(!t.isMobile&&t.baseDappDailyData&&t.baseDappDailyData.update_time?","+t.dateFormat(1e3*(t.baseDappDailyData.update_time-86400),"yyyy-MM-dd"):t.isMobile?"":"-")+" "),!t.isMobile&&t.baseDappDailyData&&t.baseDappDailyData.update_time?e("time-diff",{attrs:{timestamp:t.baseDappDailyData.update_time}}):t._e(),e("div",{staticClass:"contact"},[e("div",{staticClass:"rollup active",on:{click:t.openTwitter}},[t._v(" Contact"+t._s(t.isMobile?"":" Us")+" ")])])],1),e("div",{class:t.tableData.find(t=>0===t.rank)?"table":"table-none"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"empty-text":"No Items"},on:{"sort-change":t.onSortChange}},[e("el-table-column",{attrs:{fixed:"",label:"Dapp Name",width:t.isMobile?150:300},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"name-column"},[[0!==a.row.rank?e("div",{staticClass:"rank"},[t._v(" "+t._s(a.row.rank)+" ")]):e("div",{staticClass:"new"},[e("span",[t._v(" NEW ")])])],0===a.row.rank&&!t.isMobile||0!==a.row.rank?e("dapp-logo",{attrs:{name:a.row.dapp_name,rollup:t.currentRollup}}):t._e(),0!==a.row.rank?e("div",{staticClass:"name",attrs:{title:a.row.dapp_name},on:{click:function(e){return t.onRowClick(a.row)}}},[t._v(" "+t._s(a.row.dapp_name)+" ")]):t._e(),0===a.row.rank?e("div",{staticClass:"name-disable",attrs:{title:a.row.dapp_name}},[t._v(" "+t._s(a.row.dapp_name)+" ")]):t._e(),t.isMobile?t._e():e("div",{staticStyle:{width:"50px",display:"flex"}},[0===a.row.rank?[e("scan-link",{attrs:{href:a.row.dapp_url,width:13,height:13}})]:[e("icon-link",{attrs:{href:a.row.dapp_url}}),a.row.dapp_twitter?e("twitter-link",{attrs:{href:a.row.dapp_twitter}}):t._e()]],2)],2)]}}],null,!1,940403260)}),e("el-table-column",{attrs:{prop:"launch_time",label:"Launch Date",width:"145",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.dateFormat(a.row.launch_time,"yyyy-MM-dd"))+" ")])]}}],null,!1,1852487722)}),e("el-table-column",{attrs:{prop:"all_users",label:"All Users",width:"110",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row.all_users).format("0,0"))+" ")])]}}],null,!1,1029471958)}),e("el-table-column",{attrs:{prop:"24h_active_users",label:"24h Active Users",width:"175",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_active_users"]).format("0,0"))+" ")])]}}],null,!1,2481897986)}),e("el-table-column",{attrs:{prop:"24h_new_users",label:"24h New Users",width:"170",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_new_users"]).format("0,0"))+" ")])]}}],null,!1,408585554)}),e("el-table-column",{attrs:{prop:"24h_interactions",label:"24h Interactions",width:"180",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_interactions"]).format("0,0"))+" ")])]}}],null,!1,2316508474)})],1)],1),e("dapp-detail",{ref:"dappDetail",on:{close:t.closeDappDetail}})],1)],1):t._e()])}),[],!1,null,null,null));e.default=V.exports},"3a93":function(t,e,a){"use strict";a("9fcb")},"47a3":function(t,e,a){"use strict";a("26e0")},"490a":function(t,e,a){},4919:function(t,e,a){},"4fe9":function(t,e,a){t.exports=a.p+"static/img/apex.b7bc7e6b.png"},"5d38":function(t,e,a){"use strict";a("7666")},6295:function(t,e,a){},"64ed":function(t,e,a){"use strict";a("2216")},"68e6":function(t,e,a){"use strict";a("ee70")},"6bc0":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfISURBVHgBzVpvaBNnGH8upktbU01bZf3jJLJWtyFo7Yf1y2YGIsP6QcWpHWPt2KaIiA6GoAhtERQpldbp3DpGq471YxWU7YPTit0QpGtaGCitNp3VlFK1mrS1Se5uz/Pm7vre5d9dWjt/EHK5vHf3+z3/3ud9EwHmAIODg66cnJwtgiCssdlsbjy1VpZlF7671DH4nQ/ffJIkefG73nA43FlYWOiDWUKANEGkEQfw0IOEPJAGUJRXFMXm2YixLEAljqQPAmfh2QLv1xYKheqtCrEk4NmzZ7VzTdwI9Epdbm5uvenxZgb5/X63w+HowMO1MD/wTU9Pf2TGG7ZUA9Dq1Ui+B+aPPIEM1jM2NrYl1cCkApSQaYNXGDJJ4MKK1kEckg1KGEIK+Tp4DZAsL+IKINeRejpuaGiA0dFR2LVrFyxatAiKi4shOzsbXiWePHkCJ06cgNLSUtizZ0+UqCDUoIjzxrF24wlKWCTfqn6+d+8eBAIB6OrqgszMTHZzErB9+3ZYtmwZzBXh69evQ19fH/uclZUFDx48gMnJSW0MRkMTcrtpTOwYDzx9+nQQ39z8zem1cuVK3QObmpqgoqICKisrYTYg4rdv32b3IYur3u3t7WUGys/P54d78/LyyiCRAKtxf+HCBfYAXoQ84gfZ6wVpZARk/CzRQ5xOsL1dAvYy3bPh6tWrzBjkTbNhifzq8Zl1MQKUWj8IFjA1NQXHjx+Hz7dtg5L7AyD92QVSj5eRFhXy7F2OHkNBARPhrKmB+y9ewMWLF+HYsWNgEeOYDyswH8Z1AtASrZQoYBH9V67AX2e+g8+mX2pEefLkBVE5z3/3i9sNX586ZQwRU+C9wOYBsn465OF8KxQ3NkBfRLREnlIz8HAYJg8dgoh/BKwCuR7AcHdpAjIyMjxgFUhebmsDBx5myjJI6MuIgajIieKFTQkCvIHvL/sH4NHRoyAFg2ARLmzLD2oCsGwesHR51y1GXrXst6LIyDKLK+dUj0hIVjKcc+LBp5EIO57o7wf/6TNgFeiF9ew9neSVq3ayKsNbWCUPzhzI+PADcLzzLmQUFUEE55ApnEvGb9yAEIaLJgbTT8SrVFErTjdDTpm1dgtF5Ao469bwE1dK8r//BtLJk/hQOSa+M3fshLx9++ANV2zrhC6HEaw6j3/4EcIYMrxH6FpHSQm81/ozWAHe8wsbqrAkWzrfhsSRPAi6+M7+8it488iRuOQJaCQoqq6G0p9a2LxA5PncmBgYgACWYCsg7nhf2xqzF8j4EFENAyYi+nDHpkpYun8/3TDmmpaWFuju7tY+L169Gtz1dTO5AjNeGLvVBVaAz3PbsKa6zV4geb0xVYVerr1745InYI6xhqyxsVE7V7BxIyxcVzZDXo6+xnt6wCLWUBVymx1NictbjcLAvq4cspYvT3iNE8OF0N7ezryhYumGDVFDyNFKRUVg0vqc4Eq5IuNB9Zq3PEu+8vKE46mL7ezs1D6TCBX5nvVcqxENx1Aa84HdymgpGNAsrwrhQ4csjO0urFq1ipGnsKEQ4gXRZxqzYMGCmbmCe0VQhF3xmhmQAGqKTC0ZRVb+lPrNPZQnyIdJPBB5QuhFAERhxhhq2xEOWBNgUwSYgsySTdZNRsE7d7TvPR5P0us3b96sHT+/e1fnAXVOsQgfCTBdfMNcEkcrkQzB7r8hNB61QTnmw+7du+NeSwsidXnIntxxSddua43eiKVE9tmxjA4lKoFGiMoMyvc7dPzo3DlYcfgwG0MCyBOUsLQcLcJ2gshXVVUB7p+yMf9eugxjKFy1vLrwoZeVRKY9VhLgNSsgorYAoLfa6K/tYMcZ+C2cDwhEuLa2Nu49JoYfwT9nv4+GjxCbxCHMIwsCvDasBpfMDJZ48sBPZNGWYujsORg8cxbCuNJKhOFr1+CPT3ZA8LFfuR7rv9atCkzUhIW5ALl32mlphgv5TvzsSTZY5howkT1UbSVmktqHjdowhkdexfuszmcsdkHo+XMIotUf4+LdGDb6giCz+4aCE2ASXuTuY/MAuuImhpEn2egw1m+t+5TlmBlZtegUJuFDFDHUcZnNsERS5kqvGKf2z5yTYdpkCGEn2kzv6oKmCUyUU35VJUJsLvDlVR9ucnT+0CWsvptVX9MmPUDhowmgMEIvNCe7IKxsk+hWXLJRlLJAUT0ky1yzFj2OgMHyBo8ERvyQChgtbRQ+mgB2kMILEbRMvBY4Zg0sRJszzUuc1XVijWGonH8ZMFVGtX1STUAqL4h8Esux5LXVlWG21oQoHacxD0RuzUy5MhVIHkK0paJaXyeAoOy1xJ2Zs2i9utCpq93GPJANpHVEtQWQoBcny9p6gI5LNn0MSeDjd+UIMTMY7re4USWtLGIaPPKCqLiYyDoKCyBdUNPGz7oBrP8ZOU7ILy1JdAntyJXx1gdIvL1uaaE/H8CyuXXJkiUxk27cBQ0ObKNYg9cExCUeeULSJgj3S+vQbbXwP8K4G21Eyi5O+bWGwmm+fycbx7D5hqIh2SBTbaiS2DfAwgbALEEd8lZjwsaDpR+65yGk2FyULGSMsPxXA/IGupaEVMPcgRGnbkD94cIs0v6zBwkRRdGj7Gyn+yN4J3XC6RBXkbYAHqoY2qukv9xANFfc3JBx5UV/tRmilRQtpNIlzeM/FXHAdAFy320AAAAASUVORK5CYII="},7042:function(t,e,a){"use strict";a("a421")},"73c9":function(t,e,a){},7666:function(t,e,a){},"773f":function(t,e,a){},7785:function(t,e,a){"use strict";a("0030")},7793:function(t,e,a){"use strict";a("14d9");var s=a("6612"),i=a.n(s),r=a("313e"),n=a("d186"),o=(a("d9e2"),a("116b"));var c=a("fa91"),l=a("9e9d"),d=a("ede9"),h=a("ceb7"),u=a("d48f"),p=a("f23e");const m=["All Users","Active Users","New Users"],f=["All Interactions","Bridge Interactions","Other Interactions"],g=["rgba(0, 0, 255, 0.8)","rgba(239, 47, 45, 1)","rgba(17, 112, 255, 1)"],_={"All Users":"rgba(0, 0, 255, 0.8)","Active Users":"rgba(239, 47, 45, 1)","New Users":"rgba(17, 112, 255, 1)","All Interactions":"rgba(0, 0, 255, 0.8)","Bridge Interactions":"rgba(239, 47, 45, 1)","Other Interactions":"rgba(17, 112, 255, 1)",Transactions:"rgba(17, 112, 255, 1)","L2 Total Fee":"rgba(239, 47, 45, 1)","L1 Total Fee":"rgba(17, 112, 255, 1)",Deposit:"rgba(239, 47, 45, 1)",Withdraw:"rgba(17, 112, 255, 1)"},v=[{label:"1m",value:1},{label:"3m",value:3},{label:"6m",value:6},{label:"1y",value:12},{value:"Max",label:"Max"}],w=t=>1e3*t;var b={name:"RollupDetail",data:()=>({isShow:!1,rollupData:{},detailData:{},times:v,currentTime:v[1].value,allSeries:m,allInteractionsSeries:f,color:g,checkData:["New Users","Active Users"],checkInteractionsData:["All Interactions","Bridge Interactions","Other Interactions"]}),watch:{chartData(){this.detailData.info&&(this._chartUser&&this._chartUser.setOption(this._getUsetChartOptions()),this._chartInteractions&&this._chartInteractions.setOption(this._getInteractionsChartOptions()),this._chartTransaction&&this._chartTransaction.setOption(this._getTransactionChartOptions()),this._chartFees&&this._chartFees.setOption(this._getFeesChartOptions()),this._chartDeposit&&this._chartDeposit.setOption(this._getDepositChartOptions()),this._chartWithdraw&&this._chartWithdraw.setOption(this._getWithdrawChartOptions()))}},computed:{isMobile:()=>n.e.value,chartData(){if(!this.detailData||!this.detailData.info)return;const t=this.detailData,e=this.currentTime,a=(new Date).getTime()/1e3;if("Max"===e){for(const e in t)["info","update_time"].includes(e)||t[e].sort((t,e)=>t.timestamp-e.timestamp);return this.chartDateFormatter(t)}const s=2592e3*e,i={};for(const e in t)["info","update_time"].includes(e)?i[e]=t[e]:(t[e].forEach(t=>{t.timestamp>a-s&&(i[e]||(i[e]=[]),i[e].push(t))}),i[e].sort((t,e)=>t.timestamp-e.timestamp));return this.chartDateFormatter(i)},isLightMode(){return"light"===this.$store.state.themeMode}},mounted(){window.addEventListener("resize",this._onResize)},beforeDestroy(){window.removeEventListener("resize",this._onResize)},methods:{close(){this.isShow=!1,this.$emit("close",!1)},async show(t,e){this.rollupData=t,this.$loader.show();let a=await this._getData(t.rollup_name);this.$loader.hide(),this.isShow=e,a.info&&(this._initUserChart(),this._initInteractionsChart(),this._initTransactionChart(),this._initFeesChart(),this._initDepositChart(),this._initWithdrawChart())},onCheckerClick(t,e){if(1===t){if(1===this.checkData.length&&this.checkData.includes(e))return;if(this.checkData.includes(e)?this.checkData=this.checkData.filter(t=>t!==e):this.checkData=this.checkData.concat([e]),this._chartUser){this._chartUser.clear();const t=this._getUsetChartOptions();this._chartUser.setOption(t)}}else if(2===t){if(1===this.checkInteractionsData.length&&this.checkInteractionsData.includes(e))return;if(this.checkInteractionsData.includes(e)?this.checkInteractionsData=this.checkInteractionsData.filter(t=>t!==e):this.checkInteractionsData=this.checkInteractionsData.concat([e]),this._chartInteractions){this._chartInteractions.clear();const t=this._getInteractionsChartOptions();this._chartInteractions.setOption(t)}}},chartDateFormatter(t){let e={};for(const a in t)["info","update_time"].includes(a)?e[a]=t[a]:(e[a]={},t[a].map(t=>{for(const s in t)e[a][s]||(e[a][s]=[]),e[a][s].push("timestamp"==s?w(t[s]):t[s])}));return e},async _getData(t){const e=await async function(t){let e;try{if(e=await o.a.get("/rollup_details/"+t.replace(" ","").toLowerCase()),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get dapp detail",t)}return e?e.data.data:void 0}(t),a=e;if(this.detailData=e,e.info){return this.chartDateFormatter(a)}return{}},_onResize(){this._chartUser&&this._chartUser.resize(),this._chartInteractions&&this._chartInteractions.resize(),this._chartTransaction&&this._chartTransaction.resize(),this._chartFees&&this._chartFees.resize(),this._chartDeposit&&this._chartDeposit.resize(),this._chartWithdraw&&this._chartWithdraw.resize()},_initUserChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_user_chart"),e=r.init(t);this._chartUser=e;const a=this._getUsetChartOptions();this._chartUser.setOption(a)})},_initInteractionsChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_interactions_chart"),e=r.init(t);this._chartInteractions=e;const a=this._getInteractionsChartOptions();this._chartInteractions.setOption(a)})},_initTransactionChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_tx_chart"),e=r.init(t);this._chartTransaction=e;const a=this._getTransactionChartOptions();this._chartTransaction.setOption(a)})},_initFeesChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_fees_chart"),e=r.init(t);this._chartFees=e;const a=this._getFeesChartOptions();this._chartFees.setOption(a)})},_initDepositChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_deposit_chart"),e=r.init(t);this._chartDeposit=e;const a=this._getDepositChartOptions();this._chartDeposit.setOption(a)})},_initWithdrawChart(){this.$nextTick(()=>{const t=document.getElementById("rollup_withdraw_chart"),e=r.init(t);this._chartWithdraw=e;const a=this._getWithdrawChartOptions();this._chartWithdraw.setOption(a)})},_getUsetChartOptions(){const t=this.chartData.chart_data_user;if(t){const e={height:160,title:{show:!1},legend:{show:!1},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,alignTicks:!1,data:t.timestamp,axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:6))==0,formatter:t=>Object(u.a)(parseInt(t),"yyyy-MM-dd")},splitLine:{lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}}},yAxis:{splitNumber:3,type:"value",axisPointer:{show:!1},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}},tooltip:{trigger:"axis",padding:0,backgroundColor:"transparent",formatter:this._onFormatter,position:this.isMobile?function(t,e,a,s,i){const r={top:"10%"};return r[["left","right"][+(t[0]<i.viewSize[0]/2)]]=5,r}:void 0},series:[]};return this.checkData.includes("New Users")&&e.series.push({name:"New Users",type:"line",smooth:!0,lineStyle:{width:4,color:_["New Users"]},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:_["New Users"]}},data:t.new_users}),this.checkData.includes("Active Users")&&e.series.push({name:"Active Users",type:"line",smooth:!0,lineStyle:{width:4,color:_["Active Users"]},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:_["Active Users"]}},data:t.active_users}),this.checkData.includes("All Users")&&e.series.push({name:"All Users",type:"line",smooth:!0,lineStyle:{width:4,color:_["All Users"]},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:_["All Users"]}},data:t.all_users}),e}return{}},_getInteractionsChartOptions(){const t=this.chartData.chart_data_bridge;if(t){const e={height:160,title:{show:!1},legend:{show:!1},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,alignTicks:!1,data:t.timestamp,axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:6))==0,formatter:t=>Object(u.a)(parseInt(t),"yyyy-MM-dd")},splitLine:{lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}}},yAxis:{splitNumber:3,type:"value",axisPointer:{show:!1},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}},tooltip:{trigger:"axis",padding:0,backgroundColor:"transparent",formatter:this._onFormatter,position:this.isMobile?function(t,e,a,s,i){const r={top:"10%"};return r[["left","right"][+(t[0]<i.viewSize[0]/2)]]=5,r}:void 0},series:[]};return this.checkInteractionsData.includes("Other Interactions")&&e.series.push({name:"Other Interactions",type:"line",smooth:!0,lineStyle:{width:4,color:_["Other Interactions"]},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:_["Other Interactions"]}},data:t.other_tx}),this.checkInteractionsData.includes("Bridge Interactions")&&e.series.push({name:"Bridge Interactions",type:"line",smooth:!0,lineStyle:{width:4,color:_["Bridge Interactions"]},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:_["Bridge Interactions"]}},data:t.bridge_tx}),this.checkInteractionsData.includes("All Interactions")&&e.series.push({name:"All Interactions",type:"line",smooth:!0,lineStyle:{width:4,color:_["All Interactions"]},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:_["All Interactions"]}},data:t.daily_tx}),e}return{}},_getTransactionChartOptions(){const t=this.chartData.chart_data_transaction;if(t){return{height:160,title:{show:!1},legend:{show:!1},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,alignTicks:!1,data:t.timestamp,axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:4))==0,formatter:t=>Object(u.a)(parseInt(t),"yyyy-MM-dd")},splitLine:{lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}}},yAxis:{splitNumber:3,type:"value",axisPointer:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}},tooltip:{trigger:"axis",padding:0,backgroundColor:"transparent",formatter:this._onFormatter,position:this.isMobile?function(t,e,a,s,i){const r={top:"10%"};return r[["left","right"][+(t[0]<i.viewSize[0]/2)]]=5,r}:void 0},series:[{name:"Transactions",type:"line",smooth:!0,lineStyle:{width:2,color:_.Transactions},showSymbol:!1,emphasis:{focus:"series",itemStyle:{borderColor:_.Transactions}},data:t.tx_count}]}}return{}},_getFeesChartOptions(){const t=this.chartData.chart_data_fee;if(t){return{height:160,title:{show:!1},legend:{show:!1},grid:{top:26,left:"3%",right:"9%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,alignTicks:!1,data:t.timestamp,axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:4))==0,formatter:t=>Object(u.a)(parseInt(t),"yyyy-MM-dd")},splitLine:{lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}}},yAxis:{splitNumber:3,type:"value",axisPointer:{show:!1},axisLabel:{formatter:"{value} ETH"},axisTick:{show:!1},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}},tooltip:{trigger:"axis",padding:0,backgroundColor:"transparent",formatter:this._onFormatter,position:this.isMobile?function(t,e,a,s,i){const r={top:"10%"};return r[["left","right"][+(t[0]<i.viewSize[0]/2)]]=5,r}:void 0},series:[{name:"L2 Total Fee",type:"line",smooth:!0,lineStyle:{width:2,color:_["L2 Total Fee"]},showSymbol:!1,emphasis:{focus:"series"},data:t.l2_total_fee},{name:"L1 Total Fee",type:"line",smooth:!0,lineStyle:{width:2,color:_["L1 Total Fee"]},showSymbol:!1,emphasis:{focus:"series"},data:t.l1_total_fee}]}}return{}},_getDepositChartOptions(){const t=this.chartData.chart_data_deposit;if(t){return{color:_.Deposit,tooltip:{trigger:"axis",padding:0,axisPointer:{type:"line",lineStyle:{type:"solid",width:1}},backgroundColor:"transparent",formatter:this._onFormatterCategory,position:this.isMobile?function(t,e,a,s,i){const r={top:"10%"};return r[["left","right"][+(t[0]<i.viewSize[0]/2)]]=5,r}:void 0},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t.timestamp,axisTick:{alignWithLabel:!0},axisLine:{show:!0,lineStyle:{show:!0,color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:6))==0,formatter:t=>Object(u.a)(parseInt(t),"yyyy-MM-dd")}}],yAxis:[{type:"value",splitLine:!1,axisLine:{show:!0,lineStyle:{show:!0,color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}}],series:[{name:"Deposit",type:"bar",barWidth:"60%",emphasis:{focus:"series",itemStyle:{borderColor:_.Deposit}},data:t.total_tx}]}}return{}},_getWithdrawChartOptions(){const t=this.chartData.chart_data_withdraw;if(t){return{color:_.Withdraw,tooltip:{trigger:"axis",padding:0,axisPointer:{type:"line",lineStyle:{type:"solid",width:1}},backgroundColor:"transparent",formatter:this._onFormatterCategory,position:this.isMobile?function(t,e,a,s,i){const r={top:"10%"};return r[["left","right"][+(t[0]<i.viewSize[0]/2)]]=5,r}:void 0},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t.timestamp,axisTick:{alignWithLabel:!0},axisLine:{show:!0,lineStyle:{show:!0,color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.timestamp.length/(this.isMobile?3:6))==0,formatter:t=>Object(u.a)(parseInt(t),"yyyy-MM-dd")}}],yAxis:[{type:"value",splitLine:!1,axisLine:{show:!0,lineStyle:{show:!0,color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}}],series:[{name:"Withdraw",type:"bar",barWidth:"60%",emphasis:{focus:"series",itemStyle:{borderColor:_.Withdraw}},data:t.total_tx}]}}return{}},_onFormatterCategory(t){const e=t[0].axisValue,a=this._getDepositOrWithdrawDataByTime(e,t[0].seriesName),s=Object(u.a)(parseInt(e),"yyyy-MM-dd");let r="";const n=Object.keys(a.coin_fees).sort((t,e)=>a.coin_fees[e]-a.coin_fees[t]);let o={};for(let t=0;t<n.length;t++)o[n[t]]=a.coin_fees[n[t]];for(const t in o)r+=`<div class="chart-popover-rollup">\n                            <div class="name">${t} Gas</div>\n                            <div class="transactions">\n                                ${i()(a.coin_fees[t]/a.total_fees).format("0.00%")}\n                            </div>\n                            <div class="percentage" style="margin-left: 5px">\n                                (${i()(a.coin_tx[t]).format("0,0")} Tx)\n                            </div>\n                          </div> `;return`<div class="chart-popover-content">\n                ${"Deposit"==t[0].seriesName?`<div class="chart-popover-total-transactions">${s}</div>\n                <div class="chart-popover-total-transactions">\n                    Transactions: <span>${i()(t[0].data).format("0,0")}</span>\n                    </div>\n                    <div class="chart-popover-total-transactions">\n                    Total Fees: <span>${i()(a.total_fees).format("0,0.0000")} ETH</span>\n                    </div>\n                    <div class="chart-popover-rollups">\n                        ${r}\n                    </div>\n                </div>`:`<div class="chart-popover-total-transactions-withdraw">${s}</div>\n                <div class="chart-popover-total-transactions-withdraw">\n                    Transactions: <span>${i()(t[0].data).format("0,0")}</span>\n                    </div>\n                    <div class="chart-popover-total-transactions-withdraw">\n                    Total Fees: <span>${i()(a.total_fees).format("0,0.0000")} ETH</span>\n                    </div>\n                    <div class="chart-popover-rollups">\n                        ${r}\n                    </div>\n                </div>`}\n                `},_onFormatter(t){const e=t[0].axisValue,a=["All Users","Active Users","New Users"].includes(t[0].seriesName)?this._getDataByTime(e).all_users:"",s=Object(u.a)(parseInt(e),"yyyy-MM-dd"),r=["L1 Total Fee","L2 Total Fee"].includes(t[0].seriesName)?t:t.reverse();return r.sort((t,e)=>e.data-t.data),`<div class="dapp-detail-chart-popover-content">\n                <div class="dapp-detail-chart-popover-title">${s}</div>\n                <div class="dapp-detail-chart-popover-data">\n                   ${r.map(t=>["L1 Total Fee","L2 Total Fee"].includes(t.seriesName)?`\n                            <div class="dapp-detail-chart-popover-data-item">\n                            <div class="dot" style="background:${_[t.seriesName]}"></div>\n                            ${"L2 Total Fee"==t.seriesName?`<div class="name" style="color: ${_[t.seriesName]}">${this.chartData.info.rollup_name} Received on L2</div>`:`<div class="name" style="color: ${_[t.seriesName]}">${this.chartData.info.rollup_name} Spent on L1</div>`}                           \n                            <div class="value" style="color: ${_[t.seriesName]}">${i()(t.value).format("0,0.00")} ETH</div>\n                            </div>\n                            `:`\n                        <div class="dapp-detail-chart-popover-data-item">\n                        <div class="dot" style="background:${_[t.seriesName]}"></div>\n                        ${"Transactions"==t.seriesName?`<div class="name" style="color: ${_[t.seriesName]}">${t.seriesName}</div>`:`<div class="name">${t.seriesName}</div>`}\n                        ${"Transactions"==t.seriesName?`<div class="value" style="color: ${_[t.seriesName]}">${i()(t.value).format("0,0")}</div>`:`<div class="value">${i()(t.value).format("0,0")}\n                        ${["All Users","Transactions"].includes(t.seriesName)?"":`<span>(${(t.value/a*100).toFixed(2)}%)</span>`}\n                            </div>\n                        </div>`}\n                        `).join("")}\n                </div>\n              </div>`},_getDataByTime(t){return this.detailData.chart_data_user.find(e=>1e3*e.timestamp===parseInt(t))},_getDepositOrWithdrawDataByTime(t,e="Deposit"){return("Deposit"==e?this.detailData.chart_data_deposit:this.detailData.chart_data_withdraw).find(e=>1e3*e.timestamp===parseInt(t))}},components:{DappLogo:c.a,TwitterLink:l.a,IconLink:d.a,Selector:h.a,TimeDiff:p.a}},y=(a("fc29"),a("2877")),C=Object(y.a)(b,(function(){var t=this,e=t._self._c;return t.isShow?e("el-dialog",{attrs:{"custom-class":"rollup-detail-dialog",visible:t.isShow,"append-to-body":"","margin-top":t.isMobile?"5%":"15vh","show-close":!1,"destroy-on-close":!0},on:{"update:visible":function(e){t.isShow=e}}},[e("div",{staticClass:"rollup-detail-dialog-title",attrs:{slot:"title"},slot:"title"},[e("dapp-logo",{staticClass:"logo",attrs:{chains:!0,name:t.rollupData.rollup_name}}),e("div",{staticClass:"name"},[t._v(t._s(t.rollupData.rollup_name))]),e("span",{staticClass:"close",on:{click:t.close}})],1),e("div",{staticClass:"rollup-detail-dialog-content"},[t.detailData.info?e("div",{staticClass:"info"},[e("div",{staticClass:"links"},[e("icon-link",{attrs:{href:t.detailData.info.rollup_url}}),e("twitter-link",{attrs:{href:t.detailData.info.rollup_twitter}})],1),t.detailData.info&&t.detailData.info.rollup_category?e("div",{staticClass:"category"},[t._v(" "+t._s(t.detailData.info.rollup_category)+" ")]):t._e()]):t._e(),e("div",{staticClass:"selectors"},[t.detailData.info?e("div",{staticClass:"rollup_gas"},[e("span",{staticClass:"text"},[t._v("Average Transaction Fee")]),e("span",{staticClass:"text"},[t._v(t._s(t.detailData.info.rollup_name))]),e("span",{staticClass:"fee"},[t._v("$"+t._s(0==t.detailData.info.rollup_avg_fee?0:Number(t.detailData.info.rollup_avg_fee).toFixed(2))+" ")]),e("span",{staticClass:"text"},[t._v(" Ethereum ")]),e("span",{staticClass:"fee"},[t._v("$"+t._s(0==t.detailData.info.l1_avg_fee?0:Number(t.detailData.info.l1_avg_fee).toFixed(2))+" ")])]):e("div",{staticClass:"data_soon"},[e("span",[t._v("No detailed data at the moment,coming soon.")])]),e("div",{staticClass:"time_box"},[!t.isMobile&&t.detailData&&t.detailData.update_time?e("time-diff",{staticClass:"time",attrs:{timestamp:t.detailData.update_time}}):t._e(),t.detailData.info?e("selector",{staticClass:"selector",attrs:{data:t.times,value:t.currentTime},on:{change:e=>t.currentTime=e.value}}):t._e()],1)]),t.detailData.info?e("div",{staticClass:"rollup_charts"},[e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v(" User Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Active Users & Corresponding percentage of total users. "),e("br"),t._v(" New Users & Corresponding percentage of total users. "),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{ref:"rollup_user_chart",attrs:{id:"rollup_user_chart"}}),e("div",{staticClass:"checker"},t._l(t.allSeries,(function(a,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){return t.onCheckerClick(1,a)}}},[e("div",{staticClass:"checkbox",class:{active:t.checkData.includes(a)}}),e("div",{staticClass:"line",style:{background:t.color[s]}}),e("div",{staticClass:"name"},[t._v(t._s(a))])])})),0)]),e("div",{staticClass:"content",attrs:{hidden:!t.chartData.chart_data_bridge}},[e("div",{staticClass:"title"},[t._v(" Interactions Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Bridge Interactions percentage of total Interactions. "),e("br"),t._v(" Other Interactions percentage of total Interactions. "),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{ref:"rollup_interactions_chart",attrs:{id:"rollup_interactions_chart"}}),e("div",{staticClass:"checker"},t._l(t.allInteractionsSeries,(function(a,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){return t.onCheckerClick(2,a)}}},[e("div",{staticClass:"checkbox",class:{active:t.checkInteractionsData.includes(a)}}),e("div",{staticClass:"line",style:{background:t.color[s]}}),e("div",{staticClass:"name"},[t._v(t._s(a))])])})),0)]),e("div",{staticClass:"row_content"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[e("div",{staticClass:"content",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"title"},[t._v(" Transaction Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Statistics on the transaction data of the current network. ")]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"rollup_tx_chart"}})])]),e("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[e("div",{staticClass:"content",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"title"},[t._v(" L2 Revenue and L1 Gas Fee Consumption "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Starknet Received on L2: Total gas received of every successful transaction on Starknet Starknet Spent on L1: Total gas used by Starknet's L1 contracts to settle L2 proof on Ethereum ")]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"rollup_fees_chart"}})])])],1)],1),e("div",{staticClass:"content",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.rollupData.rollup_name)+" Bridge Deposit Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Transaction data using the official bridge and shows the amount of gas consumed by deposits in different currencies. ")]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"rollup_deposit_chart"}})]),e("div",{staticClass:"content",staticStyle:{"margin-top":"0"}},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.rollupData.rollup_name)+" Bridge Withdraw Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Transaction data using the official bridge and shows the amount of gas consumed by withdraws in different currencies. ")]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"rollup_withdraw_chart"}})])]):t._e()])]):t._e()}),[],!1,null,null,null);e.a=C.exports},"7d25":function(t,e,a){"use strict";a("7f02")},"7f02":function(t,e,a){},"836c":function(t,e,a){},"848bc":function(t,e,a){"use strict";a("14d9");var s={name:"common",components:{},props:{},data:()=>({allTab:["arbitrum","optimism","zksync","arbitrumnova","starknet"]}),methods:{onRowClick(t){this.handleRoute({floater:t.dapp_name})},rollupChange(t){this.handleRoute({rollup_tab:t})},closeDappDetail(){const{path:t,query:e}=this.$route,a=JSON.parse(JSON.stringify(e||{}));delete a.floater;const s=[];for(const t in a)s.push(`${t}=${a[t]}`);const i=t+"?"+s.join("&");this.$router.replace({path:i,query:a})},handleRoute({rollup_tab:t,floater:e}){const{path:a,query:s}=this.$route,i=JSON.parse(JSON.stringify(s||{}));if(t instanceof Array&&(t=t[0]),e instanceof Array&&(e=e[0]),t)if(this.allTab.includes(t)||(t="arbitrum"),(null==i?void 0:i.rollup_tab)!==t){i.rollup_tab=t,this.currentRollup=t;const e=[];for(const t in i)e.push(`${t}=${i[t]}`);const s=a+"?"+e.join("&");this.$router.replace({path:s,query:i})}else this.currentRollup=t;if(e)if((null==i?void 0:i.floater)!==e){i.floater=e,this.$refs.dappDetail.show(this.currentRollup,(this.currentTableData||this.tableData).find(t=>t.dapp_name===e));let t=[];for(const e in i)t.push(`${e}=${i[e]}`);const s=a+"?"+t.join("&");this.$router.replace({path:s,query:i})}else{const t=(this.currentTableData||this.tableData).find(t=>t.dapp_name===e);t?this.$refs.dappDetail.show(this.currentRollup,t):this.closeDappDetail()}}},watch:{tableData(){if(this.tableData&&this.tableData.length){const{query:t}=this.$route;null!=t&&t.floater&&this.handleRoute({floater:null==t?void 0:t.floater})}},rollups(){if(this.rollups&&this.rollups.length){const{query:t}=this.$route;this.handleRoute({rollup_tab:(null==t?void 0:t.rollup_tab)||this.rollups[0].value})}}},computed:{}},i=a("2877"),r=Object(i.a)(s,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null);e.a=r.exports},"8cdb":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return r}));a("d9e2");var s=a("116b");async function i(t){let e;try{if(e=await s.a.get("/dapp_data/"+t),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get dapps",t)}return e?e.data.data:void 0}async function r(t,e){let a;try{if(a=await s.a.get(`/dapp/details/${t}/${e.replace(" ","").toLowerCase()}`),"success"!==a.data.status)throw Error()}catch(t){console.error("Failed to get dapp detail",t)}return a?a.data.data:void 0}},"90af":function(t,e,a){"use strict";a("3343")},"93f6":function(t,e,a){},"97aa":function(t,e,a){},"9aaa":function(t,e,a){},"9e9d":function(t,e,a){"use strict";var s={props:{href:{type:String}}},i=(a("af4e"),a("2877")),r=Object(i.a)(s,(function(){return(0,this._self._c)("a",{staticClass:"link",attrs:{href:this.href,target:"_blank"}})}),[],!1,null,"0b61c59b",null);e.a=r.exports},"9fcb":function(t,e,a){},a421:function(t,e,a){},a436:function(t,e,a){},a64c:function(t,e,a){},a7a6:function(t,e,a){"use strict";a("093e")},a94ab:function(t,e,a){"use strict";a("4919")},ab49:function(t,e,a){"use strict";a("a436")},ade6:function(t,e,a){"use strict";a("73c9")},af4e:function(t,e,a){"use strict";a("9aaa")},b591:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfISURBVHgBzVpvaBNnGH8upktbU01bZf3jJLJWtyFo7Yf1y2YGIsP6QcWpHWPt2KaIiA6GoAhtERQpldbp3DpGq471YxWU7YPTit0QpGtaGCitNp3VlFK1mrS1Se5uz/Pm7vre5d9dWjt/EHK5vHf3+z3/3ud9EwHmAIODg66cnJwtgiCssdlsbjy1VpZlF7671DH4nQ/ffJIkefG73nA43FlYWOiDWUKANEGkEQfw0IOEPJAGUJRXFMXm2YixLEAljqQPAmfh2QLv1xYKheqtCrEk4NmzZ7VzTdwI9Epdbm5uvenxZgb5/X63w+HowMO1MD/wTU9Pf2TGG7ZUA9Dq1Ui+B+aPPIEM1jM2NrYl1cCkApSQaYNXGDJJ4MKK1kEckg1KGEIK+Tp4DZAsL+IKINeRejpuaGiA0dFR2LVrFyxatAiKi4shOzsbXiWePHkCJ06cgNLSUtizZ0+UqCDUoIjzxrF24wlKWCTfqn6+d+8eBAIB6OrqgszMTHZzErB9+3ZYtmwZzBXh69evQ19fH/uclZUFDx48gMnJSW0MRkMTcrtpTOwYDzx9+nQQ39z8zem1cuVK3QObmpqgoqICKisrYTYg4rdv32b3IYur3u3t7WUGys/P54d78/LyyiCRAKtxf+HCBfYAXoQ84gfZ6wVpZARk/CzRQ5xOsL1dAvYy3bPh6tWrzBjkTbNhifzq8Zl1MQKUWj8IFjA1NQXHjx+Hz7dtg5L7AyD92QVSj5eRFhXy7F2OHkNBARPhrKmB+y9ewMWLF+HYsWNgEeOYDyswH8Z1AtASrZQoYBH9V67AX2e+g8+mX2pEefLkBVE5z3/3i9sNX586ZQwRU+C9wOYBsn465OF8KxQ3NkBfRLREnlIz8HAYJg8dgoh/BKwCuR7AcHdpAjIyMjxgFUhebmsDBx5myjJI6MuIgajIieKFTQkCvIHvL/sH4NHRoyAFg2ARLmzLD2oCsGwesHR51y1GXrXst6LIyDKLK+dUj0hIVjKcc+LBp5EIO57o7wf/6TNgFeiF9ew9neSVq3ayKsNbWCUPzhzI+PADcLzzLmQUFUEE55ApnEvGb9yAEIaLJgbTT8SrVFErTjdDTpm1dgtF5Ao469bwE1dK8r//BtLJk/hQOSa+M3fshLx9++ANV2zrhC6HEaw6j3/4EcIYMrxH6FpHSQm81/ozWAHe8wsbqrAkWzrfhsSRPAi6+M7+8it488iRuOQJaCQoqq6G0p9a2LxA5PncmBgYgACWYCsg7nhf2xqzF8j4EFENAyYi+nDHpkpYun8/3TDmmpaWFuju7tY+L169Gtz1dTO5AjNeGLvVBVaAz3PbsKa6zV4geb0xVYVerr1745InYI6xhqyxsVE7V7BxIyxcVzZDXo6+xnt6wCLWUBVymx1NictbjcLAvq4cspYvT3iNE8OF0N7ezryhYumGDVFDyNFKRUVg0vqc4Eq5IuNB9Zq3PEu+8vKE46mL7ezs1D6TCBX5nvVcqxENx1Aa84HdymgpGNAsrwrhQ4csjO0urFq1ipGnsKEQ4gXRZxqzYMGCmbmCe0VQhF3xmhmQAGqKTC0ZRVb+lPrNPZQnyIdJPBB5QuhFAERhxhhq2xEOWBNgUwSYgsySTdZNRsE7d7TvPR5P0us3b96sHT+/e1fnAXVOsQgfCTBdfMNcEkcrkQzB7r8hNB61QTnmw+7du+NeSwsidXnIntxxSddua43eiKVE9tmxjA4lKoFGiMoMyvc7dPzo3DlYcfgwG0MCyBOUsLQcLcJ2gshXVVUB7p+yMf9eugxjKFy1vLrwoZeVRKY9VhLgNSsgorYAoLfa6K/tYMcZ+C2cDwhEuLa2Nu49JoYfwT9nv4+GjxCbxCHMIwsCvDasBpfMDJZ48sBPZNGWYujsORg8cxbCuNJKhOFr1+CPT3ZA8LFfuR7rv9atCkzUhIW5ALl32mlphgv5TvzsSTZY5howkT1UbSVmktqHjdowhkdexfuszmcsdkHo+XMIotUf4+LdGDb6giCz+4aCE2ASXuTuY/MAuuImhpEn2egw1m+t+5TlmBlZtegUJuFDFDHUcZnNsERS5kqvGKf2z5yTYdpkCGEn2kzv6oKmCUyUU35VJUJsLvDlVR9ucnT+0CWsvptVX9MmPUDhowmgMEIvNCe7IKxsk+hWXLJRlLJAUT0ky1yzFj2OgMHyBo8ERvyQChgtbRQ+mgB2kMILEbRMvBY4Zg0sRJszzUuc1XVijWGonH8ZMFVGtX1STUAqL4h8Esux5LXVlWG21oQoHacxD0RuzUy5MhVIHkK0paJaXyeAoOy1xJ2Zs2i9utCpq93GPJANpHVEtQWQoBcny9p6gI5LNn0MSeDjd+UIMTMY7re4USWtLGIaPPKCqLiYyDoKCyBdUNPGz7oBrP8ZOU7ILy1JdAntyJXx1gdIvL1uaaE/H8CyuXXJkiUxk27cBQ0ObKNYg9cExCUeeULSJgj3S+vQbbXwP8K4G21Eyi5O+bWGwmm+fycbx7D5hqIh2SBTbaiS2DfAwgbALEEd8lZjwsaDpR+65yGk2FyULGSMsPxXA/IGupaEVMPcgRGnbkD94cIs0v6zBwkRRdGj7Gyn+yN4J3XC6RBXkbYAHqoY2qukv9xANFfc3JBx5UV/tRmilRQtpNIlzeM/FXHAdAFy320AAAAASUVORK5CYII="},b986:function(t,e,a){"use strict";a("6295")},c5fe:function(t,e,a){"use strict";a.r(e);a("14d9");var s=a("6612"),i=a.n(s),r=a("f23e"),n=a("ceb7"),o=(a("13d5"),{props:{data:{type:Array,require:!0}},computed:{total(){return this.data.reduce((t,e)=>t+e,0)}}}),c=(a("7d25"),a("2877")),l=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"percent"},t._l(t.data,(function(a,s){return e("div",{key:s,style:{width:a/t.total*100+"%",flex:`0 0 ${a/t.total*100}}%`}})})),0)}),[],!1,null,"fee5f004",null).exports,d=a("d147"),h=(a("20a8"),Object(c.a)({},(function(){return(0,this._self._c)("span",{staticClass:"help"})}),[],!1,null,"f1089a60",null).exports),u=a("d920"),p=a("d186"),m=a("d48f"),f=a("7793"),g=a("cb81"),_=a("848bc");const v=[{label:"1d",value:"1d"},{label:"3d",value:"3d"},{label:"7d",value:"7d"},{label:"14d",value:"14d"},{label:"30d",value:"30d"}],w=t=>""===t;var b={mixins:[_.a],data:()=>({rollups:{},defaultSort:{prop:"total_tx",order:"descending"},selectors:v,currentSort:void 0,currentFilter:v[0].value,tableData:[]}),computed:{isMobile:()=>p.e.value,indexTableData(){return this.tableData.map((t,e)=>({index:e+1,...t}))}},watch:{currentFilter(){this.currentSort&&this.onSortChange(this.currentSort)}},components:{TimeDiff:r.a,Selector:n.a,Percent:l,ChainsLogo:d.a,Help:h,RollupDetail:f.a,SvgIconThemed:g.a},async mounted(){this.$loader.show();const t=await Object(u.a)();this.$loader.hide(),this.rollups=t,this.tableData=this._getDefaultTableData()},methods:{numeral:i.a,dateFormat:m.a,isEmpty:w,onSortChange({prop:t,order:e}){this.currentSort={prop:t,order:e};const a=this.rollups,s=a&&a.table_data?Object.keys(a.table_data).map(t=>({rollup_name:t,...a.table_data[t]})):[];if(null===!e)return void(this.tableData=this._getDefaultTableData());const i="ascending"===e;if(["total_tx","total_accounts"].includes(t))this.tableData=s.sort((e,a)=>{const s=w(e[t])?0:e[t],r=w(a[t])?0:a[t];return i?s-r:r-s});else if(["active_accounts","new_accounts","txs"].includes(t))this.tableData=s.sort((e,a)=>{const s=Number(e[t][this.currentFilter]),r=Number(a[t][this.currentFilter]);return i?s-r:r-s});else switch(t){case"launch_time":this.tableData=s.sort((t,e)=>{const a=new Date(t.launch_time).getTime(),s=new Date(e.launch_time).getTime();return i?a-s:s-a});break;case"TVL.all":this.tableData=s.sort((t,e)=>{const a=Number(t.TVL.all),s=Number(e.TVL.all);return i?a-s:s-a});break;default:this.tableData=this._getDefaultTableData()}},_getDefaultTableData(){const t=this.rollups;return(t&&t.table_data?Object.keys(t.table_data).map(e=>({rollup_name:e,...t.table_data[e]})):[]).sort((t,e)=>{const a=w(t.total_tx)?0:t.total_tx;return(w(e.total_tx)?0:e.total_tx)-a})},formatUSD:t=>t<1e6?`$ ${i()(t).divide(1e6).format("0.00")} M`:i()(t).format("$ 0.00 a").toUpperCase(),onRowClick(t){this.handleRoute({floater:t.rollup_name})},handleRoute({floater:t}){const{path:e,query:a}=this.$route,s=JSON.parse(JSON.stringify(a||{}));if(t instanceof Array&&(t=t[0]),t)if((null==s?void 0:s.floater)!==t){s.floater=t,this.$refs.rolluoDetail.show(this.indexTableData.find(e=>e.rollup_name===t),!0);let a=[];for(const t in s)a.push(`${t}=${s[t]}`);const i=e+"?"+a.join("&");this.$router.replace({path:i,query:s})}else{const e=this.indexTableData.find(e=>e.rollup_name===t);e?this.$refs.rolluoDetail.show(e,!0):this.closeDappDetail()}}}},y=(a("ade6"),Object(c.a)(b,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"rollups-wrapper"},[e("div",{staticClass:"head"},[!t.isMobile&&t.rollups&&t.rollups.update_time?e("time-diff",{staticClass:"time",attrs:{timestamp:t.rollups.update_time}}):t._e(),e("selector",{attrs:{data:t.selectors,value:t.currentFilter},on:{change:e=>t.currentFilter=e.value}})],1),e("div",{staticClass:"table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.indexTableData,"empty-text":"No Items","default-sort":t.defaultSort},on:{"sort-change":t.onSortChange}},[e("el-table-column",{attrs:{fixed:"",label:"NO. Name",width:"140"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"name-column"},[e("div",{staticClass:"no"},[t._v(" "+t._s(a.row.index)+" ")]),e("chains-logo",{attrs:{name:a.row.rollup_name}}),e("div",{staticClass:"name_box",on:{click:function(e){return t.onRowClick(a.row)}}},[e("div",{staticClass:"name",attrs:{title:a.row.rollup_name}},[t._v(" "+t._s(a.row.rollup_name)+" ")]),a.row.details?e("div",{staticClass:"icon"},[e("svg-icon-themed",{attrs:{icon:"searchChartIcon",size:"lg"}})],1):t._e()])],1)]}}])}),e("el-table-column",{attrs:{prop:"launch_time",label:"Launch Date",width:"110",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.dateFormat(a.row.launch_time,"yyyy-MM-dd"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"total_tx",label:"Total Transactions",width:"145",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.isEmpty(a.row.total_tx)?"-":t.numeral(a.row.total_tx).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"total_accounts",label:"Total Accounts",width:"125",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.isEmpty(a.row.total_accounts)?"-":t.numeral(a.row.total_accounts).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{width:"175",prop:"TVL.all",label:"TVL",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"TVL"},[e("div",{staticClass:"all"},[t._v(" "+t._s(t.formatUSD(a.row.TVL.all))+" ")]),e("el-popover",{attrs:{"popper-class":"TVL-popover",placement:t.isMobile?"top":"right",width:"300",trigger:"hover"}},[e("div",{staticClass:"TVL-detail"},[e("div",{staticClass:"TVL-item"},[e("div",{staticClass:"TVL-token"},[t._v("Stable Coins")]),e("div",{staticClass:"TVL-amount"},[t._v(" "+t._s(t.formatUSD(a.row.TVL.Stable))+" ")]),e("div",{staticClass:"TVL-percent"},[t._v(" "+t._s(t.numeral(a.row.TVL.Stable/a.row.TVL.all).format("0.00%"))+" ")])]),e("div",{staticClass:"TVL-item"},[e("div",{staticClass:"TVL-token"},[t._v("ETH/BTC")]),e("div",{staticClass:"TVL-amount"},[t._v(" "+t._s(t.formatUSD(a.row.TVL.BTC+a.row.TVL.ETH))+" ")]),e("div",{staticClass:"TVL-percent"},[t._v(" "+t._s(t.numeral((a.row.TVL.BTC+a.row.TVL.ETH)/a.row.TVL.all).format("0.00%"))+" ")])]),e("div",{staticClass:"TVL-item"},[e("div",{staticClass:"TVL-token"},[t._v("Others")]),e("div",{staticClass:"TVL-amount"},[t._v(" "+t._s(t.formatUSD(a.row.TVL.Others))+" ")]),e("div",{staticClass:"TVL-percent"},[t._v(" "+t._s(t.numeral(a.row.TVL.Others/a.row.TVL.all).format("0.00%"))+" ")])])]),e("percent",{staticClass:"reference",attrs:{slot:"reference",data:[a.row.TVL.BTC+a.row.TVL.ETH,a.row.TVL.Others,a.row.TVL.Stable]},slot:"reference"})],1)],1)]}}])},[e("template",{slot:"header"},[e("div",{staticClass:"TVL-header"},[t._v("TVL")]),e("el-popover",{attrs:{"popper-class":"TVL-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"TVL-desc"},[t._v(" Total Value Locked in Rollups & Types of cryptocurrencies. "),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("div",{staticClass:"TVL-help",attrs:{slot:"reference"},slot:"reference"},[e("help")],1)])],1)],2),e("el-table-column",{attrs:{prop:"txs",label:"Transactions",width:"115",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"new-data"},[t._v(" "+t._s(t.isEmpty(a.row.txs[t.currentFilter])?"-":t.numeral(a.row.txs[t.currentFilter]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{label:"Active Accounts",prop:"active_accounts",width:"135",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"new-data"},[t._v(" "+t._s(t.isEmpty(a.row.active_accounts[t.currentFilter])?"-":t.numeral(a.row.active_accounts[t.currentFilter]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"new_accounts",label:"New Accounts",width:"120",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"new-data"},[t._v(" "+t._s(t.isEmpty(a.row.new_accounts[t.currentFilter])?"-":t.numeral(a.row.new_accounts[t.currentFilter]).format("0,0"))+" ")])]}}])})],1)],1),e("rollup-detail",{ref:"rolluoDetail",on:{close:t.closeDappDetail}})],1)}),[],!1,null,null,null).exports),C=a("fa91"),A=a("f690"),k=a("c64e"),T=a("ede9"),P=a("9e9d"),S=a("8cdb");const x=[{label:"1d",value:"1d"},{label:"3d",value:"3d"},{label:"7d",value:"7d"},{label:"14d",value:"14d"},{label:"30d",value:"30d"}];var D={mixins:[_.a],data:()=>({selectors:x,PAGE_SIZE:30,dapps:{},defaultSort:{prop:"active_users",order:"descending"},currentSort:{prop:"active_users",order:"descending"},currentRollup:void 0,rollups:[],currentFilter:x[0].value,tableData:[],page:1}),components:{Selector:n.a,DappLogo:C.a,TimeDiff:r.a,Rollups:A.a,DappDetail:k.a,IconLink:T.a,TwitterLink:P.a,Help:h},watch:{async currentRollup(){this.dapps={},this.tableData=[],this.page=1,await this._getDapps(),this.currentSort&&this.onSortChange(this.currentSort)},currentFilter(){this.currentSort&&this.onSortChange(this.currentSort)}},computed:{total(){return this.dapps&&this.dapps.table_data?this.dapps.table_data.length:0},isMobile:()=>p.e.value,currentTableData(){if(!this.tableData.length)return[];const t=30*(this.page-1);return this.tableData.map((t,e)=>({...t,index:e+1})).slice(t<1?0:t,30*this.page)}},async mounted(){this.rollups=await Object(u.b)("dapps"),this.allTab=this.rollups.map(t=>t.value)},methods:{dateFormat:m.a,numeral:i.a,async _getDapps(){this.$loader.show();const t=await Object(S.b)(this.currentRollup);this.$loader.hide(),this.dapps=t,this.tableData=this._getTableData()},onSortChange({prop:t,order:e}){const a=this.tableData,s="ascending"===e;this.currentSort={prop:t,order:e},null!==!e?"all_users"!==t?["active_users","new_users","interactions","new_users_age"].includes(t)?this.tableData=a.sort((e,a)=>{const i=e[this.currentFilter][t],r=a[this.currentFilter][t];return s?i-r:r-i}):"launch_time"===t&&(this.tableData=a.sort((t,e)=>{const a=new Date(t.launch_time).getTime(),i=new Date(e.launch_time).getTime();return s?a-i:i-a})):this.tableData=a.sort((t,e)=>{const a=t.all_users,i=e.all_users;return s?a-i:i-a}):this.tableData=a},_getTableData(){const t=this.dapps,e=t&&t.table_data?t.table_data:[];return e.length?e.sort((t,e)=>{const a=Number(t[this.currentFilter].active_users);return Number(e[this.currentFilter].active_users)-a}):[]}}},I=(a("05b8"),Object(c.a)(D,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dapps-wrapper"},[e("div",{staticClass:"head"},[e("rollups",{attrs:{value:t.currentRollup,customRollups:t.rollups},on:{"rollup-change":t.rollupChange}}),e("div",{staticClass:"right"},[!t.isMobile&&t.dapps&&t.dapps.update_time?e("time-diff",{staticClass:"time",attrs:{timestamp:t.dapps.update_time}}):t._e(),e("selector",{attrs:{data:t.selectors,value:t.currentFilter},on:{change:e=>t.currentFilter=e.value}})],1)],1),e("div",{staticClass:"table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.currentTableData,"empty-text":"No Items","default-sort":t.defaultSort},on:{"sort-change":t.onSortChange}},[t.isMobile?t._e():e("el-table-column",{attrs:{fixed:"",label:"NO. Dapp Name",width:280},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"name-column"},[e("div",{staticClass:"rank"},[t._v(" "+t._s(a.row.index)+" ")]),e("dapp-logo",{attrs:{name:a.row.dapp_name}}),e("div",{staticClass:"name",attrs:{title:a.row.dapp_name},on:{click:function(e){return t.onRowClick(a.row)}}},[t._v(" "+t._s(a.row.dapp_name)+" ")]),e("icon-link",{attrs:{href:a.row.dapp_url}}),e("twitter-link",{attrs:{href:a.row.dapp_twitter}})],1)]}}],null,!1,452182742)}),t.isMobile?e("el-table-column",{attrs:{fixed:"",label:"NO. Dapp",width:150},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"name-column"},[e("div",{staticClass:"rank"},[t._v(" "+t._s(a.row.index)+" ")]),e("dapp-logo",{attrs:{name:a.row.dapp_name}}),e("div",{staticClass:"name",attrs:{title:a.row.dapp_name},on:{click:function(e){return t.onRowClick(a.row)}}},[t._v(" "+t._s(a.row.dapp_name)+" ")])],1)]}}],null,!1,1154117782)}):t._e(),e("el-table-column",{attrs:{prop:"launch_time",label:"Launch Date",width:"130",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.dateFormat(a.row.launch_time_str,"yyyy-MM-dd"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"all_users",label:"All Users",width:"130",align:"center","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row.all_users).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{label:"Active Accounts",prop:"active_users","sort-orders":["descending","ascending",null],width:"150",align:"right",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row[t.currentFilter].active_users).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"new_users",label:"New Users",width:"120",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row[t.currentFilter].new_users).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"new_users_age",width:"140",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row[t.currentFilter].new_users_age).format("0,0"))+" ")])]}}])},[e("template",{slot:"header"},[e("div",{staticClass:"new-user-age-header"},[t._v("New Users Age")]),e("el-popover",{attrs:{"popper-class":"new-user-age-header-popover",placement:"bottom",width:"300",trigger:"hover"}},[e("div",{staticClass:"new-user-age-desc"},[t._v(" Statistics of all users. Users Age refers to the cumulative days since users started the first transaction on the mainnet. "),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("div",{staticClass:"new-user-age-help",attrs:{slot:"reference"},slot:"reference"},[e("help")],1)])],1)],2),e("el-table-column",{attrs:{prop:"interactions",label:"Interactions",width:"120",align:"right",sortable:"custom","sort-orders":["descending","ascending",null]},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row[t.currentFilter].interactions).format("0,0"))+" ")])]}}])})],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.PAGE_SIZE,total:t.total,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)],1),e("dapp-detail",{ref:"dappDetail",on:{close:t.closeDappDetail}})],1)}),[],!1,null,null,null).exports),E=a("1812"),L=(a("d9e2"),a("116b"));var U={mixins:[_.a],data:()=>({PAGE_SIZE:30,defaultSort:{prop:"launch_time",order:"descending"},currentSort:void 0,rollups:[],currentRollup:void 0,contracts:{},tableData:[],page:1}),components:{Rollups:A.a,TimeDiff:r.a,DappLogo:C.a,IconLink:T.a,TwitterLink:P.a,ScanLink:E.a,Help:h},watch:{async currentRollup(){this.contracts={},this.tableData=[],this.page=1,await this._getContracts(),this.currentSort&&this.onSortChange(this.currentSort)}},computed:{isMobile:()=>p.e.value,total(){return this.contracts&&this.contracts.table_data?this.contracts.table_data.length:0},currentTableData(){if(!this.tableData.length)return[];const t=30*(this.page-1);return this.tableData.map((t,e)=>({...t,index:e+1})).slice(t<1?0:t,30*this.page)}},async mounted(){this.rollups=await Object(u.b)("contracts"),this.allTab=this.rollups.map(t=>t.value)},methods:{numeral:i.a,shortenAddress:function(t,e=4){return`${t.substring(0,e+2)}...${t.substring(t.length-e)}`},dateFormat:m.a,async _getContracts(){this.$loader.show();const t=await async function(t){let e;try{if(e=await L.a.get("/new_contracts/"+t),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get contracts",t)}return e?e.data.data:void 0}(this.currentRollup);this.$loader.hide(),this.contracts=t,this.tableData=this._getTableData()},_getTableData(){const t=this.contracts,e=t&&t.table_data?t.table_data:[];return e.length?e.sort((t,e)=>{const a=new Date(t.launch_time).getTime();return new Date(e.launch_time).getTime()-a}):[]},onSortChange({prop:t,order:e}){const a=this.tableData,s="ascending"===e;this.currentSort={prop:t,order:e},null!==!e?("launch_time"===t&&(this.tableData=a.sort((t,e)=>{const a=new Date(t.launch_time).getTime(),i=new Date(e.launch_time).getTime();return s?a-i:i-a})),this.tableData=a.sort((e,a)=>{const i=Number(e[t]),r=Number(a[t]);return s?i-r:r-i})):this.tableData=a}}},V=(a("3a93"),Object(c.a)(U,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"contracts-wrapper"},[e("div",{staticClass:"head"},[e("rollups",{attrs:{customRollups:t.rollups,value:t.currentRollup},on:{"rollup-change":t.rollupChange}}),!t.isMobile&&t.contracts&&t.contracts.update_time?e("time-diff",{staticClass:"time",attrs:{timestamp:t.contracts.update_time}}):t._e()],1),e("div",{staticClass:"table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.currentTableData,"default-sort":t.defaultSort,"empty-text":"No Items"},on:{"sort-change":t.onSortChange}},[e("el-table-column",{attrs:{fixed:"",prop:"contract_address",label:"New Contract",width:"160"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"new-contract"},[e("div",{staticClass:"no"},[t._v(" "+t._s(a.row.index)+" ")]),e("div",{staticClass:"address",attrs:{title:a.row.contract_address}},[t._v(" "+t._s(t.shortenAddress(a.row.contract_address,2))+" ")]),e("scan-link",{attrs:{href:a.row.scan_url}})],1)]}}])}),e("el-table-column",{attrs:{label:"Name",width:"165"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"name-column"},[e("dapp-logo",{attrs:{name:a.row.dapp_name}}),e("div",{staticClass:"name",attrs:{title:a.row.dapp_name}},[t._v(" "+t._s(a.row.dapp_name)+" ")]),a.row.dapp_url?e("icon-link",{attrs:{href:a.row.dapp_url}}):t._e(),a.row.twitter_url?e("twitter-link",{attrs:{href:a.row.twitter_url}}):t._e()],1)]}}])}),e("el-table-column",{attrs:{prop:"launch_time",label:"Launch Date",width:"125","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.dateFormat(a.row.launch_time_str,"yyyy-MM-dd"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"all_users",label:"All Users",width:"90",align:"right","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row.all_users).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"users_age",label:"Users Age",width:"95",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row.users_age).format("0,0"))+" ")])]}}])},[e("template",{slot:"header"},[e("div",{staticClass:"user-age-header"},[t._v("Users Age")]),e("el-popover",{attrs:{"popper-class":"user-age-header-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"user-age-desc"},[t._v(' Statistics for all users. " Users Age " refers to the cumulative days since users started the first transaction on the mainnet. '),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("div",{staticClass:"user-age-help",attrs:{slot:"reference"},slot:"reference"},[e("help")],1)])],1)],2),e("el-table-column",{attrs:{prop:"24h_active_users",label:"24h Active Users",width:"155",align:"right","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_active_users"]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"24h_new_users",label:"24h New Users",width:"140",align:"right","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_new_users"]).format("0,0"))+" ")])]}}])}),e("el-table-column",{attrs:{prop:"24h_interactions",label:"24h Interactions",width:"150",align:"right","sort-orders":["descending","ascending",null],sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"data"},[t._v(" "+t._s(t.numeral(a.row["24h_interactions"]).format("0,0"))+" ")])]}}])})],1),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.PAGE_SIZE,total:t.total,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)],1)])}),[],!1,null,null,null).exports);const M=[{name:"Rollups Data",value:"Rollups"},{name:"L2 Dapps Data",value:"Dapps"},{name:"New Contracts",value:"Contracts"}];var N={data:()=>({tabs:M,currentTab:M[0].value}),components:{Rollups:y,Dapps:I,Contracts:V},computed:{isMobile:()=>p.e.value},mounted(){let t=this.$route.query.nav;t instanceof Array&&(t=t[0]),this.currentTab=t||M[0].value},methods:{back(){this.$router.push({path:"/data",query:{rollup_tab:"arbitrum"}})},onTabChnage(t){this.currentTab=t,this.$router.replace({path:this.$route.path,query:{nav:t}})},openTwitter(){window.open("https://twitter.com/OrbiterResearch","_blank")}}},F=(a("efdb"),Object(c.a)(N,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"transactions-detail"},[e("div",{staticClass:"nav"},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isMobile,expression:"!isMobile"}],staticClass:"back",on:{click:t.back}}),e("div",{staticClass:"tabs"},t._l(t.tabs,(function(a,s){return e("div",{key:s,staticClass:"tab",class:{active:t.currentTab===a.value},on:{click:function(e){return t.onTabChnage(a.value)}}},[t._v(" "+t._s(a.name)+" ")])})),0),t.isMobile?t._e():e("div",{staticClass:"contact"},[e("div",{staticClass:"btn active",on:{click:t.openTwitter}},[t._v(" Contact Us ")])])]),e(t.currentTab,{tag:"component"})],1)}),[],!1,null,null,null));e.default=F.exports},c64e:function(t,e,a){"use strict";a("14d9");var s=a("6612"),i=a.n(s),r=a("313e"),n=a("fa91"),o={data:()=>({isError:!1}),props:{name:{type:String,require:!0},width:{type:Number,default:22},height:{type:Number,default:22}},computed:{src(){if(this.isError)return a("b591");if(!this.name)return"#";const t=this.name.replace(/\s+/g,"").toLowerCase();return`${this.$env.l2BaseUrl}/img/rollups/${t}.png`}},watch:{name(){this.isError=!1}},methods:{onError(){this.isError=!0}}},c=a("2877"),l=Object(c.a)(o,(function(){return(0,this._self._c)("img",{attrs:{width:this.width,height:this.width,src:this.src},on:{error:this.onError}})}),[],!1,null,null,null).exports,d=a("ceb7"),h=a("ede9"),u=a("f690"),p=a("9e9d"),m=a("8cdb"),f=a("d48f"),g=a("d186");const _=["All Users","Active Users","New Users"],v=["All Interactions","Bridge Interactions","Other Interactions"],w=["rgba(0, 0, 255, 0.8)","rgba(239, 47, 45, 1)","rgba(17, 112, 255, 1)"],b={"All Users":"rgba(0, 0, 255, 0.8)","Active Users":"rgba(239, 47, 45, 1)","New Users":"rgba(17, 112, 255, 1)","All Interactions":"rgba(0, 0, 255, 0.8)","Bridge Interactions":"rgba(239, 47, 45, 1)","Other Interactions":"rgba(17, 112, 255, 1)"},y=[{label:"1m",value:1},{label:"3m",value:3},{label:"6m",value:6},{label:"1y",value:12},{value:"Max",label:"Max"}],C=t=>1e3*t;var A={data:()=>({dialogVisible:!1,times:y,currentTime:y[1].value,dappData:{},detailData:{},rollups:[],rollup:"",allSeries:_,allInteractionsSeries:v,color:w,checkData:["New Users","Active Users"],checkInteractionsData:["All Interactions","Bridge Interactions","Other Interactions"],interactionsShow:!0}),computed:{isMobile:()=>g.e.value,chartData(){var t,e;if(!this.detailData)return;const a=(null===(t=this.detailData)||void 0===t?void 0:t.chart_data)||[],s=(null===(e=this.detailData)||void 0===e?void 0:e.chart_data_bridge)||[],i=this.currentTime,r=(new Date).getTime()/1e3;if("Max"===i)return{chart_data:a.sort((t,e)=>t.timestamp-e.timestamp),chart_data_bridge:s.sort((t,e)=>t.timestamp-e.timestamp)};const n=2592e3*i;return{chart_data:a.filter(t=>t.timestamp>r-n).sort((t,e)=>t.timestamp-e.timestamp),chart_data_bridge:s.filter(t=>t.timestamp>r-n).sort((t,e)=>t.timestamp-e.timestamp)}},isLightMode(){return"light"===this.$store.state.themeMode}},watch:{chartData(){this._chart&&this._chart.setOption(this._getChartOptions()),this._interactionsChart&&this._interactionsChart.setOption(this._getInteractionsChartOptions())}},components:{DappLogo:n.a,RollupLogo:l,Selector:d.a,IconLink:h.a,TwitterLink:p.a,Rollups:u.a},mounted(){window.addEventListener("resize",this._onResize)},beforeDestroy(){window.removeEventListener("resize",this._onResize)},methods:{close(){this.dialogVisible=!1,this.$emit("close",!1)},show(t,e){this.interactionsShow=!0,this.dialogVisible=!0,this.rollup=t,this.rollups=[t],this.$nextTick(async()=>{this.checkData=["New Users","Active Users"],this.checkInteractionsData=["All Interactions","Bridge Interactions","Other Interactions"],this.currentTime=y[1].value,this._chart&&this._chart.clear(),this._interactionsChart&&this._interactionsChart.clear(),this.detailData={},this._initChart(),this.dappData=e,this.$loader.show();const a=await Object(m.a)(t,e.dapp_name);this.$loader.hide(),a&&a.info&&a.info.dapp_supported_l2&&(this.rollups=a.info.dapp_supported_l2),this.detailData=a,this._chart.hideLoading(),this.chartData.chart_data_bridge.length?(this.interactionsShow=!0,this._initInteractionsChart(),this._interactionsChart.hideLoading()):this.interactionsShow=!1})},async onRollupChange(t){this.rollup!==t&&(this.rollup=t,this.detailData={},this.$loader.show(),this.detailData=await Object(m.a)(t,this.dappData.dapp_name),this.interactionsShow=!!this.chartData.chart_data_bridge.length,this.$loader.hide())},onCheckerClick(t,e){if(1===t){if(1===this.checkData.length&&this.checkData.includes(e))return;if(this.checkData.includes(e)?this.checkData=this.checkData.filter(t=>t!==e):this.checkData=this.checkData.concat([e]),this._chart){this._chart.clear();const t=this._getChartOptions();this._chart.setOption(t)}}else if(2===t){if(1===this.checkInteractionsData.length&&this.checkInteractionsData.includes(e))return;if(this.checkInteractionsData.includes(e)?this.checkInteractionsData=this.checkInteractionsData.filter(t=>t!==e):this.checkInteractionsData=this.checkInteractionsData.concat([e]),this._interactionsChart){this._interactionsChart.clear();const t=this._getInteractionsChartOptions();this._interactionsChart.setOption(t)}}},_onResize(){this._chart&&this._chart.resize(),this._interactionsChart&&this._interactionsChart.resize()},_initChart(){const t=document.getElementById("dapp-detail-chart"),e=r.init(t);this._chart=e},_initInteractionsChart(){const t=document.getElementById("dapp-detail-interactions-chart"),e=r.init(t);this._interactionsChart=e},_getChartOptions(){const{times:t,allUser:e,activeUser:a,newUser:s}=this._getData(),i={height:160,title:{show:!1},legend:{show:!1},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,alignTicks:!1,data:t,axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.length/(this.isMobile?3:6))==0,formatter:t=>Object(f.a)(parseInt(t),"yyyy-MM-dd")},splitLine:{lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}}},yAxis:{splitNumber:3,type:"value",axisPointer:{show:!1},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}},tooltip:{trigger:"axis",padding:0,backgroundColor:"transparent",formatter:this._onFormatter,position:this.isMobile?function(t,e,a,s,i){const r={top:"10%"};return r[["left","right"][+(t[0]<i.viewSize[0]/2)]]=5,r}:void 0},series:[]};return this.checkData.includes("New Users")&&i.series.push({name:"New Users",type:"line",smooth:!0,lineStyle:{width:4,color:"rgba(17, 112, 255, 1)"},showSymbol:!1,emphasis:{focus:"series"},data:s}),this.checkData.includes("Active Users")&&i.series.push({name:"Active Users",type:"line",smooth:!0,lineStyle:{width:4,color:"rgba(239, 47, 45, 1)"},showSymbol:!1,emphasis:{focus:"series"},data:a}),this.checkData.includes("All Users")&&i.series.push({name:"All Users",type:"line",smooth:!0,lineStyle:{width:4,color:"rgba(0, 0, 255, 0.8)"},showSymbol:!1,emphasis:{focus:"series"},data:e}),i},_getInteractionsChartOptions(){const{times:t,daily_tx:e,bridge_tx:a,other_tx:s}=this._getInteractionsData(),i={height:160,title:{show:!1},legend:{show:!1},grid:{top:26,left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,alignTicks:!1,data:t,axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}},axisLabel:{interval:e=>e%Math.ceil(t.length/(this.isMobile?3:6))==0,formatter:t=>Object(f.a)(parseInt(t),"yyyy-MM-dd")},splitLine:{lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.2)":"rgba(255, 255, 255, 0.2)"}}},yAxis:{splitNumber:3,type:"value",axisPointer:{show:!1},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:this.isLightMode?"rgba(51, 51, 51, 0.4)":"rgba(255, 255, 255, 0.4)"}}},tooltip:{trigger:"axis",padding:0,backgroundColor:"transparent",formatter:this._onInteractionsFormatter,position:this.isMobile?function(t,e,a,s,i){const r={top:"10%"};return r[["left","right"][+(t[0]<i.viewSize[0]/2)]]=5,r}:void 0},series:[]};return this.checkInteractionsData.includes("Other Interactions")&&i.series.push({name:"Other Interactions",type:"line",smooth:!0,lineStyle:{width:4,color:"rgba(17, 112, 255, 1)"},showSymbol:!1,emphasis:{focus:"series"},data:s}),this.checkInteractionsData.includes("Bridge Interactions")&&i.series.push({name:"Bridge Interactions",type:"line",smooth:!0,lineStyle:{width:4,color:"rgba(239, 47, 45, 1)"},showSymbol:!1,emphasis:{focus:"series"},data:a}),this.checkInteractionsData.includes("All Interactions")&&i.series.push({name:"All Interactions",type:"line",smooth:!0,lineStyle:{width:4,color:"rgba(0, 0, 255, 0.8)"},showSymbol:!1,emphasis:{focus:"series"},data:e}),i},_getData(){var t;if(null===(t=this.chartData)||void 0===t||!t.chart_data)return{times:[],allUser:[],activeUser:[],newUser:[]};const e=this.chartData.chart_data;return{times:e.map(t=>C(t.timestamp)),allUser:e.map(t=>t.all_users),activeUser:e.map(t=>t.active_users),newUser:e.map(t=>t.new_users)}},_getInteractionsData(){var t;if(null===(t=this.chartData)||void 0===t||!t.chart_data_bridge)return{times:[],daily_tx:[],bridge_tx:[],other_tx:[]};const e=this.chartData.chart_data_bridge;return{times:e.map(t=>C(t.timestamp)),daily_tx:e.map(t=>t.daily_tx),bridge_tx:e.map(t=>t.bridge_tx),other_tx:e.map(t=>t.other_tx)}},_onFormatter(t){const e=t[0].axisValue,a=this._getDataByTime(e,"chart_data").all_users;return`<div class="dapp-detail-chart-popover-content">\n                <div class="dapp-detail-chart-popover-title">${Object(f.a)(parseInt(e),"yyyy-MM-dd")}</div>\n                <div class="dapp-detail-chart-popover-data">\n                   ${t.reverse().map(t=>`\n                    <div class="dapp-detail-chart-popover-data-item">\n                      <div class="dot" style="background:${b[t.seriesName]}"></div>\n                      <div class="name">${t.seriesName}</div>\n                      <div class="value">${i()(t.value).format("0,0")}\n                      ${"All Users"!==t.seriesName?`<span>(${(t.value/a*100).toFixed(2)}%)</span>`:""}\n                        </div>\n                      </div>\n                    `).join("")}\n                </div>\n              </div>`},_onInteractionsFormatter(t){const e=t[0].axisValue,a=this._getDataByTime(e,"chart_data_bridge").daily_tx;return`<div class="dapp-detail-chart-popover-content">\n                <div class="dapp-detail-chart-popover-title">${Object(f.a)(parseInt(e),"yyyy-MM-dd")}</div>\n                <div class="dapp-detail-chart-popover-data">\n                   ${t.reverse().map(t=>`\n                    <div class="dapp-detail-chart-popover-data-item">\n                      <div class="dot" style="background:${b[t.seriesName]}"></div>\n                      <div class="name">${t.seriesName}</div>\n                      <div class="value">${i()(t.value).format("0,0")}\n                      ${"All Users"!==t.seriesName?`<span>(${(t.value/a*100).toFixed(2)}%)</span>`:""}\n                        </div>\n                      </div>\n                    `).join("")}\n                </div>\n              </div>`},_getDataByTime(t,e){return this.chartData[e].find(e=>1e3*e.timestamp===parseInt(t))}}},k=(a("90af"),a("fbc4"),a("c798"),Object(c.a)(A,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{"custom-class":"dapp-detail-dialog",visible:t.dialogVisible,"append-to-body":"","margin-top":t.isMobile?"5%":"15vh","show-close":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticClass:"dapp-detail-dialog-title",attrs:{slot:"title"},slot:"title"},[e("dapp-logo",{staticClass:"logo",attrs:{name:t.dappData.dapp_name}}),e("div",{staticClass:"name"},[t._v(t._s(t.dappData.dapp_name))]),e("span",{staticClass:"close",on:{click:t.close}})],1),e("div",{staticClass:"dapp-detail-dialog-content"},[e("div",{staticClass:"info"},[e("div",{staticClass:"links"},[e("icon-link",{attrs:{href:t.dappData.dapp_url}}),e("twitter-link",{attrs:{href:t.dappData.dapp_twitter}})],1),t.detailData.info&&t.detailData.info.dapp_category?e("div",{staticClass:"category"},[t._v(" "+t._s(t.detailData.info.dapp_category)+" ")]):t._e(),t.isMobile?t._e():e("div",{staticClass:"supported"},[t._v("Supported L2")]),t.isMobile?t._e():e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Only the chains supported by Orbiter-L2 Data are listed. ")]),e("span",{staticClass:"supported-l2-help",attrs:{slot:"reference"},slot:"reference"})]),t.detailData.info?e("div",{staticClass:"rollups"},t._l(t.detailData.info.dapp_supported_l2,(function(t,a){return e("rollup-logo",{key:a,attrs:{name:t}})})),1):t._e()],1),e("div",{staticClass:"selectors"},[e("rollups",{attrs:{customRollups:t.rollups.map(t=>({value:t.replace(/\s+/g,"").toLowerCase(),label:t})),onlySelect:!0,value:t.rollup},on:{"rollup-change":t.onRollupChange}}),e("selector",{staticClass:"selector",attrs:{data:t.times,value:t.currentTime},on:{change:e=>t.currentTime=e.value}})],1),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v(" User Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Active Users & Corresponding percentage of total users. "),e("br"),t._v(" New Users & Corresponding percentage of total users. "),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"dapp-detail-chart"}}),e("div",{staticClass:"checker"},t._l(t.allSeries,(function(a,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){return t.onCheckerClick(1,a)}}},[e("div",{staticClass:"checkbox",class:{active:t.checkData.includes(a)}}),e("div",{staticClass:"line",style:{background:t.color[s]}}),e("div",{staticClass:"name"},[t._v(t._s(a))])])})),0)]),e("div",{staticClass:"content",attrs:{hidden:!t.interactionsShow}},[e("div",{staticClass:"title"},[t._v(" Interactions Statistics "),e("el-popover",{attrs:{"popper-class":"supported-l2-popover",placement:"bottom",width:"280",trigger:"hover"}},[e("div",{staticClass:"supported-l2-desc"},[t._v(" Bridge Interactions percentage of total Interactions. "),e("br"),t._v(" Other Interactions percentage of total Interactions. "),e("a",{attrs:{href:"https://docs.orbiter.finance/l2data",target:"_blank"}},[t._v(" Read More ")])]),e("span",{staticClass:"title-help",attrs:{slot:"reference"},slot:"reference"})])],1),e("div",{attrs:{id:"dapp-detail-interactions-chart"}}),e("div",{staticClass:"checker"},t._l(t.allInteractionsSeries,(function(a,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){return t.onCheckerClick(2,a)}}},[e("div",{staticClass:"checkbox",class:{active:t.checkInteractionsData.includes(a)}}),e("div",{staticClass:"line",style:{background:t.color[s]}}),e("div",{staticClass:"name"},[t._v(t._s(a))])])})),0)])])])}),[],!1,null,null,null));e.a=k.exports},c798:function(t,e,a){"use strict";a("feeb")},ca50:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAUCAYAAAC58NwRAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACvSURBVHgBlZPtDQIhDIb7MoEbqAPcreQ5ghvcCG4grnQm/lU3YAHF9r5iAAs0ARr6PBASilfbHj7kz0TkDKHfDsOVlDAM97xueOw4t3KAKszwGjnJkKdTuKlJkOnRNB1nl/g0dOGbsCSlEn6LJRLCYk6KhJyUFBTJmX+CAXxi2yVvmL+LjQr+fUQNvL/dLWpgSVEDr0IpPAo1sMTSD0XwKFDQDxo8CVM/PHm4HCzxBXiAfGSW50PVAAAAAElFTkSuQmCC"},ceb7:function(t,e,a){"use strict";var s={props:{data:{type:Array,require:!0},value:{require:!0}}},i=(a("ab49"),a("2877")),r=Object(i.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"selector"},t._l(t.data,(function(a,s){return e("div",{key:s,staticClass:"selector-item",class:{active:a.value===t.value},on:{click:function(e){return t.$emit("change",a)}}},[t._v(" "+t._s(a.label)+" ")])})),0)}),[],!1,null,null,null);e.a=r.exports},d147:function(t,e,a){"use strict";var s={data:()=>({isError:!1}),props:{name:{type:String,require:!0},width:{type:Number,default:22},height:{type:Number,default:22}},computed:{src(){if(this.isError)return a("6bc0");if(!this.name)return"#";const t=this.name.replace(/\s+/g,"").toLowerCase();return`${this.$env.l2BaseUrl}/img/chains/${t}.png`}},watch:{name(){this.isError=!1}}},i=a("2877"),r=Object(i.a)(s,(function(){var t=this;return(0,t._self._c)("img",{attrs:{width:t.width,height:t.width,src:t.src},on:{error:function(e){t.isError=!0}}})}),[],!1,null,null,null);e.a=r.exports},d224:function(t,e,a){"use strict";a("773f")},d48f:function(t,e,a){"use strict";function s(t,e="yyyy-MM-dd hh:mm:ss"){const a=new Date("string"==typeof t?t.replace(/-/g,"/"):t),s={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};return/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(""+a.getFullYear()).substring(4-RegExp.$1.length))),Object.keys(s).forEach(t=>{const a=s[t];new RegExp(`(${t})`).test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a.toString():("00"+a).substring((""+a).length)))}),e}a.d(e,"a",(function(){return s}))},d920:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return n}));a("d9e2");var s=a("116b");const i={};async function r(){let t;try{if(t=await s.a.get("/rollups_data"),"success"!==t.data.status)throw Error()}catch(t){console.error("Failed to get rollups",t)}return t?t.data.data:void 0}async function n(t){let e;if(i[t])return i[t];try{if(e=await s.a.get("/rollup_tab/"+t),"success"!==e.data.status)throw Error()}catch(t){console.error("Failed to get rollups",t)}return e?i[t]=e.data.data.map(t=>({label:Object.keys(t)[0],value:t[Object.keys(t)[0]]})):void 0}},e4bb:function(t,e,a){"use strict";a.r(e);a("14d9");var s=a("2af9"),i=a("d186"),r=a("39f9");let n=0;var o={name:"History",components:{NoData:s.g},computed:{currentPage(){return this.transactionListInfo.current},historyData(){const{transactionList:t}=i.d;if(!t)return t;const e=[];for(const a of t)11!=a.fromChainID&&511!=a.fromChainID&&11!=a.toChainID&&511!=a.toChainID&&e.push(a);return e},isShowDydxLimit(){const{transactionList:t}=i.d;return!(!this.historyData||!t)&&this.historyData.length<t.length},isApiLoading:()=>i.d.isLoading,transactionListInfo:()=>i.d.transactionListInfo},deactivated(){clearInterval(n)},created(){n=setInterval(()=>{r.a.value.walletPayload.walletAddress&&clearInterval(n)},500)},methods:{curChange(t){},closeDialog(){const t=JSON.parse(localStorage.getItem("last_page_before_history")||"{}");try{t.path?(t.path!==this.$route.path&&this.$router.push(t),Object(i.i)()):this.$router.push({path:"/"})}catch(t){console.error(t)}},getHistoryInfo(t){Object(i.l)(t),this.closeDialog()},stopPenetrate(t){t.stopPropagation()},iconName:t=>0===t.state?"history_success":1===t.state?"history_waiting":"history_fail",logoName:t=>"2"==t||"22"==t?"arblogo":"3"==t||"33"==t?"zklogo":"4"==t||"44"==t?"sknlogo":"6"==t||"66"==t?"pglogo":"7"==t||"77"==t?"oplogo":"8"==t||"88"==t?"imxlogo":"9"==t||"99"==t?"loopringlogo":"10"==t||"510"==t?"metislogo":"11"==t||"511"==t?"dydxlogo":"12"==t||"512"==t?"zkspacelogo":"13"==t||"513"==t?"bobalogo":"15"==t||"515"==t?"bsclogo":"16"==t||"516"==t?"arnavologo":"518"==t||"519"==t?"scrolllogo":"520"==t||"520"==t?"taiko":"ethlogo"}},c=(a("7042"),a("7785"),a("2877")),l=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"history-page"},[e("div",{staticClass:"history-content"},[e("div",{staticClass:"title",staticStyle:{"margin-bottom":"100px"}},[t._v("History")]),t._m(0),e("svg-icon",{staticClass:"close",attrs:{iconName:"close"},nativeOn:{click:function(e){return t.closeDialog.apply(null,arguments)}}})],1)])}),[function(){var t=this._self._c;return t("span",{staticStyle:{"line-height":"25px",width:"400px","font-size":"18px","font-family":"'Inter Regular'",color:"#81807C"}},[this._v(" Our Hisory is temporarily offline for essential maintenance."),t("br"),this._v(" Apologies for any inconvenience. ")])}],!1,null,"2107f3c0",null);e.default=l.exports},ed20:function(t,e,a){"use strict";a("2c55")},edac:function(t,e,a){"use strict";a.r(e);var s=[function(){var t=this._self._c;return t("div",{staticClass:"new"},[t("img",{staticClass:"img",attrs:{src:a("2596")}})])},function(){var t=this._self._c;return t("div",{staticStyle:{"margin-bottom":"30px"}},[t("div",{staticClass:"maker-desc"},[t("div",{staticClass:"point"},[this._v("1")]),t("div",[this._v(" Become a maker and configure node parameters. ")])]),t("div",{staticClass:"maker-desc"},[t("div",{staticClass:"point"},[this._v("2")]),t("div",[this._v(" Run nodes to ensure instant response to users. ")])]),t("div",{staticClass:"maker-desc"},[t("div",{staticClass:"point"},[this._v("3")]),t("div",[this._v(" Maintain sufficient liquidity in the node by depositing margin. ")])]),t("div",{staticClass:"maker-desc"},[t("div",{staticClass:"point"},[this._v("4")]),t("div",[this._v(" Experience arbitration process when transactions fail. ")])])])}],i=(a("14d9"),a("2af9")),r=a("0e0b"),n=a("15f6"),o=(a("d9e2"),a("00de")),c=a("bc3a"),l=a.n(c),d=a("901e"),h=a.n(d),u=a("c030"),p=a("5cff"),m=(a("3c65"),a("8641")),f=a("6779"),g=a("edf5"),_=a("c4cb"),v=a("129b"),w=a("d186");const b=a("901e");m.a.axios();var y={getZKspaceBalance:async function(t){if(12!==t.localChainID&&512!==t.localChainID)throw new Error("getZKSpaceBalance Error: wrongChainID");const e=`${512===t.localChainID?_.a.ZKSpace.Rinkeby:_.a.ZKSpace.Mainnet}/account/${t.account}/balances`;try{const t=await l.a.get(e);if(200===t.status&&t.data.success)return t.data.data.balances.tokens;throw new Error("getZKSpaceBalance error: response.status not 200")}catch(t){throw new Error("getZKSpaceBalance error: "+t.message)}},getZKSpaceTransferGasFee:async function(t,e){if(!e)return 0;const a=w.u.ethPrice?w.u.ethPrice:2e3;if(12!==t&&512!==t)throw new Error("getZKSpaceTransferGasFeewrongChainID");const s=`${512===t?_.a.ZKSpace.Rinkeby:_.a.ZKSpace.Mainnet}/account/${e}/fee`;try{const t=await l.a.get(s);if(200===t.status){const e=t.data;if(!0===e.success){const t=new b(e.data.transfer).dividedBy(new b(a)).decimalPlaces(6,b.ROUND_UP);return Number(t)}throw new Error("getZKSpaceGasFee->respData.success no true")}throw new Error("getZKSpaceGasFee->response.status not 200")}catch(t){throw new Error("getZKSpaceGasFee->network error")}},getZKSpaceWithDrawGasFee:async function(t,e){if(!e)return;const a=w.u.ethPrice?w.u.ethPrice:2e3;if(12!==t&&512!==t)throw new Error("getZKSpaceGasFeeErrorwrongChainID");const s=`${512===t?_.a.ZKSpace.Rinkeby:_.a.ZKSpace.Mainnet}/account/${e}/fee`;try{const t=await l.a.get(s);if(200===t.status&&t.data.success){const e=t.data,s=new b(e.data.withdraw).dividedBy(new b(a)).decimalPlaces(6,b.ROUND_UP);return Number(s)}throw new Error("getZKSpaceWithDrawGasFee response.status not 200")}catch(t){throw new Error("getZKSpaceWithDrawGasFee error"+t.message)}},getZKAccountInfo:function(t,e){return new Promise((a,s)=>{12!==t&&512!==t&&s({errorCode:1,errMsg:"getZKSpaceAccountInfoError_wrongChainID"});const i=(512===t?_.a.ZKSpace.Rinkeby:_.a.ZKSpace.Mainnet)+"/account/"+e+"/info";l.a.get(i).then((function(t){if(200===t.status){const e=t.data;1==e.success?a(e.data):s(e.data)}else s({errorCode:1,errMsg:"NetWorkError"})})).catch((function(t){s({errorCode:2,errMsg:t})}))})},sendTransfer:async function(t,e){if(12!==t&&512!==t)return{code:"1",error:"sendZKSpaceTransferError_wrongChainID"};return await l.a.post((512===t?_.a.ZKSpace.Rinkeby:_.a.ZKSpace.Mainnet)+"/tx",{signature:e.signature,fastProcessing:e.fastProcessing,tx:e.tx})},getZKSpaceTransactionData:async function(t,e){if(12!==t&&512!==t)throw new Error("getZKTransactionDataError_wrongChainID");const a=(512===t?_.a.ZKSpace.Rinkeby:_.a.ZKSpace.Mainnet)+"/tx/"+e,s=await l.a.get(a);if(200===s.status){const t=s.data;if(!0===t.success)return t;throw new Error(t)}throw new Error("getZKSpaceTransactionData NetWorkError")},async getL2SigTwoAndPK(t,e,a,s,i,r){const{selectMakerConfig:n}=w.u;try{const o={accountId:e.id,to:n.recipient,tokenSymbol:r?r.symbol:"ETH",tokenAmount:f.utils.formatUnits(a,r.decimals),feeSymbol:"ETH",fee:s.toString(),zksChainID:i,nonce:e.nonce},c=`Transfer ${o.tokenAmount} ${o.tokenSymbol}\nTo: ${o.to.toLowerCase()}\nChain Id: ${o.zksChainID}\nNonce: ${o.nonce}\nFee: ${o.fee} ${o.feeSymbol}\nAccount Id: `+o.accountId;return await t.signMessage(c)}catch(t){throw new Error("getL2SigTwoAndPK error "+t.message)}},getL2SigOneAndPK(t,e,a,s,i,r,n,o){const{selectMakerConfig:c}=w.u,l=f.utils.concat(["0x05",g.utils.numberToBytesBE(e.id,4),a,c.recipient,g.utils.numberToBytesBE(s,2),g.utils.packAmountChecked(i),g.utils.numberToBytesBE(r,1),g.utils.packFeeChecked(n),g.utils.numberToBytesBE(o,1),g.utils.numberToBytesBE(e.nonce,4)]),d=Object(v.sign_musig)(t,l);return{pubKey:f.utils.hexlify(d.slice(0,32)).substr(2),l2SignatureOne:f.utils.hexlify(d.slice(32)).substr(2)}},async getAccountInfo(t,e,a,s){try{const i=await this.getZKAccountInfo(t,s);if("sync:0000000000000000000000000000000000000000"==i.pub_key_hash){const r=await this.registerAccount(i,e,t,a,s);i.pub_key_hash=r,i.nonce=i.nonce+1}return i}catch(t){throw new Error("getAccountInfo error "+t.message)}},async getL1SigAndPriVateKey(t){try{const e="Access ZKSwap account.\n\nOnly sign this message for a trusted client!",a=await t.signMessage(e),s=f.utils.arrayify(a);return await g.crypto.privateKeyFromSeed(s)}catch(t){throw new Error("getL1SigAndPriVateKey error "+t.message)}},async registerAccount(t,e,a,s,i){try{const r=f.utils.hexlify(Object(v.private_key_to_pubkey_hash)(e)).substr(2),n=this.toHex(t.id,4),o=`Register ZKSwap pubkey:\n\n${r}\nnonce: ${this.toHex(t.nonce,4)}\naccount id: ${n}\n\nOnly sign this message for a trusted client!`,c=await s.signMessage(o),d=(512==a?_.a.ZKSpace.Rinkeby:_.a.ZKSpace.Mainnet)+"/tx",h=await l.a.post(d,{signature:null,fastProcessing:null,extraParams:null,tx:{account:i,accountId:t.id,ethSignature:c,newPkHash:"sync:"+r,nonce:0,type:"ChangePubKey"}},{headers:{"zk-account":i}});if(200==h.status&&h.data.success)return h.data;throw new Error("registerAccount fail")}catch(t){throw new Error("registerAccount error "+t.message)}},toHex(t,e){const a=["a","b","c","d","e","f"],s=Array(2*e).fill("0");let i=2*e-1;for(;t>15;){const e=t%16;if(e>=10){const t=e%10;s[i--]=a[t]}else s[i--]=e.toString();t=Math.floor(t/16)}if(0!=t)if(t>=10){const e=t%10;s[i--]=a[e]}else s[i--]=t.toString();s.unshift("0x");return s.join("")}};const C=a("901e"),A={eth:256,arbitrum:256,zksync:35,zksync2:256,starknet:256,polygon:256,optimistic:256,immutablex:28,loopring:256,metis:256,dydx:28,zkspace:35,boba:256,bsc:256,arbitrum_nova:256,polygon_zkevm:256,scroll_l1_test:256,scroll_l2_test:256,taiko_a1_test:256},k={1:"eth",2:"arbitrum",22:"arbitrum",3:"zksync",33:"zksync",4:"starknet",44:"starknet",5:"eth",6:"polygon",66:"polygon",7:"optimistic",77:"optimistic",8:"immutablex",88:"immutablex",9:"loopring",99:"loopring",10:"metis",510:"metis",11:"dydx",511:"dydx",12:"zkspace",512:"zkspace",13:"boba",513:"boba",14:"zksync2",514:"zksync2",515:"bsc",15:"bsc",16:"arbitrum_nova",516:"arbitrum_nova",517:"polygon_zkevm",518:"scroll_l1_test",519:"scroll_l2_test",520:"taiko_a1_test"},T=4;function P(t){if(9===t||99===t||"loopring"===t)return!0}function S(t){return 3===t||33===t||"zksync"===t||(8===t||88===t||"immutablex"===t||(11===t||511===t||"dydx"===t||(12===t||512===t||"zkspace"===t)))}function x(t,e){if(!D(t))return{state:!1,error:"The chain did not support"};if(e<1)return{state:!1,error:"the token doesn't support that many decimal digits"};let a=E(t,e);var s=e.toString().length;if(s<T)return{state:!1,error:"Amount size must be greater than pNumberSize"};if(S(t)&&s>a){return{state:!0,pText:e.toString().slice(0,a).slice(-T)}}return{state:!0,pText:e.toString().slice(-T)}}function D(t){return!!r.a.getChainInfoByChainId(t)}function I(t){if(!D(t))return{error:"The chain did not support"};if("number"==typeof t){let e=C(2**(A[k[t]]||256)-1);return{min:C(0),max:e}}if("string"==typeof t){let e=C(2**(A[t.toLowerCase()]||256)-1);return{min:C(0),max:e}}}function E(t,e){let a=function(t){let e=I(t);return e.error?e:e.max.toFixed().length}(t);if(a.error)return a.error;let s=I(t),i=L(e.toString());return i.length>a?"amount is inValid":i>s.max.toFixed()?a-1:a}function L(t){return"string"!=typeof t?"param must be string":t.replace(/^0+(\d)|(\d)0+$/gm,"$1$2")}var U={getPTextFromTAmount:x,getToChainIDFromAmount:function(t,e){let a,s=x(t,e);return s.state?(a=s.pText,a>9e3?a-9e3:null):null},isAmountValid:function(t,e){if(!D(t))return{state:!1,error:"The chain did not support"};if(e<1)return{state:!1,error:"the token doesn't support that many decimal digits"};let a=E(t,e);var s=e.toString().length;if(s<T)return{state:!1,error:"Amount size must be greater than pNumberSize"};let i=e;if(S(t)&&(i=L(e.toString())),!function(t,e){if(!D(e))return{state:!1,error:"The chain did not support"};let a=I(e);return!a.error&&!(!C(t).gte(a.min)||!C(t).lte(a.max))}(i,t))return{state:!1,error:"Amount exceeds the spending range"};if(S(t)&&s>a){let t=e.toString().slice(0,a).slice(-T);return 0===Number(t)?{state:!0}:{state:!1,error:"Insufficient number of flag bits"}}{let t=e.toString().slice(-T);return 0===Number(t)?{state:!0}:{state:!1,error:"Insufficient number of flag bits"}}},getTAmountFromRAmount:function(t,e,a){if(!D(t))return{state:!1,error:"The chain did not support"};if(e<1)return{state:!1,error:"the token doesn't support that many decimal digits"};if(a.length>T)return{state:!1,error:"the pText size invalid"};let s=E(t,e);var i=e.toString().length;if(i<T)return{state:!1,error:"Amount size must be greater than pNumberSize"};if(S(t)&&i>s){return{state:!0,tAmount:e.toString().slice(0,s-a.length)+a+e.toString().slice(s)}}return P(t)?{state:!0,tAmount:e}:{state:!0,tAmount:e.toString().slice(0,i-a.length)+a}},getRAmountFromTAmount:function(t,e){let a="";for(let t=0;t<T;t++)a+="0";if(!D(t))return{state:!1,error:"The chain did not support"};if(e<1)return{state:!1,error:"the token doesn't support that many decimal digits"};let s=E(t,e);var i=e.toString().length;if(i<T)return{state:!1,error:"Amount size must be greater than pNumberSize"};if(S(t)&&i>s){return{state:!0,rAmount:e.toString().slice(0,s-T)+a+e.toString().slice(s)}}return{state:!0,rAmount:e.toString().slice(0,i-T)+a}},pTextFormatZero:function(t){return String(t).length>T?t:(Array(T).join(0)+t).slice(-T)},isZKChain:function(t){return 3===t||33===t||"zksync"===t||12==t||512==t||"zkspace"==t},isLPChain:P,isLimitNumber:S,getToAmountFromUserAmount:function(t,e,a){var s;const i=(null===(s=e.fromChain)||void 0===s?void 0:s.decimals)||e.precision;let r=new C(t).minus(new C(e.tradingFee)),n=18===i?5:2,o=r.multipliedBy(new C(e.gasFee)).dividedBy(new C(1e3)).decimalPlaces(n,C.ROUND_UP),c=r.minus(o);return!c||isNaN(c)?0:a?c.multipliedBy(new C(10**i)):c},getDigitByPrecision:function(t){return 18===t?6:2}},V=a("4360"),M=a("31e2"),N=a("f2da"),F=a("8e2f");async function O(t){if(33===t)return await g.Provider.newHttpProvider("https://goerli-api.zksync.io/jsrpc");if(3===t)return await g.getDefaultProvider("mainnet");throw new Error(`chainId ${this.chainId} not supported yet!`)}var R=a("1b23"),B=a("3035"),K=a.n(B),H=a("39f9");let $=_.a.loopring.Mainnet;var G={getUserAPI:function(t){const e=9==t?1:5;return new R.f({chainId:e})},getExchangeAPI:function(t){const e=9==t?1:5;return new R.c({chainId:e})},getLpTokenInfoOnce:(t,e)=>(9===t?V.a.state.lpTokenList.mainnet:V.a.state.lpTokenList.rinkeby).find(t=>t.address==e),async getLpTokenInfo(t,e,a=10){const s=this.getLpTokenInfoOnce(t,e);return s||(await Object(R.h)(100),--a>0?void await this.getLpTokenInfo(t,e,a):0)},getLoopringBalance:async function(t,e,a,s){try{let i;if(a){const a=this.getExchangeAPI(e),s={owner:t},r=await a.getAccount(s);if(!r.accInfo||!r.raw_data)return r.code,0;i=r.accInfo}else{const a=await this.accountInfo(t,e);if(!a||a.code)return 0;i=a.accountInfo}99===e&&($=_.a.loopring.Rinkeby);const r=await l.a.get(`${$}/api/v3/user/balances?accountId=${i.accountId}&tokens=${s?s.tokenId:0}`);if(200===r.status){if(!Array.isArray(r.data))return 0;if(0===r.data.length)return 0;const t=r.data[0],e=t.total?Number(t.total):0,a=t.locked?Number(t.locked):0;return e-a-(t.pending.withdraw?Number(t.pending.withdraw):0)}}catch(t){console.error("Get loopring balance failed: "+t.message)}},accountInfo:async function(t,e){const a=w.h.value;if(a)return{accountInfo:a,code:0};if(!t||!e)return null;try{const a=this.getExchangeAPI(e),s=await a.getAccount({owner:t});if(s.accInfo&&s.raw_data){const t={accountInfo:s.accInfo,code:0};return Object(w.I)(s.accInfo),t}return{code:s.code,errorMessage:101002==s.code?"noAccount":s.message}}catch(t){return console.warn("get lp accountInfo error:"+t.message),null}},sendTransfer:async function(t,e,a,s,i,r,n){const o=this.getExchangeAPI(e),c=this.getUserAPI(e),l=await this.accountInfo(t,e);if(!l)throw Error("get account error");let d;if(l.code)throw Error("Get account error");if(d=null==l?void 0:l.accountInfo,0==d.nonce&&0==d.keyNonce&&""==d.publicKey.x&&""==d.publicKey.y&&""==d.keySeed)throw Error("account is not activated");if(d.frozen)throw Error("User account is frozen");const{exchangeInfo:h}=await o.getExchangeInfo(),u=new K.a(H.a.value.walletPayload.provider),p={web3:u,address:d.owner,keySeed:d.keySeed&&""!==d.keySeed?d.keySeed:R.d.KEY_MESSAGE.replace("${exchangeAddress}",h.exchangeAddress).replace("${nonce}",(d.nonce-1).toString()),walletType:R.b.MetaMask,chainId:99==e?R.a.GOERLI:R.a.MAINNET},m=await Object(R.g)(p),f={accountId:d.accountId},{apiKey:g}=await c.getUserApiKey(f,m.sk);if(!g)throw Error("Get Loopring ApiKey Error");Object(w.J)(g);const _=await this.getLpTokenInfo(e,i),v={accountId:d.accountId,sellTokenId:_.tokenId},b=await c.getNextStorageId(v,g),y=Math.round((new Date).getTime()/1e3)+2592e3,C={exchange:h.exchangeAddress,payerAddr:t,payerId:d.accountId,payeeAddr:a,payeeId:s,storageId:b.offchainId,token:{tokenId:_.tokenId,volume:r+""},maxFee:{tokenId:0,volume:"94000000000000000"},validUntil:y,memo:n};return await c.submitInternalTransfer({request:C,web3:u,chainId:99==e?R.a.GOERLI:R.a.MAINNET,walletType:R.b.MetaMask,eddsaKey:m.sk,apiKey:g,isHWAddr:!1})},getWithDrawFee:async function(t,e,a){var s,i;const r=await this.accountInfo(t,e);if(!r)return 0;let n;if(r.code)return 0;n=r.accountInfo;const o=w.u.transferValue,c={accountId:n.accountId,requestType:R.e.OFFCHAIN_WITHDRAWAL,tokenSymbol:a,amount:o},l=this.getUserAPI(e),d=await l.getOffchainFeeAmt(c,"");return null!=d&&null!==(s=d.fees)&&void 0!==s&&null!==(i=s.ETH)&&void 0!==i&&i.fee?d.fees.ETH.fee:0},getTransferFee:async function(t,e,a){const s=await this.accountInfo(t,e);if(!s)return 0;let i;if(s.code)return 0;i=s.accountInfo;const r=w.u.transferValue,n={accountId:i.accountId,requestType:R.e.TRANSFER,tokenSymbol:a?a.symbol:"ETH",amount:r},o=this.getUserAPI(e),c=await o.getOffchainFeeAmt(n,"");return c&&a&&c.fees[a.symbol]?c.fees[a.symbol].fee:0},getLoopringTxList:async function(t,e,a,s,i,r,n){const o=this.getUserAPI(a),c=await this.accountInfo(t,a);let l;if(!c||c.code)return;l=c.accountInfo;const d={accountId:l.accountId,start:s,end:i,status:"processed,processing,received",limit:r,offset:n,tokenSymbol:e,transferTypes:"transfer"};return await o.getUserTransferList(d,9==a?Object({NODE_ENV:"production",VUE_APP_HP_5:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_5:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_PO_66:"https://rpc-mumbai.maticvigil.com/",VUE_APP_HP_10:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_10:"wss://andromeda-ws.metis.io",VUE_APP_HP_510:"https://stardust.metis.io/?owner=588",VUE_APP_WP_510:"wss://stardust-ws.metis.io/",VUE_APP_HP_22:"https://goerli-rollup.arbitrum.io/rpc",VUE_APP_WP_22:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_HP_66:"https://polygon-testnet.public.blastapi.io",VUE_APP_WP_66:"https://polygon-testnet.public.blastapi.io",VUE_APP_HP_77:"https://opt-goerli.g.alchemy.com/v2/CEwdzUaxs2GFMZSZax7XYbLBV_30mSKF",VUE_APP_WP_77:"wss://opt-goerli.g.alchemy.com/v2/CEwdzUaxs2GFMZSZax7XYbLBV_30mSKF",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_CHAIN_API_KEY_77:"G1XY7R53AED1EB654H2PKV9NUMWKIGI1YA",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_513:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_515:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_15:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",VUE_APP_OPEN_URL:"https://openapi2.orbiter.finance/v1/",VUE_APP_ENV:"production",VUE_APP_L2Data_ENV:"development",VUE_APP_CHAIN_API_KEY_99:"35vBhSaHoYuUodTk2pFzuOLNeeVXtWyvsEUunNp0TRTph28gNFBecX9XRodrMUda",BASE_URL:""}).VUE_APP_LP_MK_KEY:Object({NODE_ENV:"production",VUE_APP_HP_5:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_5:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_PO_66:"https://rpc-mumbai.maticvigil.com/",VUE_APP_HP_10:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_10:"wss://andromeda-ws.metis.io",VUE_APP_HP_510:"https://stardust.metis.io/?owner=588",VUE_APP_WP_510:"wss://stardust-ws.metis.io/",VUE_APP_HP_22:"https://goerli-rollup.arbitrum.io/rpc",VUE_APP_WP_22:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_HP_66:"https://polygon-testnet.public.blastapi.io",VUE_APP_WP_66:"https://polygon-testnet.public.blastapi.io",VUE_APP_HP_77:"https://opt-goerli.g.alchemy.com/v2/CEwdzUaxs2GFMZSZax7XYbLBV_30mSKF",VUE_APP_WP_77:"wss://opt-goerli.g.alchemy.com/v2/CEwdzUaxs2GFMZSZax7XYbLBV_30mSKF",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_CHAIN_API_KEY_77:"G1XY7R53AED1EB654H2PKV9NUMWKIGI1YA",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_513:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_515:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_15:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",VUE_APP_OPEN_URL:"https://openapi2.orbiter.finance/v1/",VUE_APP_ENV:"production",VUE_APP_L2Data_ENV:"development",VUE_APP_CHAIN_API_KEY_99:"35vBhSaHoYuUodTk2pFzuOLNeeVXtWyvsEUunNp0TRTph28gNFBecX9XRodrMUda",BASE_URL:""}).VUE_APP_LP_MKTEST_KEY)},getAccountStorageID:async function(t,e,a){try{const s=await this.accountInfo(t,e);if(!s)return 0;let i;if(s.code)return 0;i=s.accountInfo;const r=this.getUserAPI(e),n={accountId:i.accountId,sellTokenId:a};return await r.getNextStorageId(n,9==e?Object({NODE_ENV:"production",VUE_APP_HP_5:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_5:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_PO_66:"https://rpc-mumbai.maticvigil.com/",VUE_APP_HP_10:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_10:"wss://andromeda-ws.metis.io",VUE_APP_HP_510:"https://stardust.metis.io/?owner=588",VUE_APP_WP_510:"wss://stardust-ws.metis.io/",VUE_APP_HP_22:"https://goerli-rollup.arbitrum.io/rpc",VUE_APP_WP_22:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_HP_66:"https://polygon-testnet.public.blastapi.io",VUE_APP_WP_66:"https://polygon-testnet.public.blastapi.io",VUE_APP_HP_77:"https://opt-goerli.g.alchemy.com/v2/CEwdzUaxs2GFMZSZax7XYbLBV_30mSKF",VUE_APP_WP_77:"wss://opt-goerli.g.alchemy.com/v2/CEwdzUaxs2GFMZSZax7XYbLBV_30mSKF",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_CHAIN_API_KEY_77:"G1XY7R53AED1EB654H2PKV9NUMWKIGI1YA",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_513:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_515:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_15:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",VUE_APP_OPEN_URL:"https://openapi2.orbiter.finance/v1/",VUE_APP_ENV:"production",VUE_APP_L2Data_ENV:"development",VUE_APP_CHAIN_API_KEY_99:"35vBhSaHoYuUodTk2pFzuOLNeeVXtWyvsEUunNp0TRTph28gNFBecX9XRodrMUda",BASE_URL:""}).VUE_APP_LP_MK_KEY:Object({NODE_ENV:"production",VUE_APP_HP_5:"https://rpc.ankr.com/eth_goerli",VUE_APP_WP_5:"wss://eth-goerli.g.alchemy.com/v2/CnaLTPjzMAfZkbHP6ou37gj-kREyQ_UX",VUE_APP_HP_PO_66:"https://rpc-mumbai.maticvigil.com/",VUE_APP_HP_10:"https://andromeda.metis.io/?owner=1088",VUE_APP_WP_10:"wss://andromeda-ws.metis.io",VUE_APP_HP_510:"https://stardust.metis.io/?owner=588",VUE_APP_WP_510:"wss://stardust-ws.metis.io/",VUE_APP_HP_22:"https://goerli-rollup.arbitrum.io/rpc",VUE_APP_WP_22:"wss://arb-goerli.g.alchemy.com/v2/SNjPljFp_xfOlgLUuY1cYB9VuQ4KeAQD",VUE_APP_HP_66:"https://polygon-testnet.public.blastapi.io",VUE_APP_WP_66:"https://polygon-testnet.public.blastapi.io",VUE_APP_HP_77:"https://opt-goerli.g.alchemy.com/v2/CEwdzUaxs2GFMZSZax7XYbLBV_30mSKF",VUE_APP_WP_77:"wss://opt-goerli.g.alchemy.com/v2/CEwdzUaxs2GFMZSZax7XYbLBV_30mSKF",VUE_APP_HP:"https://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_WP:"wss://eth-mainnet.alchemyapi.io/v2/KEY",VUE_APP_HP_AR:"https://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_AR:"wss://arb-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_PO:"https://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_PO:"wss://polygon-mainnet.g.alchemy.com/v2/KEY",VUE_APP_CHAIN_API_KEY_77:"G1XY7R53AED1EB654H2PKV9NUMWKIGI1YA",VUE_APP_HP_OP:"https://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_WP_OP:"wss://opt-mainnet.g.alchemy.com/v2/KEY",VUE_APP_HP_BOBA_R:"https://rinkeby.boba.network",VUE_APP_WP_BOBA_R:"wss://wss.rinkeby.boba.network",VUE_APP_HP_513:"https://mainnet.boba.network",VUE_APP_WP_BOBA:"wss://ws.mainnet.boba.network",VUE_APP_HP_515:"https://data-seed-prebsc-1-s1.binance.org:8545",VUE_APP_HP_15:"https://bsc-dataseed1.binance.org",VUE_APP_ETH_KEY:"HTBY8JS8UJV7U59BI51JCRYX9YZ484VEHZ",VUE_APP_PO_KEY:"POLYSCAN_API_KEY",VUE_APP_OP_KEY:"OPSCAN_API_KEY",VUE_APP_MAKER_CHAIN_ID:"5",VUE_APP_MAKER_GRAPHQL_URL:"https://api.thegraph.com/subgraphs/name/orbiter-finance/orbiter_goerli",VUE_APP_CONTRACT_ORMAKER_V1FACTORY:"0x08fa71f1c7Ac2e3bbbB8E12876C29AA6eC4f978b",VUE_APP_CONTRACT_OR_MANAGER:"0x1AdE8D4B4aeA14E830FEE50818133F18878d11B5",VUE_APP_SPV_API_BASE:"https://maker_dashboard_test.orbiter.finance/api/spv",VUE_APP_DASH_BOARD_URL:"http://localhost:8080",VUE_APP_HISTORY_API_BASE:"https://maker_dashboard_test.orbiter.finance",VUE_APP_OPEN_URL:"https://openapi2.orbiter.finance/v1/",VUE_APP_ENV:"production",VUE_APP_L2Data_ENV:"development",VUE_APP_CHAIN_API_KEY_99:"35vBhSaHoYuUodTk2pFzuOLNeeVXtWyvsEUunNp0TRTph28gNFBecX9XRodrMUda",BASE_URL:""}).VUE_APP_LP_MKTEST_KEY)}catch(t){return console.warn("getLoopringNonceError =",t),0}}},z=a("2a2b");var Y={async getTransferGasLimit(t,e,a){const{selectMakerConfig:s}=w.u;if(3===t||33===t){const a=await O(t);if(!e)return null;const r=3===t?V.a.state.zktokenList.mainnet:V.a.state.zktokenList.rinkeby,n=s.fromChain.tokenAddress,o=r.filter(t=>t.address===n),c=o.length>0?o[0]:null;if(!c)return null;let l=(await a.getTransactionFee("Transfer",e,c.id)).totalFee;try{var i;const t=await a.getState(w.K.coinbase);if(!t.committed||0==(null===(i=t.committed)||void 0===i?void 0:i.nonce)){const t=await a.getTransactionFee({ChangePubKey:{onchainPubkeyAuth:!1}},w.K.coinbase,c.id);l=l.add(t.totalFee)}}catch(t){console.error("Get ChangePubKey fee failed: ",t.message)}return l/10**c.decimals}if(12===t||512===t){let e=0;try{e=await y.getZKSpaceTransferGasFee(t,w.K.coinbase)}catch(t){console.warn("getZKSpaceTransferGasFeeError =",t)}return e}if(4===t||44===t){const s=this.realTransferAmount().toString();return await Object(N.e)(w.K.coinbase,a,e,s,t)/10**18}if(9===t||99===t)try{const e=await G.getLpTokenInfo(t,a),s=await G.getTransferFee(w.K.coinbase,t,e),i=18;return Number(s)/10**i}catch(t){console.warn("lp getTransferFeeerror:")}else{if(8===t||88===t)return 0;if(r.a.isEthTokenAddress(t,a)||(14===t||514===t)&&a.toUpperCase()==="0X"+"E".repeat(40)){if(12===t||512===t){let e=0;try{e=await y.getZKSpaceTransferGasFee(t,w.K.coinbase)}catch(t){console.warn("getZKSpaceTransferGasFeeError =",t)}return e}if(9===t||99===t)try{const e=await G.getLpTokenInfo(t,a),s=await G.getTransferFee(w.K.coinbase,t,e),i=e?e.decimals:18;return Number(s)/10**i}catch(t){console.warn("lp getTransferFeeerror:")}if(!r.a.getRpcList(t).length)return 0;const s=await r.a.requestWeb3(t,"estimateGas",{from:w.K.coinbase,to:e}),i=await r.a.requestWeb3(t,"getGasPrice");let n=new h.a(i).multipliedBy(s);if(7===t||77===t){const e=await this.getOPFee(t);n=n.plus(e)}return n.dividedBy(10**18).toString()}}return 0},async transferSpentGas(t,e,a){const{selectMakerConfig:s}=w.u;if(3===t||33===t){const e=await O(t),a=3===t?V.a.state.zktokenList.mainnet:V.a.state.zktokenList.rinkeby,i=s.fromChain.tokenAddress,r=a.filter(t=>t.address===i),n=r.length>0?r[0]:null;if(!n)return null;return((await e.getTransactionFee("Transfer",s.recipient,n.id)).totalFee/10**n.decimals).toFixed(6)}if(9===t||99===t){const e=s.fromChain.tokenAddress,a=await G.getLpTokenInfo(t,e),i=await G.getTransferFee(w.K.coinbase,t,a);return(Number(i)/10**18).toFixed(6)}if(12===t||512===t){let e=0;try{e=await y.getZKSpaceTransferGasFee(t,w.K.coinbase?w.K.coinbase:s.recipient)}catch(t){return console.warn("getZKSpaceTransferGasFeeError =",t.message),0}return e.toFixed(6)}if(4===t||44===t){const e=this.realTransferAmount().toString(),a=s.fromChain.tokenAddress;return(await Object(N.e)(w.K.coinbase,a,s.recipient,e,t)/10**18).toFixed(6)}const i=await this.getGasPrice(t.toString());if(i){let e=i*(a[t.toString()]||21e3);if(7===t||77===t){e+=await this.getOPFee(t)}return e/=10**18,e.toFixed(6).toString()}return((e[t.toString()]||1)*(a[t.toString()]||21e3)/10**9).toFixed(6).toString()},transferSpentTime(t,e){let a=0;1!==t&&4!==t&&5!==t||(a=30),2!==t&&22!==t||(a=15),10!==t&&510!==t||(a=15),3!==t&&33!==t&&12!==t&&512!==t||(a=5),6!==t&&66!==t||(a=15),7!==t&&77!==t||(a=15),8!==t&&88!==t||(a=5),9!==t&&99!==t||(a=15),13!==t&&513!==t||(a=20),16!==t&&516!==t||(a=30),4!==t&&44!==t||(a=180),518===t&&(a=15),519===t&&(a=6.828),4!==e&&44!==e||(a=180),1!==e&&5!==e||(a+=30),16!==e&&516!==e||(a+=30),2!==e&&22!==e||(a+=15),3!==e&&33!==e&&12!==e&&512!==e||(a+=5),6!==e&&66!==e||(a+=15),7!==e&&77!==e||(a+=15),8!==e&&88!==e||(a+=5),9!==e&&99!==e||(a+=15),10!==e&&510!==e||(a+=15),11!==e&&511!==e||(a+=5),13!==e&&513!==e||(a+=20),14!==e&&514!==e||(a+=15),518===e&&(a+=15),519===e&&(a+=6.828);return a+"s"},transferOrginTime(t,e){if(2===t||22===t)return"~7 days";if(4===t||44===t)return"~24 hours";if(16===t||516===t)return"~7 days";if(3===t||33===t||12===t||512===t||14===t||514===t)return"~4 hours";if(6===t||66===t)return"~3 hours";if(7===t||77===t)return"~7 days";if(8===t||88===t)return"~5 hours";if(9===t||99===t)return"~4 hours";if(10===t||510===t)return"~7 days";if(13===t||513===t)return"~7 days";if(15===t||515===t)return"~15min";if(518===t&&519===e)return"~2min";if(519===t&&518===e)return"~10min";if(1===t||5===t){if(2===e||22===e)return"~10min";if(4===e||44===e)return"~10min";if(3===e||33===e||12===e||512===e||14===e||514===e)return"~10min";if(6===e||66===e)return"~5min";if(7===e||77===e)return"~5min";if(8===e||88===e)return"~20min";if(9===e||99===e)return"~10min";if(10===e||510===e)return"~5min";if(11===e||511===e)return"~20min";if(13===e||513===e)return"~10min";if(15===e||515===e)return"~15min";if(16===e||516===e)return"~10min"}},transferSavingTime(t,e){if(2===t||22===t)return" 7 days";if(3===t||33===t||12===t||512===t)return" 4 hours";if(6===t||66===t)return" 3 hours";if(7===t||77===t)return" 7 days";if(8===t||88===t)return" 4 hours";if(9===t||99===t)return" 4 hours";if(10===t||510===t)return" 7 days";if(4===t||44===t)return" 24 hours";if(16===t||516===t)return" 7 days";if(1===t||5===t){if(2===e||22===e)return" 9.25min";if(3===e||33===e||12===e||512===e)return" 9.5min";if(6===e||66===e)return" 4.25min";if(7===e||77===e)return" 9.25min";if(8===e||88===e)return" 19.95min";if(9===e||99===e)return" 9.25min";if(10===e||510===e)return" 4.25min";if(11===e||511===e)return" 19.95min";if(13===e||513===e)return" 10 min";if(4===e||44===e)return" 7 min"}return 13===t||513===t?" 7 days":15===t||515===t?" 35 minute":void 0},async transferOrginGasUsd(t,e,a=!0){let s=0,i=0,r=0,n=0;const{selectMakerConfig:o}=w.u;if(2===t||22===t)try{const e=await this.getGasPrice(t)*(a?801420:666721),i=2===t?1:5,r=await this.getGasPrice(i);s=e+r*(a?234552:161063)}catch(t){throw new Error("ar withdraw error")}if(3===t||33===t)try{const e=await O(t),a=await e.getTransactionFee("Withdraw",o.recipient,0);s+=Number(a.totalFee)}catch(t){throw new Error("zksync withdraw error")}if(4===t||44===t){s=2e14;const e=4===t?1:5;s+=6e4*await this.getGasPrice(e)}if(6===t||66===t)try{const e=await this.getGasPrice(t);i+=32e3*e;const a=6===t?1:5,r=await this.getGasPrice(a);s+=48e4*r}catch(t){throw new Error("po withdraw error")}if(7===t||77===t)try{const e=await this.getGasPrice(t)*(a?115340:137e3),i=7===t?1:5,r=82e4*await this.getGasPrice(i),n=await this.getOPFee(t);s=e+r+Number(n)}catch(t){throw new Error("op withdraw error")}if(8===t||88===t)try{const e=8===t?1:5,i=await this.getGasPrice(e);s+=i*(a?91304:51e4)}catch(t){throw new Error("imx withdraw error")}if(9===t||99===t)try{const e=await G.getWithDrawFee(w.K.coinbase,t,o.fromChain.symbol);s+=Number(e)}catch(t){throw new Error("loopring withdraw error")}if(10===t||510===t)try{const e=await this.getGasPrice(t);r+=685768*e;const a=10===t?1:5,i=await this.getGasPrice(a);s+=21e3*i}catch(t){throw new Error("metis withdraw error")}if(12===t||512===t)try{const e=await y.getZKSpaceWithDrawGasFee(t,w.K.coinbase?w.K.coinbase:o.recipient);s+=Number(e*10**o.fromChain.decimals)}catch(t){throw new Error("zkspace withdraw error")}if(13===t||513===t){s=10123935*await this.getGasPrice(t)}if(15===t||515===t)try{const e=await this.getGasPrice(t);n+=15e4*e}catch(t){throw new Error("bsc withdraw error")}if(14===t||514===t){s=1111693*await this.getGasPrice(t)}if(16===t||516===t)try{const e=await this.getGasPrice(t)*(a?3e5:65e3),i=16===t?1:5,r=await this.getGasPrice(i);s=e+r*(a?16e4:115e3)}catch(t){throw new Error("ar withdraw error")}if(17===t||517===t){s=94708*await this.getGasPrice(t)}if(518===t||519===t)try{s=21e3*await this.getGasPrice(t)}catch(t){throw new Error("scroll withdraw error")}if(2===e||22===e)try{const t=await this.getGasPrice(2===e?1:5);s+=t*(a?218291:92e3)}catch(t){throw new Error("ar deposit error")}if(3===e||33===e)try{const t=await this.getGasPrice(3===e?1:5);s+=t*(a?149072:62599)}catch(t){throw new Error("zksync deposit error")}if(4===e||44===e){const t=4==e?1:5;s+=11e4*await this.getGasPrice(t)}if(6===e||66===e)try{const t=await this.getGasPrice(6===e?1:5);s+=77257*t}catch(t){throw new Error("po deposit error")}if(7===e||77===e)try{const t=await this.getGasPrice(7===e?1:5);s+=t*(a?77921:151e3)}catch(t){throw new Error("op deposit error")}if(8===e||88===e)try{const t=await this.getGasPrice(8===e?1:5);s+=t*(a?116893:126e3)}catch(t){throw new Error("imx deposit error")}if(9===e||99===e)try{const t=await this.getGasPrice(9===e?1:5);s+=t*(a?91795:75e3)}catch(t){throw new Error("loopring deposit error")}if(10===e||510===e)try{const t=await this.getGasPrice(10===e?1:5);s+=170617*t}catch(t){throw new Error("metis deposit error")}if(11===e||511===e)try{const t=await this.getGasPrice(11===e?1:5);s+=26e4*t}catch(t){throw new Error("metis deposit error")}if(12===e||512===e)try{const t=await this.getGasPrice(12===e?1:5);s+=t*(a?100325:16e4)}catch(t){throw new Error("zkspace deposit error")}if(13===e||513===e){s+=1787707*await this.getGasPrice(e)}if(15===e||515===e)try{const t=await this.getGasPrice(e);n+=15e4*t}catch(t){throw new Error("bsc deposit error")}if(14===e||514===e){s=142e3*await this.getGasPrice(14===e?1:5)}if(17===e||517===e){s=122939*await this.getGasPrice(e)}if(518===e||519===e)try{s+=21e3*await this.getGasPrice(e)}catch(t){throw new Error("scroll deposit error")}let c=new h.a(0);return s>0&&(c=c.plus(await Object(M.c)(new h.a(s).dividedBy(10**18)))),i>0&&(c=c.plus(await Object(M.c)(new h.a(i).dividedBy(10**18),"MATIC"))),n>0&&(c=c.plus(await Object(M.c)(new h.a(n).dividedBy(10**18),"BNB"))),r>0&&(c=c.plus(await Object(M.c)(new h.a(r).dividedBy(10**18),"METIS"))),c.toNumber()},async getTransferBalance(t,e,a,s,i=!1){const{selectMakerConfig:r}=w.u;if(3===t||33===t){const e={account:s,localChainID:t,stateType:"committed"};try{const t=await p.a.getZKAccountInfo(e);if(!t||!t.result||!t.result.balances)return 0;const s=t.result.balances;return s[a]?s[a]:0}catch(t){throw console.warn("error =",t),"getZKBalanceError"}}else{if(4===t||44===t){const a=Object(N.c)(t);let r=w.K.starkNet.starkNetAddress;if(i)r=s;else if(!r)return 0;return await Object(N.b)(r,e,a)}if(8===t||88===t){const e=new F.a(t),i=await e.getBalanceBySymbol(s,a);return Number(i+"")}if(9===t||99===t){const a=await G.getLpTokenInfo(t,e);return await G.getLoopringBalance(s,t,i,a)}if(11===t||511===t){const e=new z.a(t,new K.a(H.a.value.walletPayload.provider),"MetaMask");return await e.getBalanceUsdc(s,!1)}if(12!==t&&512!==t)return this.getBalanceByRPC(t,s,e);{const a={account:s,localChainID:t};try{const s=await y.getZKspaceBalance(a);if(!s)return 0;const i=(12===t?V.a.state.zksTokenList.mainnet:V.a.state.zksTokenList.rinkeby).find(t=>t.address===e),n=s.find(t=>t.id===i.id);return n?n.amount*10**r.fromChain.decimals:0}catch(t){throw new Error("getZKSBalanceError,"+t.message)}}}},async getBalanceByRPC(t,e,a){if(r.a.isEthTokenAddress(t,a)){const a=await r.a.requestWeb3(t,"getBalance",e);return Number(a)||0}{const s=await r.a.getWeb3TokenBalance(t,e,a);return Number(s)}},async getGasPrice(t){if(33===t||3===t)return null;const e=r.a.getRpcList(t);for(const a of e)try{const e=await l.a.post(a,{jsonrpc:"2.0",method:"eth_gasPrice",params:[],id:0});if(200===e.status)return r.a.setStableRpc(t,a,"eth_gasPrice"),parseInt(e.data.result)}catch(e){r.a.setStableRpc(t,"","eth_gasPrice")}return r.a.setStableRpc(t,"","eth_gasPrice"),null},async getOPFee(t){const e=new u.ethers.providers.JsonRpcProvider(r.a.stableRpc(t)),a=Object(o.getContractFactory)("OVM_GasPriceOracle").attach(o.predeploys.OVM_GasPriceOracle).connect(e),s=Object(o.getContractFactory)("WETH9").attach(o.predeploys.WETH9).connect(e),i=w.u.selectMakerConfig.recipient,n=u.ethers.utils.parseUnits("5",18),c=await a.getL1Fee(u.ethers.utils.serializeTransaction({...await s.populateTransaction.transfer(i,n),gasPrice:await e.getGasPrice(),gasLimit:21e3}));return Number(c)},async getTokenConvertUsd(t){try{return(await Object(M.c)(1,t)).toNumber()}catch(t){throw t.message}},realTransferOPID(){const t=w.u.toChainID;return 9e3+Number(t)+""},getTransferTValue(){const{selectMakerConfig:t,transferValue:e,fromChainID:a,toChainID:s}=w.u,i=new h.a(e).plus(new h.a(t.tradingFee)).multipliedBy(new h.a(10**t.fromChain.decimals)).toFixed(),r=9e3+Number(s)+"";return U.getTAmountFromRAmount(a,i,r)},realTransferAmount(){const{selectMakerConfig:t,transferValue:e,fromChainID:a,toChainID:s}=w.u,i=new h.a(e).plus(new h.a(t.tradingFee));if(!a||!i)return 0;const r=new h.a(i).multipliedBy(new h.a(10**t.fromChain.decimals)).toFixed(),n=9e3+Number(s)+"",o=U.getTAmountFromRAmount(a,r,n);return o.state?new h.a(o.tAmount).dividedBy(new h.a(10**t.fromChain.decimals)):i}},j=a("fc9c"),W=a("f121"),Z=async function(t,e,a,s){if(3==t||33==t){const e={account:s,localChainID:t,stateType:"committed"};try{const t=await p.a.getZKAccountInfo(e);if(!t||!t.result)return 0;return t.result.nonce}catch(t){return console.warn("error =",t),0}}else if(4===t||44===t)try{return Number(await Object(N.d)())}catch(t){return 0}else{if(8===t||88===t)return 0;if(9===t||99===t){const e=await G.getAccountStorageID(s,t,0);return e&&e.offchainId>0?(e.offchainId-1)/2:0}if(11===t||511===t)return 0;if(12===t||512===t){const e=await y.getZKAccountInfo(t,s);return e?e.nonce:0}try{return await r.a.requestWeb3(t,"getTransactionCount",s)}catch(t){return console.warn("getWeb3NonceError =",t),0}}},X=a("c370"),Q=a("4260");const q=l.a.create({baseURL:"https://api.orbiter.finance",timeout:3e4});q.interceptors.response.use((function(t){return t.data}),(function(t){return Promise.reject(t)}));let J=W.default.v1MakerConfigs;const{walletDispatchersOnSwitchChain:tt}=X.c;var et={name:"Transfer",components:{ObSelect:i.h,CommBtn:i.b,ObSelectChain:i.i,SvgIconThemed:i.k,CommDialog:i.c,CommTipDialog:i.d,RaiseUpSelect:i.j,HelpIcon:i.f},data:()=>({isWhiteWallet:"",isNewVersion:!1,isLoopring:!1,isCrossAddress:!1,isRaiseUpFromTokenListVisible:!1,isRaiseUpToTokenListVisible:!1,crossAddressReceipt:"",selectFromToken:"ETH",selectToToken:"ETH",timeSpenLoading:!1,gasCostLoading:!1,originGasLoading:!1,fromBalanceLoading:!1,toBalanceLoading:!1,saveTimeLoading:!1,originGasCost:0,sendBtnInfo:{text:"SEND",disabled:null},fromChainIdList:[],toChainIdList:[],fromTokenList:[],toTokenList:[],transferValue:"",toValue:0,isShowExchangeIcon:!0,toValueToolTip:"Sender pays a 0.00% trading fee for each transfer.",exchangeToUsdPrice:0,fromBalance:Number(0).toFixed(6),toBalance:Number(0).toFixed(6),makerMaxBalance:0,userMaxPrice:0,userMinPrice:0,formWith:0,cronList:[]}),computed:{isLightMode(){return"light"===this.$store.state.themeMode},chainName:()=>r.a.chainName(w.u.toChainID),isCurrentAddress(){return!(!this.isNewVersion||this.selectFromToken===this.selectToToken)&&(!!(this.isCrossAddress&&this.crossAddressReceipt&&r.a.isSupportXVMContract())&&(4!==w.u.toChainID&&44!==w.u.toChainID&&!!r.a.equalsIgnoreCase(this.crossAddressReceipt,this.currentWalletAddress)))},isErrorAddress(){if(!this.isNewVersion||this.selectFromToken===this.selectToToken)return!1;if(!this.isCrossAddress||!this.crossAddressReceipt||!r.a.isSupportXVMContract())return!1;if(4===w.u.toChainID||44===w.u.toChainID)return!1;const t=!new RegExp(/^0x[a-fA-F0-9]{40}$/).test(this.crossAddressReceipt);return t?this.sendBtnInfo.disabled="disabled":"disabled"===this.sendBtnInfo.disabled&&this.updateTransferInfo(),t},isSupportXVM:()=>r.a.isSupportXVMContract(),transferDataState:()=>w.u,web3State:()=>w.K,isLogin(){return r.a.log("walletIsLogin.value",H.b.value),H.b.value?this.isWhiteWallet=!!r.a.isWhite():(this.isNewVersion=!1,this.isWhiteWallet=!1),H.b.value},currentWalletAddress:()=>H.a.value.walletPayload.walletAddress,currentNetwork:()=>H.a.value.walletPayload.networkId,isStarknet(){return"STARKNET"===this.refererUpper},crossAddressInputDisable(){const t=w.u.toChainID;return 4===t||44===t||11===t||511===t},refererUpper(){const{href:t}=window.location,e=t.match(/referer=(\w*)/i);return null!=e&&e[1]?e[1].toUpperCase():""},starkAddress(){const t=w.K.starkNet.starkNetAddress;return t||""},queryParams(){var t,e,a,s;const{query:i}=this.$route,{referer:n}=i;let{token:o,tokens:c,amount:l,fixed:d}=i;l=new h.a(l),c=c?c.split(","):[];let u=(null===(t=J.find(t=>{var e;return t.fromChain.name.toLowerCase()===(null==i||null===(e=i.source)||void 0===e?void 0:e.toLowerCase())}))||void 0===t||null===(e=t.fromChain)||void 0===e?void 0:e.id)||0,p=(null===(a=J.find(t=>{var e;return t.toChain.name.toLowerCase()===(null==i||null===(e=i.dest)||void 0===e?void 0:e.toLowerCase())}))||void 0===a||null===(s=a.toChain)||void 0===s?void 0:s.id)||0;const m=(t,e)=>{const a=[];if(!t)return a;for(const o of t.split(",")){var s,i,r,n;const t=e?(null===(s=J.find(t=>t.toChain.name===o))||void 0===s||null===(i=s.toChain)||void 0===i?void 0:i.id)||0:(null===(r=J.find(t=>t.fromChain.name===o))||void 0===r||null===(n=r.fromChain)||void 0===n?void 0:n.id)||0;t&&a.push(t)}return Array.from(new Set(a)).sort((function(t,e){return t-e}))};let f=m(i.sources),g=m(i.dests,1);if(1===f.length&&1===g.length&&f[0]===g[0]&&(f=[],g=[]),u>0&&f.length>0&&-1===f.indexOf(u)&&(u=0),p>0&&g.length>0&&-1===g.indexOf(p)&&(p=0),u<=0&&f.length>0&&(u=f[0]),p<=0&&g.length>0&&(p=g[0]),1===g.length&&f.length>1){const t=f.indexOf(g[0]);t>-1&&(f.splice(t,1),u==g[0]&&(u=f[0]))}g.length>0&&g[0]===u&&(u=0),u===p&&(p=0);const _=[];for(const t of c){const e=J.find(e=>r.a.equalsIgnoreCase(e.fromChain.symbol,t));e&&_.push(e.fromChain.symbol)}var v;o||(o=(null===(v=c)||void 0===v?void 0:v[0])||"");return l=1===l.comparedTo(0)?l.toFixed():"",d=1===d,{referer:n,source:u,dest:p,token:o,tokens:_,amount:l,fixed:d,sources:f,dests:g}},isShowMax(){var t,e;return new h.a(this.transferValue).comparedTo(new h.a(null===(t=w.u.selectMakerConfig)||void 0===t||null===(e=t.fromChain)||void 0===e?void 0:e.maxPrice))>0},isShowUnreachMinInfo(){if(H.b.value&&this.transferValue){let t=new h.a(this.userMinPrice),e=new h.a(this.transferValue);const a=new h.a(this.fromBalance);return e.comparedTo(t)<0&&e.comparedTo(a)<0}return!1},maxPrice(){var t,e;return null===(t=w.u.selectMakerConfig)||void 0===t||null===(e=t.fromChain)||void 0===e?void 0:e.maxPrice},timeSpenToolTip(){return`It takes about ${this.originTimeSpent?this.originTimeSpent.replace("~",""):this.originTimeSpent} moving funds using the native bridge, and it only takes about ${this.timeSpent?this.timeSpent.replace("~",""):this.timeSpent} using Orbiter.`},timeSpent:()=>Y.transferSpentTime(w.u.fromChainID,w.u.toChainID),originTimeSpent:()=>Y.transferOrginTime(w.u.fromChainID,w.u.toChainID),showSaveGas(){return this.originGasCost-this.gasTradingTotal*this.exchangeToUsdPrice>0},saveGasLoading(){return this.originGasLoading},transferSavingTime(){var t;return null===(t=this.originTimeSpent)||void 0===t?void 0:t.replace("~","")}},watch:{isWhiteWallet(){this.refreshConfig()},isNewVersion(){this.refreshConfig()},queryParams:function(t){this.transferValue<=0&&(this.transferValue=t.amount)},crossAddressReceipt:function(t){Object(w.w)(t)},selectFromToken(t){w.u.fromCurrency!==t&&(this.updateTransferInfo({fromCurrency:t}),this.clearTransferValue())},selectToToken:function(t){w.u.toCurrency!==t&&this.updateTransferInfo({toCurrency:t})},isCrossAddress:function(t){Object(w.y)(t),this.updateTransferInfo()},currentWalletAddress:function(t,e){r.a.log("Current wallet address",t),this.isNewVersion=!1,this.isWhiteWallet=!!r.a.isWhite(),e!==t&&"0x"!==t&&this.updateTransferInfo()},"web3State.starkNet.starkNetAddress":function(t){t&&(this.crossAddressReceipt=t,this.updateTransferInfo())},transferValue:function(t){w.u.transferValue!==t&&Object(w.H)(t)}},async mounted(){this.initWhiteList(),this.updateTransferInfo(),Object(Q.b)()&&!w.e.value&&this.showTipPopup();(async()=>{Y.getTokenConvertUsd("ETH").then(t=>Object(w.x)(t)).catch(t=>console.warn("GetETHPriceError =",t))})(),this.transferValue=this.queryParams.amount,Object(w.y)(this.isCrossAddress),Object(w.w)(this.crossAddressReceipt),this.rates=await Object(M.d)("ETH")},onBeforeUnmount(){for(const t of this.cronList)clearInterval(t)},created(){this.replaceStarknetWrongHref()},methods:{refreshGasFeeToolTip(){const{selectMakerConfig:t}=w.u,e=`<b>Fees using the native bridge costs around:</b><br />Gas Fee: $${this.originGasCost.toFixed(2)}<br />`,a=" <br /><b>Fees using Orbiter costs:</b><br />Trading Fee: $"+(this.orbiterTradingFee*this.exchangeToUsdPrice).toFixed(2),s="<br />Withholding Fee: $"+(t?(t.tradingFee*this.exchangeToUsdPrice).toFixed(2):0),i=`<br /><br /><b>Total: $${(this.gasTradingTotal*this.exchangeToUsdPrice).toFixed(2)}</b>`;this.gasFeeToolTip=e+a+s+i},refreshOrbiterTradingFee(){const{selectMakerConfig:t}=w.u;if(!t)return;const{fromChain:e}=t;let a=new h.a(this.transferValue?this.transferValue:0).multipliedBy(new h.a(t.gasFee)).dividedBy(new h.a(1e3)),s=U.getDigitByPrecision(e.decimals);this.orbiterTradingFee=a.decimalPlaces(s,h.a.ROUND_UP)},refreshGasSavingMax(){let t=this.originGasCost-this.gasTradingTotal*this.exchangeToUsdPrice;t<0&&(t=0);this.gasSavingMax="$"+t.toFixed(2).toString()},refreshGasSavingMin(){const t=this.gasCost();let e=this.originGasCost-this.gasTradingTotal*this.exchangeToUsdPrice-t;e<0&&(e=0);this.gasSavingMin="$"+e.toFixed(2).toString()},refreshGasTradingTotal(){const{selectMakerConfig:t}=w.u;if(!t)return"0.000000";let e=new h.a(t.tradingFee);this.gasTradingTotal=e.plus(this.orbiterTradingFee).toFixed(6)},refreshGas(){this.refreshOrbiterTradingFee(),this.refreshGasTradingTotal(),this.refreshGasSavingMin(),this.refreshGasSavingMin(),this.refreshGasSavingMax(),this.refreshGasFeeToolTip()},refreshConfig(){if(J=this.isNewVersion?W.default.makerConfigs:W.default.v1MakerConfigs,!this.isWhiteWallet){J=J.filter(t=>514!==t.fromChain.id&&14!==t.fromChain.id&&514!==t.toChain.id&&14!==t.toChain.id);const{fromChainID:t,toChainID:e}=w.u;514!==t&&14!==t||this.updateTransferInfo({fromChainID:this.fromChainIdList[0]}),514!==e&&14!==e||this.updateTransferInfo({toChainID:this.toChainIdList[0]})}this.updateTransferInfo()},async initWhiteList(){},async updateTransferInfo({fromChainID:t,toChainID:e,fromCurrency:a,toCurrency:s}=w.u){var i;this.isNewVersion||(s=a),this.sendBtnInfo.disabled="disabled";const n=w.u.isCrossAddress,o=w.u.fromChainID,c=w.u.toChainID,l=w.u.fromCurrency;t=t||w.u.fromChainID,e=e||w.u.toChainID,a=a||w.u.fromCurrency,s=s||w.u.toCurrency,c!==e&&o===t&&e===t&&(t=c),this.isLoopring=9===t||99===t,a!==s||this.isLoopring||(n&&r.a.isExecuteXVMContract()&&this.$notify.warning({title:"Not supported yet Change Account.",duration:3e3}),this.isCrossAddress=!1);const{tokens:d,source:h,dest:u}=this.queryParams,p=d,m=Array.from(new Set(J.map(t=>t.fromChain.id))).sort((function(t,e){return t-e}));t=t||(h&&m.find(t=>t===+h)?+h:m[0]);let f=Array.from(new Set(J.map(e=>{if(e.fromChain.id===t)return e.toChain.id}).filter(t=>t))).sort((function(t,e){return t-e}));e=e||(u&&f.find(t=>t===+u)?+u:f[0]),-1===f.indexOf(e)&&(e=f.indexOf(u)>-1?u:f[0]),J.find(e=>e.toChain.id===t)&&J.find(t=>t.fromChain.id===e)&&(f.push(t),f=f.sort((function(t,e){return t-e})));const g=m.findIndex(e=>e===t);-1!==g&&m.splice(g,1);const _=f.findIndex(t=>t===e);-1!==_&&f.splice(_,1);let v=J.filter(a=>a.fromChain.id===t&&a.toChain.id===e);p.length&&(v=v.filter(t=>p.find(e=>r.a.equalsIgnoreCase(e,t.fromChain.symbol))));const b=[],y=[];v.forEach(t=>{b.find(e=>e.token===t.fromChain.symbol)||b.push({icon:W.default.getTokenIcon(t.fromChain.symbol),token:t.fromChain.symbol,amount:0}),a!==t.fromChain.symbol||y.find(e=>e.token===t.toChain.symbol)||y.push({icon:W.default.getTokenIcon(t.toChain.symbol),token:t.toChain.symbol,amount:0})}),b.length&&!b.find(t=>t.token===a)&&(a=b[0].token,o!==t&&(this.selectFromToken=b[0].token)),v.forEach(t=>{a!==t.fromChain.symbol||y.find(e=>e.token===t.toChain.symbol)||y.push({icon:W.default.getTokenIcon(t.toChain.symbol),token:t.toChain.symbol,amount:0})}),y.length&&!y.find(t=>t.token===s)&&(s=y[0].token,c!==e&&(this.selectToToken=y[0].token)),a!==this.selectFromToken&&(this.selectFromToken=a),s!==this.selectToToken&&(this.selectToToken=s),this.fromChainIdList!==m&&(this.fromChainIdList=m),this.toChainIdList!==f&&(this.toChainIdList=f),this.toTokenList!==y&&(this.toTokenList=y),this.fromTokenList!==b&&(this.fromTokenList=b),Object(w.B)(t),Object(w.F)(e),Object(w.C)(a),Object(w.G)(s),this.isShowExchangeIcon=!!J.find(i=>i.fromChain.id===e&&i.fromChain.symbol===s&&i.toChain.id===t&&i.toChain.symbol===a);const C=J.find(i=>i.fromChain.id===t&&i.toChain.id===e&&i.fromChain.symbol===a&&i.toChain.symbol===s),A=JSON.parse(JSON.stringify(C));var k,T,P,S,x;a===s&&n&&null!==(i=A.crossAddress)&&void 0!==i&&i.recipient&&(A.recipient=null===(k=A.crossAddress)||void 0===k?void 0:k.recipient,A.sender=null===(T=A.crossAddress)||void 0===T?void 0:T.sender,A.tradingFee=null===(P=A.crossAddress)||void 0===P?void 0:P.tradingFee,A.gasFee=null===(S=A.crossAddress)||void 0===S?void 0:S.gasFee);if(Object(w.E)(A),this.toValueToolTip=`Sender pays a ${parseFloat(((A.gasFee||0)/10).toFixed(2))}% trading fee for each transfer.`,this.specialProcessing(o,c),t===o&&e===c||this.updateOriginGasCost(),t!==o){let e=this;this.gasCostLoading=!0,Y.transferSpentGas(t,this.$env.gasPriceMap,this.$env.gasLimitMap).then(t=>{Object(w.D)(t),e.gasCostLoading=!1}).catch(t=>{e.gasCostLoading=!1,console.warn("GetGasFeeError =",t)})}(a!==l&&this.updateExchangeToUsdPrice(),await this.refreshUserBalance(),t!==o||a!==l)&&(this.userMinPrice=(null==A||null===(x=A.fromChain)||void 0===x?void 0:x.minPrice)||0);this.updateRoutes(o,c),await this.updateSendBtnInfo()},async inputCrossAddress(){this.sendBtnInfo.disabled="disabled",r.a.throttle(this.updateSendBtnInfo,500)()},async updateSendBtnInfo(){const{selectMakerConfig:t,fromCurrency:e,toCurrency:a}=w.u;if(!t)return;const{fromChain:s}=t;await this.getMakerMaxBalance(),this.updateToValue();const i=18===s.decimals?6:2;let n=10**-i,o=new h.a(this.fromBalance).minus(new h.a(t.tradingFee)).minus(new h.a(n)),c=o.decimalPlaces(i,h.a.ROUND_DOWN)>0?o.decimalPlaces(i,h.a.ROUND_DOWN):new h.a(0),l=new h.a(s.maxPrice),d=new h.a(this.userMinPrice),u=new h.a(this.transferValue||0);const p={text:"SEND",disabled:null};if(H.b.value){p.text="SEND",u.comparedTo(0)<0?(p.disabled="disabled",r.a.log("transferValue < 0",u.toString())):u.comparedTo(this.userMaxPrice)>0&&(p.disabled="disabled",r.a.log("transferValue > userMaxPrice",u.toString(),this.userMaxPrice.toString())),u.comparedTo(c)>0?(p.text="INSUFFICIENT FUNDS",p.disabled="disabled",r.a.log("transferValue > userMax",u.toString(),c.toString())):u.comparedTo(l)>0?(p.text="INSUFFICIENT LIQUIDITY",p.disabled="disabled",r.a.log("transferValue > makerMax",u.toString(),l.toString())):u.comparedTo(d)<0?(p.text="INSUFFICIENT FUNDS",p.disabled="disabled",r.a.log("transferValue < makerMin",u.toString(),d.toString())):u.comparedTo(0)>0&&this.toValue<=0?(p.text="INSUFFICIENT FUNDS",p.disabled="disabled",r.a.log("transferValue > 0 && toValue <= 0",u.toString(),this.toValue.toString())):this.toValue>0&&this.toValue.comparedTo(new h.a(this.makerMaxBalance))>0&&(p.text="INSUFFICIENT LIQUIDITY",p.disabled="disabled",r.a.log("toValue > 0 && toValue > makerMaxBalance",this.toValue.toString(),new h.a(this.makerMaxBalance).toString())),(this.isShowUnreachMinInfo||this.isShowMax)&&(p.text="SEND",p.disabled="disabled",r.a.log("isShowUnreachMinInfo || isShowMax",this.isShowUnreachMinInfo,this.isShowMax)),e===a&&!this.isCrossAddress||r.a.isSupportXVMContract()||this.isLoopring||r.a.isStarkNet()||(p.text="SEND",p.disabled="disabled",r.a.log("(fromCurrency !== toCurrency || this.isCrossAddress) && !isSupportXVMContract && !this.isLoopring && !util.isStarkNet",e!==a,this.isCrossAddress,!r.a.isSupportXVMContract(),!this.isLoopring,!r.a.isStarkNet())),r.a.isSupportXVMContract()&&this.isCrossAddress&&(!this.crossAddressReceipt||this.isErrorAddress)&&(p.text="SEND",p.disabled="disabled",r.a.log("isSupportXVM && isCrossAddress && (!crossAddressReceipt || isErrorAddress)",this.crossAddressReceipt,this.isErrorAddress));const t=!new RegExp(/^0x[a-fA-F0-9]{40}$/).test(this.crossAddressReceipt);this.isLoopring&&this.isCrossAddress&&(!this.crossAddressReceipt||t)&&(p.text="SEND",p.disabled="disabled",r.a.log("this.isLoopring && !this.crossAddressReceipt",this.isLoopring,!this.crossAddressReceipt))}this.sendBtnInfo=p},updateRoutes(t,e){const{fromChainID:a,toChainID:s,selectMakerConfig:i}=w.u,{path:r,query:n}=this.$route,o={};if(a!==t&&(null==n?void 0:n.source)!==i.fromChain.name&&(o.source=i.fromChain.name),s!==e&&(null==n?void 0:n.dest)!==i.toChain.name&&(o.dest=i.toChain.name),Object.keys(o).length){const t=JSON.parse(JSON.stringify(n));Object.assign(t,o),this.$router.push({path:r,query:t})}},updateToValue(){const{fromCurrency:t,toCurrency:e,selectMakerConfig:a}=w.u;if(!this.transferValue||!a)return void(this.toValue=0);let s=U.getToAmountFromUserAmount(new h.a(this.transferValue).plus(new h.a(a.tradingFee)),a,!1);if(t!==e){const i=this.rates,n=i[t],o=i[e],c=a.slippage;if(!n||!o||!c)return r.a.log("get rate fail",t,n,e,o),0;const l=s.dividedBy(n).multipliedBy(o).toFixed(6);this.toValue=new h.a(l).multipliedBy(1-c/1e4)}else this.toValue=s},async specialProcessing(t,e){const{fromChainID:a,toChainID:s}=w.u;if((s!==e&&4===e||44===e||11===e||511===e)&&(this.isCrossAddress&&(this.isCrossAddress=!1),this.crossAddressReceipt&&(this.crossAddressReceipt="")),4===a||44===a||4===s||44===s){const{starkNetIsConnect:t,starkNetAddress:e}=w.K.starkNet;if(!(t&&e||(await Object(N.a)(),w.K.starkNet.starkIsConnected||w.K.starkNet.starkNetAddress))){const t=J[0];return void this.updateTransferInfo({fromChainID:t.fromChain.id})}4!==s&&44!==s||(this.isCrossAddress=!0,this.crossAddressReceipt=w.K.starkNet.starkNetAddress,Object(w.A)({fromAddress:this.currentWalletAddress,ext:{type:"0x03",value:w.K.starkNet.starkNetAddress}}))}if(9!==a&&99!==a&&9!==s&&99!==s||H.b.value&&this.inputTransferValue(),t===a||9!==a&&99!==a||(this.isCrossAddress=!0),s!==e&&(11===s||511===s)){this.isCrossAddress||(this.isCrossAddress=!0);const t=this;t.crossAddressReceipt!==H.a.value.walletPayload.walletAddress&&setTimeout(()=>{t.crossAddressReceipt=H.a.value.walletPayload.walletAddress},500)}},async updateUserMaxPrice(){const{selectMakerConfig:t}=w.u;if(!t)return"0";const{fromChain:e,toChain:a}=t;if(!H.b.value)return e.maxPrice;if(!this.fromBalance)return"0";let s=await Y.getTransferGasLimit(e.id,t.recipient,e.tokenAddress)||0,i=U.getDigitByPrecision(e.decimals),r=10**-i,n=0;[3,33,1,5,2,22,7,77,16,516].includes(e.id)&&(n=.001);let o=new h.a(this.fromBalance).minus(new h.a(t.tradingFee)).minus(new h.a(r)).minus(new h.a(s)).minus(new h.a(n)),c=o.decimalPlaces(i,h.a.ROUND_DOWN)>0?o.decimalPlaces(i,h.a.ROUND_DOWN):new h.a(0),l=c.comparedTo(new h.a(e.maxPrice))>0?new h.a(e.maxPrice):c;9!==e.id&&99!==e.id&&9!==a.id&&99!==a.id||18!==e.decimals||(l=l.decimalPlaces(5,h.a.ROUND_DOWN)),this.userMaxPrice=l.toString()},clearTransferValue(){this.transferValue="",this.toValue=0},replaceStarknetWrongHref(){let t=!1;const{href:e}=window.location;if(e.match(/refer=starknet/i)&&(t=!0),t){const{path:t,query:e}=this.$route;delete e.dests,delete e.refer;try{window.location.href=t+"?referer=starknet&dest=starknet&fixed=1"}catch(t){}}},showChainName(t=!0){const e=w.u[(t?"from":"to")+"ChainID"];return r.a.chainName(e)},showChainIcon(t=!0){const e=w.u[(t?"from":"to")+"ChainID"];return this.$env.chainIcon[e]},selectFromTokenChange(t){this.selectFromToken=t},selectToTokenChange(t){this.selectToToken=t},fromMax(){if(!H.b.value)return void(this.transferValue="0");const{selectMakerConfig:t}=w.u;t&&(r.a.log("userMaxPrice",this.userMaxPrice),this.transferValue=this.userMaxPrice,this.updateTransferInfo())},transfer_mid(){const{fromChainID:t,toChainID:e,fromCurrency:a,toCurrency:s}=w.u;this.updateTransferInfo({toChainID:t,fromChainID:e}),this.selectFromToken=s,this.selectToToken=a},changeFromChain(){this.fromChainIdList.length<=1||this.showFromChainPopupClick()},changeToChain(){this.toChainIdList.length<=1||this.showToChainPopupClick()},getFromChainInfo(t){w.u.fromChainID!==t.localID&&this.updateTransferInfo({fromChainID:t.localID})},getToChainInfo(t){w.u.toChainID!==t.localID&&this.updateTransferInfo({toChainID:t.localID})},showFromChainPopupClick(){this.$refs.SelectFromChainPopupRef.showCustom()},closeFromChainPopupClick(){this.$refs.SelectFromChainPopupRef.maskClick()},showToChainPopupClick(){this.$refs.SelectToChainPopupRef.showCustom()},closeToChainPopupClick(){this.$refs.SelectToChainPopupRef.maskClick()},showTipPopup(){this.$refs.TipPopupRef.showCustom()},closeTipPopup(){this.$refs.TipPopupRef.maskClick()},openUrl(){window.open("https://www.orbiter.finance/","_blank")},inputTransferValue(){const{selectMakerConfig:t}=w.u;if(!t)return;const{fromChain:e,toChain:a}=t;9===e.id||99===e.id||9===a.id||99===a.id?this.transferValue=18===e.decimals?this.transferValue.replace(/^\D*(\d*(?:\.\d{0,5})?).*$/g,"$1"):this.transferValue.replace(/^\D*(\d*(?:\.\d{0,2})?).*$/g,"$1"):this.transferValue=18===e.decimals?this.transferValue.replace(/^\D*(\d*(?:\.\d{0,6})?).*$/g,"$1"):this.transferValue.replace(/^\D*(\d*(?:\.\d{0,2})?).*$/g,"$1"),this.refreshGas(),this.updateSendBtnInfo()},async sendTransfer(){if(n.a.checkIsBitKeep())this.$notify.error({title:"Bitkeep is not supported and please try another wallet.",duration:3e3});else if(!this.sendBtnInfo||"disabled"!==this.sendBtnInfo.disabled)if(H.b.value){if(!n.a.checkPrice(this.transferValue))return void this.$notify.error({title:"The format of input amount is incorrect",duration:3e3});if(null===this.fromBalance)return void this.$notify.error({title:"Waiting for account balance to be obtained",duration:3e3});const{fromChainID:t,toChainID:e,fromCurrency:a,selectMakerConfig:s,toCurrency:i}=w.u;if(!s)return;const{fromChain:o}=s;if(await Z(o.id,o.tokenAddress,o.symbol,H.a.value.walletPayload.walletAddress)>8999)return void this.$notify.error({title:"Address with the nonce over 9000 are not supported by Orbiter",duration:3e3});if(!this.transferValue||new h.a(this.transferValue).comparedTo(new h.a(this.userMaxPrice))>0||new h.a(this.transferValue).comparedTo(new h.a(this.userMinPrice)),8===e||88===e){const t=new F.a(e),a=H.a.value.walletPayload.walletAddress;a&&await t.ensureUser(a)}if(4===t||44===t||4===e||44===e){let{starkChain:a}=w.K.starkNet;if(a=+a?+a:a,!a||"unlogin"===a)return void r.a.showMessage("please connect Starknet Wallet","error");if(!(4!==t&&4!==e||44!==a&&"localhost"!==a))return void r.a.showMessage("please switch Starknet Wallet to mainnet","error");if(!(44!==t&&44!==e||4!==a&&"localhost"!==a))return void r.a.showMessage("please switch Starknet Wallet to testNet","error")}else if(+H.a.value.walletPayload.networkId!==r.a.getMetaMaskNetworkId(t))if(H.a.value.walletType===X.a)try{if(!await r.a.ensureWalletNetwork(t))return}catch(t){return void r.a.showMessage(t.message,"error")}else{const t=tt[H.a.value.walletType];if(t){return void t(H.a.value.walletPayload.provider,()=>{this.$emit("stateChanged","2")})}}const c=r.a.getChainInfoByChainId(t),l=(r.a.isExecuteXVMContract()?c.xvmList[0]:s.recipient).toLowerCase(),d=(r.a.isExecuteXVMContract()?c.xvmList[0]:s.sender).toLowerCase(),u=r.a.shortAddress(l),p=r.a.shortAddress(d),{isCrossAddress:m,crossAddressReceipt:f}=w.u,g=(m||44===e||4===e?f:H.a.value.walletPayload.walletAddress).toLowerCase();this.$store.commit("updateConfirmRouteDescInfo",[{no:1,from:new h.a(this.transferValue).plus(new h.a(s.tradingFee))+a,to:u,fromTip:"",toTip:l,icon:r.a.isExecuteXVMContract()?"contract":"wallet"},{no:2,from:p,to:r.a.shortAddress(g),fromTip:d,toTip:g,icon:"wallet"}]),this.$emit("stateChanged","2")}else j.a.$emit("connectWallet",!0)},async updateOriginGasCost(){this.originGasLoading=!0;const{fromChainID:t,toChainID:e,fromCurrency:a}=w.u;if(t&&e){try{this.originGasCost=await Y.transferOrginGasUsd(t,e,"ETH"!==a),this.refreshGas()}catch(t){console.warn("updateOriginGasCost error =",t.message),this.$notify.error({title:"GetOrginGasFeeError",desc:t,duration:3e3})}this.originGasLoading=!1}},async updateExchangeToUsdPrice(){const{selectMakerConfig:t}=w.u;if(!t)return;const e=(await Object(M.c)(1,t.fromChain.symbol)).toNumber();e>0&&(this.exchangeToUsdPrice=e)},async getBalance(t,e,a,s){const{fromCurrency:i,selectMakerConfig:r}=w.u,n=r.sender;try{if(!n)return"";const r=await Y.getTransferBalance(t,e,a,n,!0);if(i!==a){const t=(await Object(M.b)(r,a,i,this.rates)).toString();return new h.a(t).dividedBy(10**s).toFixed(6)}return(r/10**s).toFixed(6)}catch(t){return console.warn(t),0}},async getMakerMaxBalance(){const{selectMakerConfig:t}=w.u;if(!t)return;const{toChain:e}=t;if(11===e.id||511===e.id)return void(this.makerMaxBalance=Number.MAX_SAFE_INTEGER);t.sender;const a=await this.getBalance(e.id,e.tokenAddress,e.symbol,e.decimals);a>0&&(this.makerMaxBalance=new h.a(a).multipliedBy(.95).toString())},gasCost(){const{fromChainID:t,selectMakerConfig:e}=w.u;if(3===t||33===t||9===t||99===t){let t=w.u.gasFee;const a=Object(M.a)(e.fromChain.symbol);return a>0&&(t/=a),Math.ceil(Number(10*t))/10}return Math.ceil(w.u.gasFee*w.u.ethPrice*10)/10},async refreshUserBalance(){this.fromBalanceLoading=!0,this.toBalanceLoading=!0;const t=this,{fromChainID:e,toChainID:a,selectMakerConfig:s}=w.u;if(!s)return;const{fromChain:i,toChain:r}=s;let n=H.a.value.walletPayload.walletAddress;4!==e&&44!==e||(n=w.K.starkNet.starkNetAddress),n&&"0x"!==n&&(await Y.getTransferBalance(i.id,i.tokenAddress,i.symbol,n).then(async e=>{const a=(e/10**i.decimals).toFixed(6);t.fromBalance=a,await t.updateUserMaxPrice()}).catch(t=>{console.warn(t)}).finally(()=>{t.fromBalanceLoading=!1}),await t.updateUserMaxPrice(),t.fromBalanceLoading=!1),n=H.a.value.walletPayload.walletAddress,4!==a&&44!==a||(n=w.K.starkNet.starkNetAddress),n&&"0x"!==n&&(await Y.getTransferBalance(r.id,r.tokenAddress,r.symbol,n).then(e=>{const a=(e/10**r.decimals).toFixed(6);t.toBalance=a}).catch(t=>{console.warn(t)}).finally(()=>{t.toBalanceLoading=!1}),t.toBalanceLoading=!1)}}},at=(a("64ed"),a("2877")),st=Object(at.a)(et,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"transfer-box"},[e("div",{staticClass:"top-area",staticStyle:{position:"relative"}},[e("span",{staticClass:"title"},[t._v("Token")]),t.isNewVersion?t._e():e("div",{staticClass:"symbol"},[e("ObSelect",{attrs:{datas:t.fromTokenList},on:{input:t.selectFromTokenChange,show:()=>t.isRaiseUpFromTokenListVisible=!0},model:{value:t.selectFromToken,callback:function(e){t.selectFromToken=e},expression:"selectFromToken"}})],1),e("div",{staticStyle:{"flex-grow":"1",display:"flex","justify-content":"flex-end","align-items":"center"}},[e("span",{style:"margin-right:10px;color:"+(t.isNewVersion?t.isLightMode?"#4890FE":"#22DED7":"#888888")},[t._v(t._s(t.isNewVersion?"V2":"V1"))]),e("el-switch",{attrs:{hidden:t.isLightMode,"active-color":"#22DED7","inactive-color":"#888888"},model:{value:t.isNewVersion,callback:function(e){t.isNewVersion=e},expression:"isNewVersion"}}),e("el-switch",{attrs:{hidden:!t.isLightMode,"active-color":"#4890FE","inactive-color":"#888888"},model:{value:t.isNewVersion,callback:function(e){t.isNewVersion=e},expression:"isNewVersion"}})],1)]),e("div",{staticClass:"from-area"},[e("div",{staticClass:"topItem"},[4===t.transferDataState.fromChainID||44===t.transferDataState.fromChainID?e("o-tooltip",{scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.starkAddress)}})]},proxy:!0}],null,!1,3485496982)},[e("div",{staticClass:"left"},[t._v("From")])]):e("div",{staticClass:"left"},[t._v("From")]),t.isLogin?e("div",{staticClass:"right"},[t._v(" Balance: "),e("CommLoading",{staticStyle:{left:"0.3rem",top:"0.2rem"},attrs:{hidden:!t.fromBalanceLoading,width:"1.2rem",height:"1.2rem"}}),e("span",{attrs:{hidden:t.fromBalanceLoading}},[t._v(t._s(t.fromBalance))])],1):t._e()],1),e("div",{staticClass:"bottomItem"},[e("div",{staticClass:"left",on:{click:t.changeFromChain}},[e("svg-icon",{staticStyle:{width:"24px",height:"24px","margin-right":"4px"},attrs:{iconName:t.showChainIcon()}}),e("span",[t._v(t._s(t.showChainName()))]),t.fromChainIdList.length>1?e("SvgIconThemed"):t._e()],1),e("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",height:"30px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.transferValue,expression:"transferValue"}],staticClass:"right",staticStyle:{"min-width":"50px"},attrs:{type:"text",maxlength:18,placeholder:t.userMinPrice?t.userMinPrice>t.fromBalance||t.userMinPrice>=t.userMaxPrice?"at least "+t.userMinPrice:`${t.userMinPrice}~${t.userMaxPrice}`:"0"},domProps:{value:t.transferValue},on:{input:[function(e){e.target.composing||(t.transferValue=e.target.value)},function(e){return t.inputTransferValue()}]}}),e("el-button",{staticClass:"maxBtn",attrs:{disabled:t.fromBalanceLoading},on:{click:t.fromMax}},[t._v("Max")]),e("div",{staticStyle:{"margin-left":"4px"}},[e("ObSelect",{attrs:{hidden:!t.isNewVersion,datas:t.fromTokenList},on:{input:t.selectFromTokenChange,show:()=>t.isRaiseUpFromTokenListVisible=!0},model:{value:t.selectFromToken,callback:function(e){t.selectFromToken=e},expression:"selectFromToken"}})],1)],1)])]),t.isShowExchangeIcon?e("svg-icon",{staticClass:"exchange-icon",attrs:{iconName:"exchange"},nativeOn:{click:function(e){return t.transfer_mid.apply(null,arguments)}}}):t._e(),e("div",{staticClass:"to-area",style:{marginTop:t.isShowExchangeIcon?"4px":"-2px"}},[e("div",{staticClass:"topItem"},[4==t.transferDataState.toChainID||44==t.transferDataState.toChainID?e("o-tooltip",{scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.starkAddress)}})]},proxy:!0}],null,!1,3485496982)},[e("div",{staticClass:"left"},[t._v("To")])]):e("div",{staticClass:"left"},[t._v("To")]),t.isLogin?e("div",{staticClass:"right"},[t._v(" Balance: "),e("CommLoading",{staticStyle:{left:"0.3rem",top:"0.2rem"},attrs:{hidden:!t.toBalanceLoading,width:"1.2rem",height:"1.2rem"}}),e("span",{attrs:{hidden:t.toBalanceLoading}},[t._v(t._s(t.toBalance))])],1):t._e()],1),e("div",{staticClass:"bottomItem"},[e("div",{staticClass:"left",on:{click:t.changeToChain}},[e("svg-icon",{staticStyle:{width:"24px",height:"24px","margin-right":"4px"},attrs:{iconName:t.showChainIcon(!1)}}),e("span",[t._v(t._s(t.showChainName(!1)))]),t.toChainIdList.length>1?e("SvgIconThemed"):t._e()],1),e("div",{staticClass:"right",staticStyle:{display:"flex","align-items":"center",height:"30px"}},[t.toTokenList.length?e("div",{staticStyle:{"margin-left":"4px"}},[t.isNewVersion?e("ObSelect",{attrs:{datas:t.toTokenList},on:{input:t.selectToTokenChange,show:()=>t.isRaiseUpToTokenListVisible=!0},model:{value:t.selectToToken,callback:function(e){t.selectToToken=e},expression:"selectToToken"}}):t._e()],1):t._e(),e("o-tooltip",{scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.toValueToolTip)}})]},proxy:!0}])},[e("HelpIcon",{staticStyle:{"margin-left":"0.5rem"},attrs:{size:"sm"}})],1),e("div",{staticClass:"right-value"},[t._v(t._s(t.toValue))])],1)])]),t.isStarknet?e("div",{staticStyle:{"font-size":"1.2rem",color:"#78797d","margin-top":"1rem","text-align":"left"}},[e("svg-icon",{staticStyle:{width:"1rem",height:"1rem","margin-right":"0.2rem"},attrs:{iconName:"tips"}}),t._v(" Centralized transfer is provided currently and trustless transfer will be launched soon. "),e("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"https://docs.orbiter.finance/",target:"__blank"}},[t._v("More")])],1):t._e(),e("div",{attrs:{hidden:!(t.isNewVersion&&t.selectFromToken!==t.selectToToken&&t.isSupportXVM||t.isLoopring)}},[e("div",{staticStyle:{"text-align":"left","margin-top":"10px","padding-left":"20px","font-size":"16px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isCrossAddress,expression:"isCrossAddress"}],staticStyle:{"margin-right":"5px"},attrs:{type:"checkbox",id:"checkbox",disabled:t.crossAddressInputDisable},domProps:{checked:Array.isArray(t.isCrossAddress)?t._i(t.isCrossAddress,null)>-1:t.isCrossAddress},on:{change:function(e){var a=t.isCrossAddress,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&(t.isCrossAddress=a.concat([null])):r>-1&&(t.isCrossAddress=a.slice(0,r).concat(a.slice(r+1)))}else t.isCrossAddress=i}}}),e("label",{attrs:{for:"checkbox"}},[t._v(" Change Account ")])]),t.isCrossAddress?e("div",{staticClass:"cross-addr-box to-area",staticStyle:{"margin-top":"10px"}},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.crossAddressReceipt,expression:"crossAddressReceipt"}],attrs:{type:"text",placeholder:`Recipient's ${t.chainName} Address`},domProps:{value:t.crossAddressReceipt},on:{blur:t.updateSendBtnInfo,input:[function(e){e.target.composing||(t.crossAddressReceipt=e.target.value)},t.inputCrossAddress]}})]):t._e()]),e("CommBtn",{staticClass:"btn select-wallet-dialog",style:"border-radius: 40px;"+(!t.isNewVersion||t.isCrossAddress?"":"margin-top: 10px"),attrs:{disabled:!t.sendBtnInfo||t.sendBtnInfo.disabled},on:{click:t.sendTransfer}},[e("span",{staticClass:"w700 s16",staticStyle:{"letter-spacing":"0.15rem"}},[t._v(" "+t._s(t.sendBtnInfo&&t.sendBtnInfo.text)+" ")])]),e("div",{staticClass:"info-box"},[t.isCurrentAddress?e("div",{staticClass:"info-item"},[e("svg-icon",{staticClass:"info-icon",attrs:{iconName:"info-warn"}}),e("span",{staticClass:"warn"},[t._v(" This is your address. ")])],1):t._e(),t.isErrorAddress?e("div",{staticClass:"info-item"},[e("svg-icon",{staticClass:"info-icon",attrs:{iconName:"info"}}),e("span",{staticClass:"red"},[t._v(" Address format error. ")])],1):t._e(),t.isShowUnreachMinInfo?e("div",{staticClass:"info-item"},[e("svg-icon",{staticClass:"info-icon",attrs:{iconName:"info"}}),e("span",{staticClass:"red"},[t._v(" Less than the minimum transfer amount. ")])],1):t._e(),t.isShowMax?e("div",{staticClass:"info-item"},[e("svg-icon",{staticClass:"info-icon",attrs:{iconName:"info"}}),e("span",{staticClass:"red"},[t._v(" Makers provide "+t._s(t.maxPrice)+" "+t._s(t.selectFromToken)+" for liquidity. ")])],1):t._e(),t.showSaveGas?e("div",{staticClass:"gas-save info-item"},[e("SvgIconThemed",{staticStyle:{"margin-right":"6px"},attrs:{icon:"orbiter",size:"sm"}}),e("span",{staticClass:"border"},[t._v("Gas Fee Saved ")]),e("span",{staticClass:"red"},[t._v(" Save "),e("CommLoading",{staticStyle:{margin:"0 1rem"},attrs:{hidden:!t.saveGasLoading,width:"1rem",height:"1rem"}}),e("span",{staticStyle:{"margin-left":"0.4rem"},attrs:{hidden:t.saveGasLoading}},[t._v(t._s(t.gasSavingMin)+" ~ "+t._s(t.gasSavingMax))])],1),e("o-tooltip",{attrs:{placement:"bottom"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.gasFeeToolTip)}})]},proxy:!0}],null,!1,682907961)},[e("HelpIcon",{staticStyle:{"margin-left":"0.5rem"},attrs:{size:"sm"}})],1)],1):t._e(),e("div",{staticClass:"time-save info-item"},[e("SvgIconThemed",{staticStyle:{"margin-right":"6px"},attrs:{icon:"clock",size:"sm"}}),e("span",{staticClass:"border"},[t._v(" Time Spend "),e("CommLoading",{attrs:{hidden:!t.timeSpenLoading,width:"1.2rem",height:"1.2rem"}}),e("span",{attrs:{hidden:t.timeSpenLoading}},[t._v(t._s(t.timeSpent))])],1),e("span",{staticClass:"red"},[t._v(" Save "),e("CommLoading",{staticStyle:{margin:"0 1rem"},attrs:{hidden:!t.saveTimeLoading,width:"1rem",height:"1rem"}}),e("span",{staticStyle:{"margin-left":"0.4rem"},attrs:{hidden:t.saveTimeLoading}},[t._v(" "+t._s(t.transferSavingTime)+" ")])],1),e("o-tooltip",{attrs:{placement:"bottom"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{domProps:{innerHTML:t._s(t.timeSpenToolTip)}})]},proxy:!0}])},[e("HelpIcon",{staticStyle:{"margin-left":"0.5rem"},attrs:{size:"sm"}})],1)],1)]),e("CommDialog",{ref:"SelectFromChainPopupRef"},[e("div",{staticStyle:{width:"100%"},attrs:{slot:"PoperContent"},slot:"PoperContent"},[e("ObSelectChain",{attrs:{ChainData:t.fromChainIdList},on:{getChainInfo:t.getFromChainInfo,closeSelect:function(e){return t.closeFromChainPopupClick()}}})],1)]),e("CommDialog",{ref:"SelectToChainPopupRef"},[e("div",{staticStyle:{width:"100%"},attrs:{slot:"PoperContent"},slot:"PoperContent"},[e("ObSelectChain",{attrs:{ChainData:t.toChainIdList},on:{getChainInfo:t.getToChainInfo,closeSelect:function(e){return t.closeToChainPopupClick()}}})],1)]),e("RaiseUpSelect",{attrs:{iconType:"img",visible:t.isRaiseUpFromTokenListVisible,datas:t.fromTokenList,value:t.selectFromToken,keyMaps:{value:"token",label:"token"}},on:{hiden:()=>t.isRaiseUpFromTokenListVisible=!1,input:t.selectFromTokenChange}}),e("RaiseUpSelect",{attrs:{iconType:"img",visible:t.isRaiseUpToTokenListVisible,datas:t.toTokenList,value:t.selectToToken,keyMaps:{value:"token",label:"token"}},on:{hiden:()=>t.isRaiseUpToTokenListVisible=!1,input:t.selectToTokenChange}}),e("CommTipDialog",{ref:"TipPopupRef"},[e("div",{staticClass:"dialog",attrs:{slot:"PoperContent"},slot:"PoperContent"},[e("div",{staticClass:"dialog-box"},[e("div",{staticClass:"icon",on:{click:t.closeTipPopup}},[e("i",{staticClass:"el-icon-close"})]),e("div",{staticClass:"title"},[t._v(" Unlock more Orbiter identities? ")]),e("div",{staticClass:"content"},[t._v(" Explore more transactions on Orbiter Finance Mainnet Have fun! ")]),e("div",{staticClass:"bottom"},[e("span",{staticClass:"btn",on:{click:t.openUrl}},[t._v(" Let's Go ")])])])])])],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"topItem",attrs:{"data-v-59545920":""}},[t("div",{staticClass:"left"},[this._v("Recipient's Address")])])}],!1,null,"b330824c",null).exports;const it=l.a.create({baseURL:"https://openapi2.orbiter.finance/v1/",timeout:3e4});it.interceptors.response.use((function(t){const e=t.data;return 0!==e.code?Promise.reject(new Error(e.msg)):e.result}),(function(t){return Promise.reject(t)}));var rt=it;const nt=t=>{V.a.commit("updateProceedState",t)};var ot={UserTransferReady(t,e,a,s,i){12!==s&&512!==s||(i=i.replace("sync-tx:","0x")),V.a.commit("updateProceedTxID",i),V.a.commit("updateProceedingUserTransferFrom",t),V.a.commit("updateProceedingUserTransferTo",e);let n=U.getRAmountFromTAmount(s,a);if(!n.state)throw new Error("UserTransferReady error: "+n.error);return n=n.rAmount,V.a.commit("updateProceedingUserTransferAmount",n),V.a.commit("updateProceedingUserTransferLocalChainID",s),V.a.commit("updateProceedingUserTransferTxid",i),function(t){let e=1;const a=setInterval(async()=>{try{const{status:s,txList:i}=await rt.get("/status?hash="+t);switch(r.a.log("txStatus",s,"txList",i),s){case 0:if(2===e)nt(3);else{i.find(t=>0===t.side)&&(e=2,nt(2))}break;case 1:nt(4);break;case 99:nt(5),clearInterval(a)}for(const t of i)0===t.side&&V.a.commit("updateProceedingUserTransferTimeStamp",new Date(t.timestamp).valueOf()/1e3),1===t.side&&V.a.commit("updateProceedingMakerTransferTxid",t.hash)}catch(t){console.error(t)}},2e4);return a}(i)}},ct=a("5ea1");async function lt(t,e,a,s,i,n=null){if(w.K.isInstallMeta||n){const o=new K.a(n||window.ethereum),c=e.fromChain.tokenAddress;let l=55e3;try{if(r.a.isEthTokenAddress(t,c))return l=await o.eth.estimateGas({from:a,to:e.recipient,value:i}),l;{const t=ct.b,e=new o.eth.Contract(t,c);return e?(l=await e.methods.transfer(s,i).estimateGas({from:a}),l):l}}catch(t){console.warn("getTransferGasLimit error: ",t)}return l}}var dt=a("85a0"),ht=a("3387"),ut=a("2b5c"),pt=(a("46a1"),a("450d"),a("e5f2")),mt=a.n(pt);const ft={"0x01":"Cross Ethereum Address","0x02":"Cross Dydx Address","0x03":"Cross Stark Address"};class gt{constructor(t,e=5,a,s){const i=r.a.getChainInfoByChainId(e);this.contractAddress=s||(null!=i&&i.xvmList&&i.xvmList.length?i.xvmList[0]:""),this.contractAddress||console.log("Sorry, miss param [contractAddress]"),this.provider=t,this.orbiterChainId=e,this.signer=a||t.getSigner(),this.networkId=r.a.chainNetWorkId(e)}async checkNetworkId(){if(this.providerNetworkId||(this.providerNetworkId=(await this.provider.getNetwork()).chainId),this.providerNetworkId!=this.networkId)throw new Error(`Sorry, currentNetworkId: ${this.providerNetworkId} no equal networkId: ${this.networkId}`)}async getAllowance(t,e=this.contractAddress){const a=await this.signer.getAddress();return await t.allowance(a,e)}async approveERC20(t,e=u.ethers.constants.MaxUint256,a=this.contractAddress){await this.checkNetworkId();const s=new u.ethers.Contract(t,ct.b,this.signer);await s.approve(a,e);const i=mt()({duration:0,title:"Approving...",type:"warning"});try{for(let t=0;t<5e3;t++){const t=await this.getAllowance(s,a);if(e.lte(t))break;await r.a.sleep(2e3)}i.close()}catch(t){throw i.close(),t}}async transfer(t,e,a){if(await this.checkNetworkId(),a&&!ft[a.type])throw new Error("Invalid crossAddressType : "+a.type);const s=new u.ethers.Contract(this.contractAddress,ct.a,this.signer),i=gt.encodeExt(a),r={value:e.toHexString()};return await s.transfer(t,i,r)}async wallConnTransfer(t,e,a){if(a&&!ft[a.type])throw new Error("Invalid crossAddressType : "+a.type);const s=new u.ethers.utils.Interface(ct.a),i=gt.encodeExt(a),r=s.encodeFunctionData("transfer",[t,i]),n=await this.signer.getAddress();return await X.c.walletConnectSendTransaction(this.orbiterChainId,n,this.contractAddress,e,r)}async transferERC20(t,e,a,s){if(await this.checkNetworkId(),s&&!ft[s.type])throw new Error("Invalid crossAddressType : "+s.type);const i=new u.ethers.Contract(t,ct.b,this.provider),r=await this.getAllowance(i);a.gt(r)&&await this.approveERC20(t);const n=new u.ethers.Contract(this.contractAddress,ct.a,this.signer),o=gt.encodeExt(s);return await n.transferERC20(t,e,a.toHexString(),o)}async walletConnApproveERC20(t,e=u.ethers.constants.MaxUint256,a=this.contractAddress){await this.checkNetworkId();const s=new u.ethers.Contract(t,ct.b,this.signer),i=new u.ethers.utils.Interface(ct.b).encodeFunctionData("approve",[a,e]),n=await this.signer.getAddress(),o=(await X.c.walletConnectSendTransaction(this.orbiterChainId,n,t,0,i),mt()({duration:0,title:"Approving...",type:"warning"}));try{for(let t=0;t<5e3;t++){const t=await this.getAllowance(s,a);if(e.lte(t))break;await r.a.sleep(2e3)}o.close()}catch(t){throw o.close(),t}}async walletConnTransferERC20(t,e,a,s){if(s&&!ft[s.type])throw new Error("Invalid crossAddressType : "+s.type);const i=new u.ethers.Contract(t,ct.b,this.provider),r=await this.getAllowance(i);a.gt(r)&&await this.walletConnApproveERC20(t);const n=gt.encodeExt(s),o=new u.ethers.utils.Interface(ct.a).encodeFunctionData("transferERC20",[t,e,a.toHexString(),n]),c=await this.signer.getAddress();return await X.c.walletConnectSendTransaction(this.orbiterChainId,c,this.contractAddress,0,o)}async contractApprove(t,e,a){const s=new u.ethers.Contract(t,ct.b,this.provider),i=await this.getAllowance(s,e);a.gt(i)&&(H.a.value.walletType===X.b?await this.walletConnApproveERC20(t,u.ethers.constants.MaxUint256,e):await this.approveERC20(t,u.ethers.constants.MaxUint256,e))}static encodeExt(t){if(!t||!f.utils.isHexString(t.type))return"0x";if(!t.value)return t.type;if("0x03"==t.type&&f.utils.isHexString(t.value)&&t.value.length%2==1){const e=t.value.substring(2);t.value="0x0"+e}return f.utils.hexConcat([t.type,t.value])}static decodeExt(t){if(!f.utils.isHexString(t))return;return{type:f.utils.hexDataSlice(t,0,1),value:f.utils.hexDataSlice(t,1)}}static parseTransferInput(t){const[e,a]=f.utils.defaultAbiCoder.decode(["address","bytes"],f.utils.hexDataSlice(t,4));return{to:e,ext:gt.decodeExt(a)}}static parseTransferERC20Input(t){const[e,a,s,i]=f.utils.defaultAbiCoder.decode(["address","address","uint256","bytes"],f.utils.hexDataSlice(t,4));return{token:e,to:a,amount:s,ext:gt.decodeExt(i)}}}var _t=a("e36d"),vt=a("e6fe"),wt=a("a3ca"),bt=a.n(wt),yt=a("c2d8");const{walletDispatchersOnSignature:Ct,walletDispatchersOnSwitchChain:At,walletConnectSendTransaction:kt}=X.c;var Tt={name:"Confirm",components:{SvgIconThemed:i.k,CommBoxHeader:i.a,CommBtn:i.b,HelpIcon:i.f},data:()=>({transferLoading:!1,expectValue:""}),computed:{isMobile:()=>w.e.value,isStarkNetChain(){const{fromChainID:t,toChainID:e}=w.u;return 4==t||44==t||4==e||44==e},confirmData(){const{selectMakerConfig:t}=w.u;let e=Y.realTransferAmount().toString();e=e.replace(/(.*?0)0{4,}(0.*?)/,"$1...$2");return[...[{icon:"withholding",title:"Withholding Fee",notice:"The Maker charges the Sender a fixed fee to cover the fluctuating gas fees that incur when sending funds to the destination network.",desc:t.tradingFee+" "+t.fromChain.symbol},{icon:"security",title:"Identification Code",notice:"In Orbiter, each transaction has a four digit identification code. The identification code can be seen at the end of the total amount being transferred as a way to identify the transaction. The identification code will be the evidence in the case that the Maker does not send the assets to the target network. This will act as an evidence to claim your funds from the margin contract.",desc:Y.realTransferOPID(),haveSep:!0},{icon:"send",title:"Total Send",notice:"Total amount sent by the Sender including the withholding fee.",desc:e+" "+t.fromChain.symbol,textBold:!0},{icon:"received",title:"Received",desc:this.expectValue,textBold:!0},{icon:"exchange",title:"Maker Routes",notice:"After the Sender submits the transaction, the assets are transferred to the Makers address who will provide the liquidity. Orbiters contract will ensure the safety of the assets and will make sure that the Sender receives the assets to the target network.",descInfo:this.$store.state.confirmData.routeDescInfo}]]}},methods:{async transferToStarkNet(t){const{selectMakerConfig:e,fromChainID:a,transferExt:s}=w.u;if(!H.b.value)return;const{fromAddress:i,ext:n}=s,o=e.fromChain.tokenAddress,c=e.recipient,l=_t.a.from(t),d=r.a.getChainInfoByChainId(a);if(!d.contracts||!d.contracts.length)return void this.$notify.error({title:"Contract not supported temporarily",duration:3e3});const h=d.contracts[0];try{let t="";if(H.a.value.walletType==ht.l){const e=r.a.stableWeb3(a),s=new f.providers.Web3Provider(e.currentProvider),d=new gt(s,a,s.getSigner(i),h);return t=r.a.isEthTokenAddress(a,o)?await(await d.wallConnTransfer(c,l,n)):await d.walletConnTransferERC20(o,c,l,n),void(t&&this.onTransferSucceed(i,l,a,t))}const e=new f.providers.Web3Provider(H.a.value.walletPayload.provider),s=new gt(e,a,e.getSigner(i),h);return t=r.a.isEthTokenAddress(a,o)?(await s.transfer(c,l,n)).hash:(await s.transferERC20(o,c,l,n)).hash,void(t&&this.onTransferSucceed(i,l,a,t))}catch(t){var u;this.$notify.error({title:(null==t||null===(u=t.data)||void 0===u?void 0:u.message)||t.message,duration:3e3})}finally{this.transferLoading=!1}},async zkspaceTransfer(){const{selectMakerConfig:t,fromChainID:e}=w.u;try{var a;const s=new f.providers.Web3Provider(H.a.value.walletPayload.provider),i=H.a.value.walletPayload.walletAddress,r=s.getSigner(),n=await y.getL1SigAndPriVateKey(r),o=Y.getTransferTValue();if(!o.state)return this.$notify.error({title:o.error,duration:3e3}),void(this.transferLoading=!1);const c=g.utils.closestPackableTransactionAmount(o.tAmount),l=await y.getAccountInfo(e,n,r,i),d=0,h=512===e?_.a.ZKSpace.zksrinkebyChainID:_.a.ZKSpace.zksChainID,u=await y.getZKSpaceTransferGasFee(e,i),p=g.utils.closestPackableTransactionFee(f.utils.parseUnits(u.toString(),18)),m=12===e?this.$store.state.zksTokenList.mainnet:this.$store.state.zksTokenList.rinkeby,v=t.toChain.tokenAddress,w=m.find(t=>t.address===v),{pubKey:b,l2SignatureOne:C}=y.getL2SigOneAndPK(n,l,i,w?w.id:0,c,d,p,h),A={signature:{type:"EthereumSignature",signature:await y.getL2SigTwoAndPK(r,l,c,u,h,w)},fastProcessing:!1,tx:{type:"Transfer",accountId:l.id,from:i,to:t.recipient,token:w?w.id:0,amount:c.toString(),feeToken:d,fee:p.toString(),chainId:h,nonce:l.nonce,signature:{pubKey:b,signature:C}}},k=null===(a=(await y.sendTransfer(e,A)).data)||void 0===a?void 0:a.data.replace("sync-tx:","0x"),T=await this.getFristResult(e,k);this.onTransferSucceed(i,o.tAmount.toString(),e,T.data.tx_hash),this.transferLoading=!1}catch(t){this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3}),console.warn("zkspaceTransfer =",t.message)}},async getFristResult(t,e){const a=await y.getZKSpaceTransactionData(t,e);if(!a.success||a.data.fail_reason||a.data.success||a.data.amount){if(a.success&&!a.data.fail_reason&&a.data.success&&a.data.amount)return a;throw new Error("zks sendResult is error")}return await r.a.sleep(300),await this.getFristResult(t,e)},async zk2Transfer(){const{selectMakerConfig:t,fromChainID:e}=w.u;if("ETH"!==t.fromChain.symbol)throw new Error("Tokens are not supported at this time");const a=Y.getTransferTValue();if(!a.state)return this.$notify.error({title:a.error,duration:3e3}),void(this.transferLoading=!1);const s=new vt.Web3Provider(H.a.value.walletPayload.provider).getSigner(),i=new h.a(a.tAmount).dividedBy(10**18).toString(),r=await s.transfer({to:t.recipient,amount:f.utils.parseEther(i)});r.hash&&this.onTransferSucceed(w.K.coinbase,a.tAmount,e,r.hash),this.transferLoading=!1},async zkTransfer(){const{selectMakerConfig:t,fromChainID:e}=w.u,a=new K.a(H.a.value.walletPayload.provider),s=H.a.value.walletPayload.walletAddress,i=t.fromChain.tokenAddress,r=new f.providers.Web3Provider(a.currentProvider),n=await O(e);try{const a=await g.Wallet.fromEthSigner(r.getSigner(s),n),c=Y.getTransferTValue();if(!c.state)return this.$notify.error({title:c.error,duration:3e3}),void(this.transferLoading=!1);const l=g.utils.closestPackableTransactionAmount(c.tAmount),d=await n.getTransactionFee("Transfer",a.address()||"",i);if(await a.isSigningKeySet())try{const r=await a.syncTransfer({to:t.recipient,token:i,amount:l}),n=await r.awaitReceipt();n.success&&!n.failReason&&this.onTransferSucceed(s,l.toString(),e,r.txHash),this.transferLoading=!1}catch(t){console.warn("inError =",t.message),this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3})}else{var o;const r=await a.getNonce("committed"),c=a.batchBuilder(r);if("ERC-1271"===(null===(o=a.ethSignerType)||void 0===o?void 0:o.verificationMethod)){if(!await a.isOnchainAuthSigningKeySet()){const t=await a.onchainAuthSigningKey();await(null==t?void 0:t.wait())}}const h=await a.signer.pubKeyHash(),u=await a.getAccountId();if("number"!=typeof u)throw new TypeError("It is required to have a history of balances on the account to activate it.");const p=g.utils.getChangePubkeyLegacyMessage(h,r,u),m=(await a.getEthMessageSignature(p)).signature,f=await n.getTransactionFee({ChangePubKey:{onchainPubkeyAuth:!1}},a.address()||"",i),_=await a.signer.signSyncChangePubKey({accountId:u,account:a.address(),newPkHash:h,nonce:r,ethSignature:m,validFrom:0,validUntil:g.utils.MAX_TIMESTAMP,fee:f.totalFee,feeTokenId:a.provider.tokenSet.resolveTokenId(i)});c.addChangePubKey({tx:_,alreadySigned:!0}),c.addTransfer({to:t.recipient,token:i,amount:l,fee:d.totalFee});const v=await c.build(),w=await Object(dt.submitSignedTransactionsBatch)(a.provider,v.txs,[v.signature]);let b;for(const t of w)if("ChangePubKey"!==t.txData.tx.type){b=t;break}const y=await b.awaitReceipt();y.success&&!y.failReason&&this.onTransferSucceed(s,l.toString(),e,b.txHash),this.transferLoading=!1}}catch(t){console.warn("outError =",t.message),this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3})}},async loopringTransfer(){const{selectMakerConfig:t,isCrossAddress:e,crossAddressReceipt:a,fromChainID:s,toChainID:i}=w.u,r=t.fromChain.tokenAddress;try{const n=Y.getTransferTValue();if(!n.state)return this.$notify.error({title:n.error,duration:3e3}),void(this.transferLoading=!1);const o=9e3+Number(i)+"",c=n.tAmount,l=e?`${o}_${a}`:o;if(l.length>128)return this.$notify.error({title:"The sending address is too long",duration:3e3}),void(this.transferLoading=!1);try{const e=await G.sendTransfer(H.a.value.walletPayload.walletAddress,s,t.recipient,0,r,c,l);e.hash&&"processing"===e.status&&this.onTransferSucceed(H.a.value.walletPayload.walletAddress,c,s,e.hash),this.transferLoading=!1}catch(t){if(this.transferLoading=!1,"account is not activated"===t.message)this.$notify({type:"error",message:'<div style="text-align:left;font-size: 1.4rem; color: black">This Loopring account is not yet activated, please activate it before transferring.</div>',dangerouslyUseHTMLString:!0,duration:8e3});else if("User account is frozen"===t.message){const t=this.$notify({type:"error",message:'<div style="text-align:left;font-size: 1.4rem; color: black">Your Loopring account is frozen, please check your Loopring account status on Loopring website. Get more details <span style="color:blue;text-decoration: underline"> here </span>.</div>',dangerouslyUseHTMLString:!0,duration:8e3});t.$el.querySelector("span").onclick=()=>{t.close(),window.open("https://docs.loopring.io/en/basics/key_mgmt.html?h=frozen","_blank")}}else this.$notify.error({title:t.message,duration:3e3})}}catch(t){console.warn("outError =",t.message),this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3})}},async ethTransfer(t){const{selectMakerConfig:e,fromChainID:a}=w.u,s=H.a.value.walletPayload.walletAddress,i=Ct[H.a.value.walletType];if(i)i(s,e,t,a,this.onTransferSucceed);else if(H.b.value)try{const i=H.a.value.walletPayload.provider,r=new K.a(i);let n=await lt(a,e,s,e.recipient,t,i);2===a&&n<21e3&&(n=21e3);const o=new f.providers.Web3Provider(r.currentProvider);o.getSigner().sendTransaction({from:s,to:e.recipient,value:t,gasLimit:n}).then(e=>{this.transferLoading=!1,this.onTransferSucceed(s,t,a,e.hash)}).catch(t=>{this.transferLoading=!1,this.$notify.error({title:t.message,duration:3e3})})}catch(t){console.error(t)}else this.transferLoading=!1},async starknetTransfer(t){const{selectMakerConfig:e,fromChainID:a,toChainID:s}=w.u;if(!H.b.value)return void(this.transferLoading=!1);const i=H.a.value.walletPayload.walletAddress;if(4===a||44===a||4===s||44===s){let{starkChain:t}=w.K.starkNet;if(t=+t?+t:t,!t||"unlogin"===t)return void r.a.showMessage("please connect Starknet Wallet","error");if(!(4!==a&&4!==s||44!==t&&"localhost"!==t))return void r.a.showMessage("please switch Starknet Wallet to mainnet","error");if(!(44!==a&&44!==s||4!==t&&"localhost"!==t))return void r.a.showMessage("please switch Starknet Wallet to testNet","error")}try{const s=e.fromChain.tokenAddress,r=await Object(N.f)(i,s,e.recipient,new h.a(t),a);r&&this.onTransferSucceed(i,t,a,r)}catch(t){this.$notify.error({title:t.message,duration:3e3})}finally{this.transferLoading=!1}},async imxTransfer(t){const{selectMakerConfig:e,fromChainID:a}=w.u;if(!H.b.value)return void(this.transferLoading=!1);const s=H.a.value.walletPayload.walletAddress;try{const i=e.fromChain.tokenAddress,n=new F.a(a),o=await n.getImmutableXClient(s,!0);let c={type:ut.b.ETH,data:{decimals:e.fromChain.decimals}};r.a.isEthTokenAddress(a,i)||(c={type:ut.a.ERC20,data:{symbol:e.fromChain.symbol,decimals:e.fromChain.decimals,tokenAddress:i}});const l=await o.transfer({sender:s,token:c,quantity:_t.a.from(t),receiver:e.recipient});this.onTransferSucceed(s,t,a,l.transfer_id)}catch(t){this.$notify.error({title:t.message,duration:3e3})}finally{this.transferLoading=!1}},async dydxTransfer(t){const{selectMakerConfig:e,fromChainID:a}=w.u;if(!H.b.value)return void(this.transferLoading=!1);const s=H.a.value.walletPayload.walletAddress;try{const i=new z.a(a,new K.a(H.a.value.walletPayload.provider),"MetaMask"),r=i.getMakerInfo(e.recipient),n=await i.getDydxClient(s,!1,!0),o=await i.getAccount(s),c={clientId:i.generateClientId(s),amount:new h.a(t).dividedBy(10**6).toString(),expiration:new Date((new Date).getTime()+2592e6).toISOString(),receiverAccountId:i.getAccountId(e.recipient),receiverPublicKey:r.starkKey,receiverPositionId:String(r.positionId)},l=await n.private.createTransfer(c,o.positionId);this.onTransferSucceed(s,t,a,l.transfer.id)}catch(t){console.error(t),this.$notify.error({title:t.message,duration:3e3})}finally{this.transferLoading=!1}},async handleXVMContract(){const{fromChainID:t,crossAddressReceipt:e,isCrossAddress:a,selectMakerConfig:s}=w.u,i=H.a.value.walletPayload.walletAddress;if(!H.b.value)return;const n=r.a.getRealTransferValue(),o=Ct[H.a.value.walletType];if(o)return void o(i,s,n,t,this.onTransferSucceed);const c=r.a.getChainInfoByChainId(t).xvmList[0],l=s.fromChain.tokenAddress;if(!r.a.isEthTokenAddress(t,l))if(H.a.value.walletType===ht.l){const e=r.a.stableWeb3(t),a=new f.providers.Web3Provider(e.currentProvider),s=new gt(a,t,a.getSigner(i));await s.contractApprove(l,c,_t.a.from(n))}else{const e=new f.providers.Web3Provider(H.a.value.walletPayload.provider),a=new gt(e,t);await a.contractApprove(l,c,_t.a.from(n))}try{const o=H.a.value.walletPayload.provider,{transactionHash:l}=await async function(t,e,a,s,i,n){const{selectMakerConfig:o,fromChainID:c}=yt.a,{fromChain:l,toChain:d}=o,h=l.tokenAddress,u=l.symbol,p=d.id,m=d.symbol,f=d.tokenAddress,g=o.slippage,_=await r.a.getExpectValue();r.a.log(o),r.a.log("expectValue --\x3e ",_,"makerAddress--\x3e",s,"eth value--\x3e",i,"token--\x3e",h,"params--\x3e",p,f,n);const v=new K.a(t||window.web3.currentProvider),w=u===m?[p,f,n]:[p,f,n,v.utils.toHex(_),g],b=bt.a.encode(w),y=new v.eth.Contract(ct.c,e);if(r.a.isEthTokenAddress(c,h))return y.methods.swap(s,h,i,b).send({from:a,value:i});{const t=await y.methods.swap(s,h,i,b).estimateGas({from:a,gas:5e6});return r.a.log("gasLimit",t),y.methods.swap(s,h,i,b).send({from:a,gas:t})}}(o,c,i,s.recipient,n,a?e:i);l&&this.onTransferSucceed(i,n,t,l)}catch(t){console.error(t),this.$notify.error({title:t.message,duration:3e3})}},async RealTransfer(){if(!H.b.value)return void j.a.$emit("connectWallet",!0);const{fromChainID:t,toChainID:e,selectMakerConfig:a}=w.u;if(4!==t&&44!==t&&H.a.value.walletPayload.networkId.toString()!==r.a.getMetaMaskNetworkId(t).toString())if(H.a.value.walletType===X.a)try{if(!await r.a.ensureWalletNetwork(t))return}catch(t){return void r.a.showMessage(t.message,"error")}else{const t=At[H.a.value.walletType];if(t)return void t(H.a.value.walletPayload.provider)}if(!this.transferLoading){if(r.a.isExecuteXVMContract())return this.transferLoading=!0,await this.handleXVMContract(),void(this.transferLoading=!1);if(this.transferLoading=!0,3===t||33===t)this.zkTransfer();else if(14===t||514===t)this.zk2Transfer();else if(9===t||99===t)this.loopringTransfer();else if(12===t||512===t)this.zkspaceTransfer();else{const s=a.fromChain.tokenAddress,i=a.recipient,n=Y.getTransferTValue();if(!n.state)return this.$notify.error({title:n.error,duration:3e3}),void(this.transferLoading=!1);if(4===e||44===e)return void this.transferToStarkNet(n.tAmount);const o=H.a.value.walletPayload.walletAddress;if(4===t||44===t)return void this.starknetTransfer(n.tAmount);if(8===t||88===t)return void this.imxTransfer(n.tAmount);if(11===t||511===t)return void this.dydxTransfer(n.tAmount);if(r.a.isEthTokenAddress(t,s))this.ethTransfer(n.tAmount);else{if(H.a.value.walletType===ht.l){const e=new K.a,a=new e.eth.Contract(ct.b,s),r=await a.methods.transfer(i,e.utils.toHex(n.tAmount)).encodeABI();return kt(t,o,s,0,r).then(e=>{this.onTransferSucceed(o,n.tAmount,t,e)})}const e=function(t,e){if(3!==t&&33!==t&&4!==t&&44!==t){if(H.b.value){const t=new(new K.a(H.a.value.walletPayload.provider).eth.Contract)(ct.b,e);return t||null}return null}}(t,s);if(!e)return void this.$notify.error({title:"Failed to obtain contract information, please refresh and try again",duration:3e3});let r=await lt(t,a,o,i,n.tAmount);2===t&&r<21e3&&(r=21e3);const c={from:o,gas:r};e.methods.transfer(i,n.tAmount).send(c,(e,a)=>{this.transferLoading=!1,e?this.$notify.error({title:e.message,duration:3e3}):this.onTransferSucceed(o,n.tAmount,t,a)})}}}},onTransferSucceed(t,e,a,s){const{selectMakerConfig:i}=w.u;ot.UserTransferReady(t,i.recipient,e,a,s);let r=s;8!==a&&88!==a||(r="TransferId: "+r),this.$notify.success({title:r,duration:3e3}),this.$emit("stateChanged","3")},closerButton(){this.$emit("stateChanged","1")}},async mounted(){const{selectMakerConfig:t,transferValue:e}=w.u,{fromChain:a,toChain:s}=t,i=U.getToAmountFromUserAmount(new h.a(e).plus(new h.a(t.tradingFee)),t,!1);if(r.a.isExecuteXVMContract()){const e=a.symbol,r=s.symbol,n=t.slippage;if(e!==r){const t=18===s.decimals?5:3,a=(await Object(M.b)(i,e,r)).toFixed(t),o=new h.a(a).multipliedBy(1-n/1e4).toFixed(t);this.expectValue=`${o} ~ ${a} ${r}`}else this.expectValue=`${i} ${r}`}else this.expectValue=`${i} ${t.fromChain.symbol}`}},Pt=(a("f6b7"),Object(at.a)(Tt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"confirm-box"},[e("CommBoxHeader",{style:t.isMobile?"":"margin-bottom:30px;",attrs:{back:t.closerButton}},[t._v("Confirm")]),t._l(t.confirmData,(function(a){return e("div",{key:a.title,staticClass:"confirm-item",style:{marginBottom:"22px"}},[e("div",{staticClass:"item-left"},[e("SvgIconThemed",{attrs:{icon:a.icon}}),e("span",{staticClass:"left-txt"},[t._v(t._s(a.title))]),e("o-tooltip",{attrs:{placement:"topLeft"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{staticClass:"o-tip"},[t._v(t._s(a.notice))])]},proxy:!0}],null,!0)},[a.notice?e("HelpIcon",{attrs:{size:"sm"}}):t._e()],1)],1),e("div",{staticClass:"item-right"},[a.desc?e("span",[t._v(t._s(a.desc))]):t._e()]),a.descInfo&&a.descInfo.length>0?e("div",{staticClass:"descBottom"},t._l(a.descInfo,(function(a,s){return e("div",{key:a.no,staticStyle:{"margin-bottom":"1rem"}},[e("span",{staticStyle:{width:"40px",display:"inline-block"}},[t._v(" "+t._s(0===s?"Send":"")+" ")]),a.fromTip?e("o-tooltip",{attrs:{placement:"topLeft"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{staticClass:"o-tip"},[t._v(t._s(a.fromTip))])]},proxy:!0}],null,!0)},[e("span",{staticStyle:{"margin-left":"0.7rem","margin-right":"0.7rem",color:"#df2e2d",width:"90px",display:"inline-block","text-align":"center"}},[t._v(" "+t._s(a.from)+" ")])]):e("span",{staticStyle:{"margin-left":"0.7rem","margin-right":"0.7rem",color:"#df2e2d",width:"90px",display:"inline-block","text-align":"center"}},[t._v(" "+t._s(a.from)+" ")]),t._v(" To "),e("o-tooltip",{attrs:{placement:"topLeft"},scopedSlots:t._u([{key:"titleDesc",fn:function(){return[e("span",{staticClass:"o-tip"},[t._v(t._s(a.toTip))])]},proxy:!0}],null,!0)},[e("span",{staticStyle:{"margin-left":"0.7rem",color:"#df2e2d",width:"90px",display:"inline-block","text-align":"center"}},[t._v(" "+t._s(a.to)+" ")])]),e("span",{staticStyle:{"margin-left":"0.3rem","vertical-align":"-25%"}},[e("SvgIconThemed",{attrs:{icon:a.icon}})],1)],1)})),0):t._e(),a.haveSep?e("div",{staticStyle:{"border-bottom":"2px dashed rgba(0, 0, 0, 0.2)",height:"43px"}}):t._e()])})),t.isStarkNetChain?e("div",{staticStyle:{padding:"0 30px",display:"flex","text-align":"left","padding-top":"8px"}},[e("SvgIconThemed",{staticStyle:{"margin-right":"10px"},attrs:{icon:"info"}}),e("span",{staticStyle:{color:"#df2e2d",flex:"1"}},[t._v("Starknet is still in alpha version, the transaction on it maybe will be done in 1~2 hours. Orbiter keeps your funds safe.")])],1):t._e(),e("div",{staticStyle:{padding:"0 30px",display:"flex","text-align":"left","padding-top":"8px"}},[e("SvgIconThemed",{staticStyle:{"margin-right":"10px"},attrs:{icon:"info"}}),e("span",{staticStyle:{color:"#df2e2d",flex:"1"}},[t._v("Please do not modify the transaction or remove the last four digits on the transfer amount in your wallet as this will cause the transaction to fail.")])],1),e("CommBtn",{staticClass:"select-wallet-dialog",on:{click:t.RealTransfer}},[t.transferLoading?e("CommLoading",{staticStyle:{margin:"auto"},attrs:{loadingColor:"white",width:"2rem",height:"2rem"}}):e("span",{staticClass:"wbold s16",staticStyle:{"letter-spacing":"0.1rem"}},[t._v("CONFIRM AND SEND")])],1)],2)}),[],!1,null,"6535eaeb",null).exports),St={name:"Proceed",props:{detailData:{type:Object,required:!1,default:null}},components:{SvgIconThemed:i.k,CommBoxHeader:i.a},computed:{isCompleted(){return!this.detailData&&!(1===this.$store.state.proceedState||2===this.$store.state.proceedState)&&5===this.$store.state.proceedState},isFailed(){return this.detailData&&!(1===this.detailData.state||0===this.detailData.state)},isMobile:()=>w.e.value,isProcee(){return this.detailData?1==this.detailData.state:5!==this.$store.state.proceedState},isLightMode(){return"light"===this.$store.state.themeMode},FromChainName(){const t=this.getChainId();return r.a.chainName(t)},toChainName(){const t=this.getChainId(!1);return r.a.chainName(t)},FromTx(){if(this.detailData){const{fromTxHash:t,fromChainID:e}=this.detailData;return 8==e||88==e?"TransferId: "+t:"Tx:"+r.a.shortAddress(t)}const{proceedState:t,proceeding:e}=this.$store.state;return 1===t?"View on Explore":8==w.u.fromChainID||88==w.u.fromChainID?"TransferId: "+e.userTransfer.txid:"Tx:"+r.a.shortAddress(e.userTransfer.txid)},ToTx(){if(this.detailData){const{state:t,toTxHash:e,toChainID:a}=this.detailData;return 0!==t?"View on Explore":8===a||88===a?"TransferId: "+e:"Tx:"+r.a.shortAddress(e)}const{toChainID:t}=w.u,{proceedState:e,proceeding:a}=this.$store.state;return e<4?"View on Explore":8===t||88===t?"TransferId: "+a.makerTransfer.txid:"Tx:"+r.a.shortAddress(a.makerTransfer.txid)},proceedData(){const{selectMakerConfig:t,fromCurrency:e}=w.u;if(this.detailData){var a,s;return[{title:"Timestamp",desc:null===(a=new Date(this.detailData.fromTimeStamp+" UTC+0").toLocaleString())||void 0===a||null===(s=a.replace(/\..*/g,""))||void 0===s?void 0:s.replace("T"," ")},{title:"Value",desc:this.detailData.userAmount.toString()+" "+this.detailData.tokenName}]}return[{title:"Timestamp",desc:r.a.transferTimeStampToTime(this.$store.state.proceeding.userTransfer.timeStamp)},{title:"Value",desc:(this.$store.state.proceeding.userTransfer.amount/10**t.fromChain.decimals).toFixed(6)+" "+e}]}},methods:{showChainIcon(t=!0){return this.detailData?this.$env.chainIcon[this.detailData[(t?"from":"to")+"ChainID"]]:this.$env.chainIcon[w.u[(t?"from":"to")+"ChainID"]]},getChainId(t=!0){let e;return e=this.detailData?this.detailData[(t?"from":"to")+"ChainID"]:w.u[(t?"from":"to")+"ChainID"],e},switchNetWork(t=!0){r.a.ensureWalletNetwork(this.getChainId(t))},async goToExplorFrom(){let t;if(this.detailData){const{accountExploreUrl:e}=this.$env,{fromChainID:a}=this.detailData,s=this.detailData.fromTxHash;return t=this.$env.txExploreUrl[a]+s,88==a&&(t=e[a]),9!=this.detailData.fromChainID&&99!=this.detailData.fromChainID||(t=0!=this.detailData.blockNum&&0!=this.detailData.indexInBlock&&null!=this.detailData.blockNum&&null!=this.detailData.indexInBlock?this.$env.txExploreUrl[this.detailData.fromChainID]+`${this.detailData.blockNum}-${this.detailData.indexInBlock}`:this.$env.txExploreUrl[this.detailData.fromChainID]+s+"-transfer"),void window.open(t,"_blank")}const{fromChainID:e}=w.u,{accountExploreUrl:a,txExploreUrl:s}=this.$env;if(1===this.$store.state.proceedState){let s=w.K.coinbase;4!=e&&44!=e||(s=w.K.starkNet.starkNetAddress),t=a[e]+s,8!=e&&88!=e||(t=a[e])}else{const i=this.$store.state.proceeding.userTransfer.txid;t=s[e]+i+(9==e||99==e?"-transfer":""),88==e&&(t=a[e])}window.open(t,"_blank")},async goToExplorTo(){let t={};t=this.detailData?this.detailData:w.u;const{toChainID:e,state:a}=t,{accountExploreUrl:s,txExploreUrl:i}=this.$env;let r=null;const n=()=>{let t=w.K.coinbase;4!=e&&44!=e||(t=w.K.starkNet.starkNetAddress),r=s[e]+t,8!=e&&88!=e||(r=s[e])};if(this.detailData)if(0!==a)n();else{const t=this.detailData.toTxHash;r=i[e]+t,88==e&&(r=s[e]),9!=this.detailData.toChainID&&99!=this.detailData.toChainID||(r=0!=this.detailData.blockNum&&0!=this.detailData.indexInBlock&&null!=this.detailData.blockNum&&null!=this.detailData.indexInBlock?this.$env.txExploreUrl[this.detailData.toChainID]+`${this.detailData.blockNum}-${this.detailData.indexInBlock}`:this.$env.txExploreUrl[this.detailData.toChainID]+t+"-transfer")}else if(this.$store.state.proceedState<4)n();else{const t=this.$store.state.proceeding.makerTransfer.txid;r=i[e]+t+(9==e||99==e?"-transfer":""),88==e&&(r=s[e])}window.open(r,"_blank")},closerButton(){if(this.detailData){const t=this.$route;localStorage.setItem("last_page_before_history",JSON.stringify({path:t.path,params:t.params,query:t.query})),Object(w.j)(),this.$router.push({path:"/history"}),this.$emit("stateChanged","4")}else this.$store.commit("updateProceedTxID",null),this.$emit("stateChanged","1")}}},xt=(a("ed20"),{name:"Bridge",components:{Transfer:st,Confirm:Pt,Proceed:Object(at.a)(St,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"proceed-box"},[e("CommBoxHeader",{attrs:{back:t.closerButton}},[t._v(t._s(t.detailData?t.isFailed?"Transcation Failed":"Detail":t.isCompleted?"Completed":"Processing"))]),e("div",{staticClass:"ProceedContent"},[t._l(t.proceedData,(function(a){return e("div",{key:a.title,staticClass:"contentItem"},[e("span",{staticClass:"item-title",staticStyle:{width:"100px","text-align":"left"}},[t._v(t._s(a.title))]),a.desc||a.descInfo?e("span",{staticClass:"item-value right"},[t._v(t._s(a.desc))]):e("CommLoading",{staticClass:"right",attrs:{width:"1.2rem",height:"1.2rem"}})],1)})),e("div",{staticClass:"chainDataContent"},[t.isMobile?e("div",{staticClass:"middle-icon-abs",staticStyle:{"z-index":"2"}},[t.isProcee?e("div",{class:[{"rocket-box-bg":t.isProcee}]}):e("div",{class:["rocket-box"]},[t.detailData?e("SvgIconThemed",{staticStyle:{width:"24px",height:"24px"},attrs:{iconName:"succeed"}}):e("SvgIconThemed",{attrs:{icon:"satellite",size:"xs"}})],1)]):t._e(),e("div",{staticClass:"item left",staticStyle:{"z-index":"3"}},[e("div",{staticClass:"chain-name from"},[e("span",[t._v(t._s(t.FromChainName))])]),e("div",{staticClass:"chain"},[e("svg-icon",{staticStyle:{width:"56px",height:"56px"},attrs:{iconName:t.showChainIcon()}})],1),e("div",{staticClass:"tx from-tx",on:{click:t.goToExplorFrom}},[t.detailData?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-success"}}):[1===t.$store.state.proceedState?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_2"}}):2===t.$store.state.proceedState?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_3"}}):e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-success"}})],e("span",[t._v(t._s(t.FromTx))])],2),e("div",{staticClass:"switch-btn",on:{click:()=>t.switchNetWork()}},[t._v(" Switch Network ")])]),e("div",{staticClass:"middle-icon"},[t.isMobile?t._e():e("div",{class:["rocket-box",{"rocket-box-bg":t.isProcee}]},[t.isProcee||t.detailData?t._e():e("SvgIconThemed",{attrs:{icon:"satellite",size:"xs"}})],1),t.isMobile?t._e():e("div",{staticClass:"rocket-line-box"},[e("SvgIconThemed",{staticStyle:{width:"161px",height:"14px","margin-top":"10px"},attrs:{icon:"rocket-line"}})],1)]),e("div",{staticClass:"item right",staticStyle:{"z-index":"3"}},[e("div",{staticClass:"chain-name to"},[e("span",[t._v(t._s(t.toChainName))])]),e("div",{staticClass:"chain"},[e("svg-icon",{staticStyle:{width:"56px",height:"56px"},attrs:{iconName:t.showChainIcon(!1)}})],1),e("div",{staticClass:"tx to-tx",on:{click:t.goToExplorTo}},[t.detailData?[0===t.detailData.state?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-success"}}):1===t.detailData.state?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_2"}}):e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-error"}})]:[4===t.$store.state.proceedState?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_3"}}):5===t.$store.state.proceedState?e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"status-success"}}):e("svg-icon",{staticClass:"status-icon",attrs:{color:"#df2e2d",iconName:"history_1"}})],e("span",[t._v(t._s(t.ToTx))])],2),e("div",{staticClass:"switch-btn",on:{click:()=>t.switchNetWork(!1)}},[t._v(" Switch Network ")])])])],2)],1)}),[],!1,null,"4efdec33",null).exports,ToggleBtn:i.l,SvgIconThemed:i.k,CommBtn:i.b},computed:{isLightMode(){return"light"===this.$store.state.themeMode},isMobile:()=>w.e.value,isSenderTab:()=>"Sender"===w.c.value,status:()=>w.b.value,showDetail:()=>w.d.isShowHistory,detailData:()=>w.d.historyInfo},methods:{toggleTab(){Object(w.a)("1"),Object(w.t)()},openUrl(t){1===t?window.open("https://docs.orbiter.finance/makersystem","_blank"):2===t?window.open("https://discord.com/invite/hJJvXP7C73","_blank"):99===t&&window.open("https://testmaker.orbiter.finance/","_blank")},changeState(t){"1"!==t&&"2"!==t&&"3"!==t?w.d.isShowHistory=!1:this.status!==t&&Object(w.a)(t)}}}),Dt=(a("47a3"),Object(at.a)(xt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bridage-page"},[[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMobile&&"1"===t.status&&!t.showDetail,expression:"!isMobile && status === '1' && !showDetail"}],staticClass:"sub-tabs"},[e("ToggleBtn",{on:{input:t.toggleTab}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isSenderTab&&"1"===t.status&&!t.showDetail,expression:"isSenderTab && status === '1' && !showDetail"}],staticClass:"sender-box"},[e("keep-alive",[e("Transfer",{on:{stateChanged:t.changeState}})],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isSenderTab&&"1"===t.status&&!t.showDetail,expression:"!isSenderTab && status === '1' && !showDetail"}],staticClass:"maker-box"},[t._m(0),e("div",{staticClass:"maker-title"},[t._v("Early Access")]),e("div",{staticClass:"maker-content"},[t._m(1),e("div",[e("div",{staticClass:"maker-line"},[e("SvgIconThemed",{staticClass:"maker-icon",attrs:{icon:"docs"}}),e("span",{class:t.isLightMode?"maker-link":"maker-link-dark",on:{click:function(e){return t.openUrl(1)}}},[t._v("Docs for Market Maker")])],1),e("div",{staticClass:"maker-line"},[e("SvgIconThemed",{staticClass:"maker-icon",attrs:{icon:"discord"}}),e("span",{class:t.isLightMode?"maker-link":"maker-link-dark",on:{click:function(e){return t.openUrl(2)}}},[t._v("Get Help in Orbiter Discord")])],1)]),e("div",{staticClass:"bottom-box"},[e("CommBtn",{staticClass:"bottom-btn",on:{click:function(e){return t.openUrl(99)}}},[t._v(" Learn More on Testnet ")])],1)])])],e("div",{directives:[{name:"show",rawName:"v-show",value:"1"!==t.status||t.showDetail,expression:"status !== '1' || showDetail"}],staticClass:"center",staticStyle:{width:"100%",height:"100%"}},[t.showDetail?e("Proceed",{attrs:{detailData:t.detailData},on:{stateChanged:t.changeState}}):["2"===t.status?e("Confirm",{on:{stateChanged:t.changeState}}):t._e(),"3"===t.status?e("Proceed",{on:{stateChanged:t.changeState}}):t._e()]],2)],2)}),s,!1,null,"26ce74c5",null));e.default=Dt.exports},ede9:function(t,e,a){"use strict";var s={props:{href:{type:String}}},i=(a("d224"),a("2877")),r=Object(i.a)(s,(function(){return(0,this._self._c)("a",{staticClass:"link",attrs:{href:this.href,target:"_blank"}})}),[],!1,null,"50e45a0d",null);e.a=r.exports},ee70:function(t,e,a){},efdb:function(t,e,a){"use strict";a("f191")},f191:function(t,e,a){},f23e:function(t,e,a){"use strict";var s={props:{timestamp:{type:Number,require:!0}},computed:{timeDiff(){return this.timestamp?function(t){if(void 0===t)return;const e=Date.parse(new Date)/1e3-t;return e<60?"just now":e>=60&&e<3600?Math.floor(e/60)+"m ago":e>=3600&&e<86400?Math.floor(e/3600)+"h ago":e>=86400&&e<2592e3?Math.floor(e/86400)+"d ago":Math.floor(e/2592e3)+"mon ago"}(this.timestamp):"-"}}},i=(a("1f91"),a("2877")),r=Object(i.a)(s,(function(){var t=this._self._c;return t("div",{staticClass:"time-diff"},[t("span",{staticClass:"icon"}),this._v(" "+this._s(this.timeDiff)+" ")])}),[],!1,null,"294b3275",null);e.a=r.exports},f3e2:function(t,e,a){},f690:function(t,e,a){"use strict";var s=a("d186");const i=[{label:"Arbitrum",value:"arbitrum"},{label:"Optimism",value:"optimism"},{label:"zkSync",value:"zksync"},{label:"Arbitrum Nova",value:"arbitrumnova"}];var r={props:{customRollups:{type:Array},value:{require:!0},onlySelect:{default:!1}},computed:{isMobile:()=>s.e.value,rollups(){return Array.isArray(this.customRollups)?this.customRollups:i},current:{get(){return this.value},set(t){this.$emit("rollup-change",t)}}},methods:{onItemClick(t){this.value!==t.value&&this.$emit("rollup-change",t.value)}}},n=(a("5d38"),a("2877")),o=Object(n.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"select-rollups-wrapper"},[t.isMobile||t.onlySelect?e("el-select",{attrs:{"no-data-text":"No Items"},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}},t._l(t.rollups,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):e("div",{staticClass:"rollups"},t._l(t.rollups,(function(a){return e("div",{key:a.value,staticClass:"rollup",class:{active:t.value===a.value},on:{click:function(e){return t.onItemClick(a)}}},[t._v(" "+t._s(a.label)+" ")])})),0)],1)}),[],!1,null,null,null);e.a=o.exports},f6b7:function(t,e,a){"use strict";a("2ffc")},fa91:function(t,e,a){"use strict";a("47e3");var s={data:()=>({isError:!1}),props:{name:{type:String,require:!0},width:{type:Number,default:22},height:{type:Number,default:22},chains:{type:Boolean,default:!1}},computed:{src(){if(this.isError)return a("31d6");if(!this.name)return"#";const t=this.name.replace(/\s+/g,"").toLowerCase();return["apex"].includes(t)?a("4fe9"):this.chains?`${this.$env.l2BaseUrl}/img/chains/${t}.png`:`${this.$env.l2BaseUrl}/img/dapps/${t}.png`}},watch:{name(){this.isError=!1}},methods:{onError(){this.isError=!0}}},i=(a("a7a6"),a("2877")),r=Object(i.a)(s,(function(){return(0,this._self._c)("img",{staticClass:"dapp-logo",attrs:{width:this.width,height:this.width,src:this.src},on:{error:this.onError}})}),[],!1,null,null,null);e.a=r.exports},fbc4:function(t,e,a){"use strict";a("f3e2")},fc29:function(t,e,a){"use strict";a("97aa")},feeb:function(t,e,a){}}]);